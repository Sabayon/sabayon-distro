# ChangeLog for dev-util/valgrind
# Copyright 1999-2009 Gentoo Foundation; Distributed under the GPL v2
# $Header: /var/cvsroot/gentoo-x86/dev-util/valgrind/ChangeLog,v 1.107 2009/10/23 19:17:39 griffon26 Exp $

  23 Oct 2009; Maurice van der Pot <griffon26@gentoo.org>
  valgrind-3.5.0.ebuild, +files/valgrind-3.5.0-local-labels.patch:
  Removed now unnecessary patch for no-multilib ppc64 and valgrind-3.5.0, as it
  failed to apply (bug #289892 by Alexis Ballier <aballier@gentoo.org>). Added
  another local labels patch to make things compile on ppc32 and ppc64.

*valgrind-3.5.0 (14 Oct 2009)

  14 Oct 2009; Maurice van der Pot <griffon26@gentoo.org>
  valgrind-3.4.1.ebuild, +valgrind-3.5.0.ebuild,
  +files/valgrind-3.5.0-respect-LDFLAGS.patch:
  Undid stabilization of valgrind-3.4.1 for ppc64. It was stabilized despite
  Joe Jezak's comment that it shouldn't be (bug #278534 comment 3) and Joe
  agreed it should be undone.
  Added valgrind-3.5.0 as requested in bug #282607.

  31 Aug 2009; Brent Baude <ranger@gentoo.org> valgrind-3.4.1.ebuild:
  Marking valgrind-3.4.1 ppc64 for bug 278534

  08 Aug 2009; Maurice van der Pot <griffon26@gentoo.org>
  valgrind-3.4.1-r1.ebuild, +files/valgrind-3.4.1-local-labels.patch,
  +files/valgrind-3.4.1-respect-LDFLAGS.patch:
  Added patches to fix ignoring of LDFLAGS (bug #279194 by Arfrever Frehtes
  Taifersar Arahesis <arfrever@gentoo.org>) and compilation error with GCC 4.4
  and -O3 (bug #260802 by Ryan Hill <dirtyepic@gentoo.org>).

*valgrind-3.4.1-r1 (26 Jul 2009)

  26 Jul 2009; Maurice van der Pot <griffon26@gentoo.org>
  +valgrind-3.4.1-r1.ebuild, +files/valgrind-3.4.1-glibc-2.10.1.patch,
  +files/valgrind-3.4.1-x86_64-ldso-strlen.patch:
  Added -r1 with fix for bug #274771. Thanks to Nikos Chantziaras
  <realnc@gmail.com> for the bug report and the reference to a patch.  
  Also added mpi use flag to support debugging MPI programs (bug #258832).

  22 Jul 2009; Joseph Jezak <josejx@gentoo.org> valgrind-3.4.1.ebuild:
  Marked ppc stable for bug #278534.

  22 Jul 2009; Christian Faulhammer <fauli@gentoo.org>
  valgrind-3.4.1.ebuild:
  stable x86, bug 278534

  21 Jul 2009; <chainsaw@gentoo.org> valgrind-3.4.1.ebuild:
  Marked stable on AMD64 as requested by Olivier Crete <tester@gentoo.org>
  in bug #278534.

*valgrind-3.4.1 (03 Mar 2009)

  03 Mar 2009; Maurice van der Pot <griffon26@gentoo.org>
  +valgrind-3.4.1.ebuild:
  Added bug-fix release valgrind-3.4.1.

  13 Jan 2009; Tobias Scherbaum <dertobi123@gentoo.org>
  valgrind-3.4.0.ebuild:
  ppc stable, bug #245317

  12 Jan 2009; Brent Baude <ranger@gentoo.org> valgrind-3.4.0.ebuild:
  Marking valgrind-3.4.0 ppc64 for bug 245317

  10 Jan 2009; Markus Meier <maekke@gentoo.org> valgrind-3.4.0.ebuild:
  amd64/x86 stable, bug #245317

*valgrind-3.4.0 (05 Jan 2009)

  05 Jan 2009; Maurice van der Pot <griffon26@gentoo.org>
  -files/valgrind-3.2.1-only64bit.patch,
  -files/valgrind-3.2.3-glibc-2.6.patch,
  -files/valgrind-3.2.3-glibc-2.7.patch,
  -files/valgrind-3.2.3-unhandled-instr-amd64.patch,
  -files/valgrind-3.3.0-massif-cplusplus.patch, -valgrind-3.2.3.ebuild,
  -valgrind-3.2.3-r1.ebuild, -valgrind-3.3.0.ebuild,
  -valgrind-3.3.0-r1.ebuild, +valgrind-3.4.0.ebuild:
  Added valgrind-3.4.0, which has a fix for CVE-2008-4865 (bug #245317).
  Removed old ebuilds.

*valgrind-3.3.1-r1 (13 Dec 2008)

  13 Dec 2008; Maurice van der Pot <griffon26@gentoo.org>
  +files/valgrind-3.3.1-glibc-2.9.patch, +valgrind-3.3.1-r1.ebuild:
  Added patch to support glibc-2.9, submitted by Bartosz Szreder
  <cfiend@talent.edu.pl> in bug #250570.

  24 Aug 2008; Markus Rothe <corsair@gentoo.org> valgrind-3.3.1.ebuild:
  Stable on ppc64; bug #234526

  16 Aug 2008; nixnut <nixnut@gentoo.org> valgrind-3.3.1.ebuild:
  Stable on ppc wrt bug 234526

  15 Aug 2008; Markus Meier <maekke@gentoo.org> valgrind-3.3.1.ebuild:
  amd64/x86 stable, bug #234526

  13 Aug 2008; Maurice van der Pot <griffon26@gentoo.org>
  +files/valgrind-3.3.1-local-labels.patch, valgrind-3.3.1.ebuild:
  Use local labels in inline asm to prevent duplicate definition of symbols
  when optimisation is turned on (bug #234644 reported by Olivier Huber
  <oli.huber@gmail.com>).

  27 Jul 2008; Olivier Crête <tester@gentoo.org> valgrind-3.3.0.ebuild,
  valgrind-3.3.0-r1.ebuild, valgrind-3.3.1.ebuild:
  Add --without-mpicc because auto-deps are bad and some MPI implementation
  provide static libraries which are not PIC, bug #202684

*valgrind-3.3.1 (06 Jun 2008)

  06 Jun 2008; Maurice van der Pot <griffon26@gentoo.org>
  +valgrind-3.3.1.ebuild:
  Version bump to 3.3.1 (closes bug #225081).

*valgrind-3.3.0-r1 (18 May 2008)

  18 May 2008; Maurice van der Pot <griffon26@gentoo.org>
  +files/valgrind-3.3.0-massif-cplusplus.patch, +valgrind-3.3.0-r1.ebuild:
  Added a patch to make massif usable for C++. Requested by Fernando J. Pereda
  <ferdy@gentoo.org> in bug #221067.

  25 Mar 2008; Maurice van der Pot <griffon26@gentoo.org>
  valgrind-3.3.0.ebuild:
  Added a warning for ppc & ppc64 that valgrind will not work if glibc
  doesn't have debug info (bug #214065).

  14 Jan 2008; Tobias Scherbaum <dertobi123@gentoo.org>
  valgrind-3.2.3-r1.ebuild:
  ppc. stable

*valgrind-3.3.0 (13 Dec 2007)

  13 Dec 2007; Maurice van der Pot <griffon26@gentoo.org>
  -files/valgrind-3.2.1-glibc-2.5.patch,
  -files/valgrind-3.2.1-pkg-config.patch,
  +files/valgrind-3.3.0-only64bit.patch, -valgrind-3.2.0.ebuild,
  -valgrind-3.2.1.ebuild, +valgrind-3.3.0.ebuild:
  Added valgrind-3.3.0 as requested by Giacomo Graziosi <g.graziosi@gmail.com>
  in bug #202131. This release reintroduces helgrind, contains a revamped massif
  and much more. Also removed old ebuilds.

  01 Dec 2007; Markus Rothe <corsair@gentoo.org> valgrind-3.2.3-r1.ebuild:
  Stable on ppc64

  17 Nov 2007; Maurice van der Pot <griffon26@gentoo.org>
  +files/valgrind-3.2.3-glibc-2.7.patch, valgrind-3.2.3-r1.ebuild:
  Added glibc-2.7 suppression file and build fix as requested in bug #199001 by
  <nedrandersoff@yahoo.com>. Thanks to Florian Maier <floma@onlinehome.de> for
  the patch.

  06 Nov 2007; Chris Gianelloni <wolf31o2@gentoo.org>
  valgrind-3.2.3-r1.ebuild:
  Stable on amd64 wrt bug #189396.

*valgrind-3.2.3-r1 (20 Oct 2007)

  20 Oct 2007; Maurice van der Pot <griffon26@gentoo.org>
  +valgrind-3.2.3-r1.ebuild:
  Copied 3.2.3 ebuild to 3.2.3-r1, because there were still people who hadn't
  remerged 3.2.3 and spent time looking for a solution to bug #189396.

  26 Aug 2007; Maurice van der Pot <griffon26@gentoo.org>
  +files/valgrind-3.2.3-unhandled-instr-amd64.patch, valgrind-3.2.3.ebuild:
  Added fix for bug #189396 reported by Tiziano Müller <dev-zero@gentoo.org>.

  17 Jul 2007; Maurice van der Pot <griffon26@gentoo.org>
  +files/valgrind-3.2.3-glibc-2.6.patch, valgrind-3.2.3.ebuild:
  Added support for glibc-2.6, which closes bug 185551 reported by
  Billy DeVincentis <billydv1@verizon.net>

  05 May 2007; nixnut <nixnut@gentoo.org> valgrind-3.2.3.ebuild:
  Stable on ppc wrt bug 176707

  04 May 2007; Daniel Gryniewicz <dang@gentoo.org> valgrind-3.2.3.ebuild:
  Marked stable on amd64 for bug #176707

  02 May 2007; Andrej Kacian <ticho@gentoo.org> valgrind-3.2.3.ebuild:
  Stable on x86, security bug #176707.

  01 May 2007; Markus Rothe <corsair@gentoo.org> valgrind-3.2.3.ebuild:
  Stable on ppc64; bug #176707

  04 Mar 2007; Maurice van der Pot <griffon26@gentoo.org>
  valgrind-3.2.3.ebuild:
  Fixed invalid reference to patch for ppc64 without multilib (bug #169216).

*valgrind-3.2.3 (19 Feb 2007)

  19 Feb 2007; Maurice van der Pot <griffon26@gentoo.org>
  +files/valgrind-3.2.3-pkg-config.patch, +valgrind-3.2.3.ebuild:
  Added new valgrind release 3.2.3 (closes bug #163509).

  13 Feb 2007; Chris Gianelloni <wolf31o2@gentoo.org> valgrind-3.2.1.ebuild:
  Stable on amd64/ppc wrt bug #166121 due to glibc-2.5 being stable there, too.

  13 Feb 2007; Markus Rothe <corsair@gentoo.org> valgrind-3.2.1.ebuild:
  Stable on ppc64; bug #166121

  11 Feb 2007; Raúl Porcel <armin76@gentoo.org> valgrind-3.2.1.ebuild:
  x86 stable wrt bug 166121

  03 Nov 2006; Caleb Tennis <caleb@gentoo.org>
  -files/valgrind-3.1.0-amd64-nomultilib-fix.patch, -valgrind-3.1.1.ebuild:
  remove old version

  24 Oct 2006; Maurice van der Pot <griffon26@gentoo.org>
  +files/valgrind-3.2.1-glibc-2.5.patch, valgrind-3.2.1.ebuild:
  Made valgrind build with glibc 2.5 installed. Thanks to Ed Catmur 
  <ed@catmur.co.uk> for reporting the problem and looking up the 
  appropriate patches (bug #152297).

*valgrind-3.2.1 (17 Sep 2006)

  17 Sep 2006; Maurice van der Pot <griffon26@gentoo.org>
  +files/valgrind-3.2.1-only64bit.patch,
  +files/valgrind-3.2.1-pkg-config.patch, +valgrind-3.2.1.ebuild:
  Bumped version and added patch to correct pkg-config output, fixing 
  bug #147904 reported by Priit Laes <amd@store20.com>. 
  This is also the first valgrind ebuild marked ~ppc64.

  25 Aug 2006; <blubb@gentoo.org> valgrind-3.2.0.ebuild:
  stable on amd64

  19 Aug 2006; Torsten Veller <tove@gentoo.org> valgrind-3.2.0.ebuild:
  Stable on x86 (#144393)

  14 Jun 2006; Maurice van der Pot <griffon26@gentoo.org>
  valgrind-3.1.1.ebuild, valgrind-3.2.0.ebuild:
  Now replacing -O3 with -O2 if compiling with gcc 3.3.x for bug #129776
  reported by Fabian Groffen <grobian@gentoo.org>. Also corrected location 
  of docs for valgrind-3.2.0.

  11 Jun 2006; Maurice van der Pot <griffon26@gentoo.org>
  valgrind-3.2.0.ebuild:
  Fixed bug #136047 as proposed by Jean Bréfort <jean.brefort@normalesup.org>
  and added a blocking dep for callgrind as part of a fix for bug #136303
  reported by Daniel Franke <franke.daniel@gmail.com>.

  09 Jun 2006; Maurice van der Pot <griffon26@gentoo.org>
  -files/valgrind-2.2.0-current-macro-clash.patch,
  -files/valgrind-2.2.0-no-exec-stack.patch,
  -files/valgrind-2.4.0-pie-fix.patch,
  -files/valgrind-2.4.1-dont-trample-cflags.patch,
  -files/valgrind-2.4.1-static-const.patch,
  -files/valgrind-3.0.0-pie-fix.patch, -files/valgrind-3.0.1-mfence.patch,
  -files/valgrind-3.0.1-pic-fix.patch, -valgrind-2.2.0-r2.ebuild,
  -valgrind-2.4.0.ebuild, -valgrind-2.4.1.ebuild, -valgrind-3.0.0.ebuild,
  -valgrind-3.0.1.ebuild, -valgrind-3.0.1-r1.ebuild, -valgrind-3.1.0.ebuild,
  valgrind-3.1.1.ebuild:
  Removed a bunch of old ebuilds and fixed bug #131987 reported by Marti 
  Raudsepp <marti@juffo.org> in valgrind-3.1.1.

*valgrind-3.2.0 (07 Jun 2006)

  07 Jun 2006; Luca Barbato <lu_zero@gentoo.org> +valgrind-3.2.0.ebuild:
  New version

  11 Apr 2006; Joshua Jackson <tsunam@gentoo.org> valgrind-3.1.1.ebuild:
  stable on x86; bug #129127

*valgrind-3.1.1 (29 Mar 2006)

  29 Mar 2006; Maurice van der Pot <griffon26@gentoo.org>
  +valgrind-3.1.1.ebuild:
  Added version 3.1.1 of valgrind, which is purely a bug fixing release.
  Requested by Nuno Lopes <nunoplopes@sapo.pt> in bug #127766.

  07 Mar 2006; Maurice van der Pot <griffon26@gentoo.org>
  +files/valgrind-3.1.0-amd64-nomultilib-fix.patch, valgrind-3.1.0.ebuild:
  Added patch created by Marco Matthies <gentoo-bugzilla@moinmarco.de> for 
  bug #114407 reported by Scott Robert Ladd <gentoo@coyotegulch.com>. This
  problem occurred only on amd64 without multilib.

  03 Dec 2005; Maurice van der Pot <griffon26@gentoo.org>
  valgrind-3.1.0.ebuild:
  Filtering out -fstack-protector again, because otherwise valgrind would need
  __guard and __stack_smash_handler from glibc, which it doesn't link to.
  Closes bug #114347 reported by Graham Murray <graham@gmurray.org.uk>

*valgrind-3.1.0 (02 Dec 2005)

  02 Dec 2005; Maurice van der Pot <griffon26@gentoo.org>
  +valgrind-3.1.0.ebuild:
  Added version 3.1.0 of valgrind. To summarise, AMD64 support is much better,
  PPC32 support is now usable, and this is the first release in the 3.0 line
  that supports core dumping for programs running under valgrind.

*valgrind-3.0.1-r1 (06 Nov 2005)

  06 Nov 2005; Maurice van der Pot <griffon26@gentoo.org>
  +files/valgrind-3.0.1-mfence.patch, +files/valgrind-3.0.1-pic-fix.patch,
  +valgrind-3.0.1-r1.ebuild:
  The mfence patch fixes the failed assertion mentioned by Brian Tarricone 
  <bjt23@cornell.edu> in bug #101402. The pic patch was supplied by Ned Ludd
  <solar@gentoo.org> to fix bug #111233.

*valgrind-3.0.1 (30 Aug 2005)

  30 Aug 2005; Maurice van der Pot <griffon26@gentoo.org>
  +valgrind-3.0.1.ebuild:
  Added version 3.0.1 of valgrind. This one is built without PIE as it seems to
  cause trouble from time to time. This should fix bug #102157 reported by Dizzy
  <dizzy@roedu.net>.

  04 Aug 2005; Herbie Hopkins <herbs@gentoo.org> valgrind-3.0.0.ebuild:
  Marked ~amd64 wrt bug #101386.

  04 Aug 2005; Jory A. Pratt <anarchy@gentoo.org> valgrind-3.0.0.ebuild:
  Marked ~ppc and added -* as bug report requested

*valgrind-3.0.0 (04 Aug 2005)
*valgrind-2.4.1 (04 Aug 2005)

  04 Aug 2005; Maurice van der Pot <griffon26@gentoo.org>
  +files/valgrind-2.4.1-dont-trample-cflags.patch,
  +files/valgrind-2.4.1-static-const.patch,
  +files/valgrind-3.0.0-pie-fix.patch, +valgrind-2.4.1.ebuild,
  +valgrind-3.0.0.ebuild:
  Added two new releases of valgrind. 2.4.1 is mainly a stability release 
  while 3.0.0 is a release that is much more portable to platforms other 
  than x86. It should work on amd64 already.
  I also reevaluated all patches/restrictions that were present in earlier
  ebuilds, removed the ones that seem no longer necessary and commented 
  the ones that do.

  28 Jun 2005; Maurice van der Pot <griffon26@gentoo.org>
  -files/valgrind-2.1.1-pic.patch,
  -files/valgrind-2.1.2-kernel-headers.patch,
  -files/valgrind-configure.in-2.6.diff, -valgrind-2.0.0.ebuild,
  -valgrind-2.1.0.ebuild, -valgrind-2.1.1.ebuild, -valgrind-2.1.1-r1.ebuild,
  -valgrind-2.1.2.ebuild, -valgrind-2.2.0.ebuild, -valgrind-2.2.0-r1.ebuild,
  valgrind-2.4.0.ebuild:
  Marked valgrind 2.4.0 stable on x86.
  Removed old valgrind ebuilds.

  25 May 2005; Maurice van der Pot <griffon26@gentoo.org>
  valgrind-2.4.0.ebuild:
  Added back ppc support.

  12 Apr 2005; Maurice van der Pot <griffon26@gentoo.org>
  +files/valgrind-2.4.0-pie-fix.patch, valgrind-2.4.0.ebuild:
  Included some fixes that should enable building with PIE,
  even with a hardened gcc profile; this fixes bug #87598
  reported by Olaf Freyer <aaron@cs.tu-berlin.de>
  Also prepared the ebuild for ppc support.

  28 Mar 2005; Maurice van der Pot <griffon26@gentoo.org>
  valgrind-2.4.0.ebuild:
  Adapted to changes in configure, fixing bug #87010. Thanks to 
  Olivier <ocastan@noos.fr> for identifying the problem.

  24 Mar 2005; Maurice van der Pot <griffon26@gentoo.org> :
  Had repoman fix Manifest file

  24 Mar 2005; Maurice van der Pot <griffon26@gentoo.org>
  valgrind-2.4.0.ebuild:
  Corrected url to source 

*valgrind-2.4.0 (24 Mar 2005)

  24 Mar 2005; Maurice van der Pot <griffon26@gentoo.org>
  valgrind-2.2.0-r2.ebuild, +valgrind-2.4.0.ebuild:
  Added ebuild for new version 2.4.0. Temporarily dropped ~ppc until 
  a ppc version is released.
  Marked 2.2.0-r2 stable on x86

  22 Feb 2005; Maurice van der Pot <griffon26@gentoo.org>
  +files/valgrind-2.2.0-current-macro-clash.patch, valgrind-2.2.0-r2.ebuild:
  Fixed compilation against 2.6.10 kernel headers closing bug #82629 
  reported by Dennis Schridde <lindevel@gmx.net>.

*valgrind-2.2.0-r2 (13 Feb 2005)

  13 Feb 2005; Maurice van der Pot <griffon26@gentoo.org>
  +valgrind-2.2.0-r2.ebuild:
  Prevent valgrind from ignoring CFLAGS in environment to allow building
  with hardened gcc (see bug #75789 reported by Dominik Schäfer
  <schaedpq@despammed.com>)
  Make valgrind less dependent on actual name of kernel headers as
  suggested by Mihai Limbasan <mihailim@gmail.com> in bug #80176.

*valgrind-2.2.0-r1 (19 Dec 2004)

  19 Dec 2004; Maurice van der Pot <griffon26@gentoo.org>
  +files/valgrind-2.2.0-no-exec-stack.patch, +valgrind-2.2.0-r1.ebuild:
  Remove nested function to enable running without an executable stack.
  Fixes segmentation fault on nptl systems as reported by Pedro Morales 
  <pemorale@dcc.uchile.cl> in bug #74716.

  28 Oct 2004; Maurice van der Pot <griffon26@gentoo.org> metadata.xml:
  Taken up maintenance of valgrind.

  23 Sep 2004; Caleb Tennis <caleb@gentoo.org> valgrind-2.2.0.ebuild:
  Marking x86 stable

  03 Sep 2004; Luca Barbato <lu_zero@gentoo.org> valgrind-2.2.0.ebuild:
  Stray ebuild got committed in place, replaced with the correct one.

  03 Sep 2004; Luca Barbato <lu_zero@gentoo.org> valgrind-2.2.0.ebuild:
  Minor fix, thanks again to Olaf Freyer <aaron@cs.tu-berlin.de> for reporting it

*valgrind-2.2.0 (02 Sep 2004)

  02 Sep 2004; Luca Barbato <lu_zero@gentoo.org> +valgrind-2.2.0.ebuild:
  New Version, experimental ppc support available

  07 Aug 2004; Luca Barbato <lu_zero@gentoo.org> valgrind-2.1.2.ebuild:
  Fix for the system headers wierdness, thanks to Olaf Freyer
  <aaron@cs.tu-berlin.de>

  24 Jul 2004; Michael Sterrett <mr_bones_@gentoo.org> valgrind-2.1.2.ebuild:
  don't rdepend on autoconf; error message; doc tidy

*valgrind-2.1.2 (22 Jul 2004)

  22 Jul 2004; Luca Barbato <lu_zero@gentoo.org>
  +files/valgrind-2.1.2-kernel-headers.patch, +valgrind-2.1.2.ebuild:
  New version, thanks to Olaf Freyer <aaron@cs.tu-berlin.de> for the 
  early patch.

  10 Jul 2004; Tom Martin <slarti@gentoo.org> valgrind-2.1.1-r1.ebuild:
  Marking -amd64, valgrind is ix86 specific.

  01 Jul 2004; Jeremy Huddleston <eradicator@gentoo.org>
  valgrind-2.0.0.ebuild, valgrind-2.1.0.ebuild, valgrind-2.1.1-r1.ebuild,
  valgrind-2.1.1.ebuild:
  virtual/glibc -> virtual/libc

*valgrind-2.1.1-r1 (17 Jun 2004)

  17 Jun 2004; <solar@gentoo.org> valgrind-2.1.1-r1.ebuild,
  files/valgrind-2.1.1-pic.patch:
  added patch from bug 54068 to make valgrind pic aware

