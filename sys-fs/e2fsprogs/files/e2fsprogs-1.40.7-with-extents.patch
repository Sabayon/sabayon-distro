diff -Nurp e2fsprogs-1.40.7/config/asm_types.h e2fsprogs/config/asm_types.h
--- e2fsprogs-1.40.7/config/asm_types.h	2007-07-04 19:58:39.000000000 +0000
+++ e2fsprogs/config/asm_types.h	1970-01-01 00:00:00.000000000 +0000
@@ -1,8 +0,0 @@
-#define __S8_TYPEDEF __signed__ char
-#define __U8_TYPEDEF unsigned char
-#define __S16_TYPEDEF __signed__ short
-#define __U16_TYPEDEF unsigned short
-#define __S32_TYPEDEF __signed__ int
-#define __U32_TYPEDEF unsigned int
-#define __S64_TYPEDEF __signed__ long long
-#define __U64_TYPEDEF unsigned long long
diff -Nurp e2fsprogs-1.40.7/configure e2fsprogs/configure
--- e2fsprogs-1.40.7/configure	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/configure	2008-02-29 11:23:57.000000000 +0000
@@ -684,7 +684,6 @@ CHECKER_CMT
 LIB_EXT
 STATIC_LIB_EXT
 PROFILED_LIB_EXT
-SWAPFS_CMT
 DEBUGFS_CMT
 IMAGER_CMT
 RESIZER_CMT
@@ -1371,7 +1370,6 @@ Optional Features:
   --enable-jbd-debug  	  enable journal debugging
   --enable-blkid-debug    enable blkid debugging
   --enable-testio-debug   enable the use of the test I/O manager for debugging
-  --disable-swapfs    	  disable support of legacy byte-swapped filesystems
   --disable-debugfs   	  disable support of debugfs program
   --disable-imager   	  disable support of e2image program
   --disable-resizer   	  disable support of e2resize program
@@ -4000,32 +3998,6 @@ else
 
 fi
 
-# Check whether --enable-swapfs was given.
-if test "${enable_swapfs+set}" = set; then
-  enableval=$enable_swapfs; if test "$enableval" = "no"
-then
-	SWAPFS_CMT=#
-	echo "Disabling swapfs support"
-else
-	SWAPFS_CMT=
-	cat >>confdefs.h <<\_ACEOF
-#define ENABLE_SWAPFS 1
-_ACEOF
-
-	echo "Enabling swapfs support"
-fi
-
-else
-  SWAPFS_CMT=
-echo "Enabling swapfs support by default"
-cat >>confdefs.h <<\_ACEOF
-#define ENABLE_SWAPFS 1
-_ACEOF
-
-
-fi
-
-
 # Check whether --enable-debugfs was given.
 if test "${enable_debugfs+set}" = set; then
   enableval=$enable_debugfs; if test "$enableval" = "no"
@@ -16035,11 +16007,11 @@ CHECKER_CMT!$CHECKER_CMT$ac_delim
 LIB_EXT!$LIB_EXT$ac_delim
 STATIC_LIB_EXT!$STATIC_LIB_EXT$ac_delim
 PROFILED_LIB_EXT!$PROFILED_LIB_EXT$ac_delim
-SWAPFS_CMT!$SWAPFS_CMT$ac_delim
 DEBUGFS_CMT!$DEBUGFS_CMT$ac_delim
 IMAGER_CMT!$IMAGER_CMT$ac_delim
 RESIZER_CMT!$RESIZER_CMT$ac_delim
 FSCK_PROG!$FSCK_PROG$ac_delim
+FSCK_MAN!$FSCK_MAN$ac_delim
 _ACEOF
 
   if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 76; then
@@ -16109,7 +16081,6 @@ _ACEOF
 ac_delim='%!_!# '
 for ac_last_try in false false false false false :; do
   cat >conf$$subs.sed <<_ACEOF
-FSCK_MAN!$FSCK_MAN$ac_delim
 E2INITRD_PROG!$E2INITRD_PROG$ac_delim
 E2INITRD_MAN!$E2INITRD_MAN$ac_delim
 PKG_CONFIG!$PKG_CONFIG$ac_delim
@@ -16194,7 +16165,7 @@ LIBOBJS!$LIBOBJS$ac_delim
 LTLIBOBJS!$LTLIBOBJS$ac_delim
 _ACEOF
 
-  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 83; then
+  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 82; then
     break
   elif $ac_last_try; then
     { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
diff -Nurp e2fsprogs-1.40.7/configure.in e2fsprogs/configure.in
--- e2fsprogs-1.40.7/configure.in	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/configure.in	2008-02-29 11:23:57.000000000 +0000
@@ -367,26 +367,6 @@ fi
 echo "Disabling testio debugging by default"
 )
 dnl
-dnl handle --enable-swapfs
-dnl
-AC_ARG_ENABLE([swapfs],
-[  --disable-swapfs    	  disable support of legacy byte-swapped filesystems],
-if test "$enableval" = "no"
-then
-	SWAPFS_CMT=#
-	echo "Disabling swapfs support"
-else
-	SWAPFS_CMT=
-	AC_DEFINE(ENABLE_SWAPFS)
-	echo "Enabling swapfs support"
-fi
-,
-SWAPFS_CMT=
-echo "Enabling swapfs support by default"
-AC_DEFINE(ENABLE_SWAPFS)
-)
-AC_SUBST(SWAPFS_CMT)
-dnl
 dnl handle --enable-debugfs
 dnl
 AC_ARG_ENABLE([debugfs],
diff -Nurp e2fsprogs-1.40.7/debian/changelog e2fsprogs/debian/changelog
--- e2fsprogs-1.40.7/debian/changelog	2008-02-29 04:45:09.000000000 +0000
+++ e2fsprogs/debian/changelog	2008-02-29 11:23:57.000000000 +0000
@@ -1,37 +1,3 @@
-e2fsprogs (1.40.7-1) unstable; urgency=low
-
-  * New upstream release
-  * tune2fs no longer will remove the sparse_super feature, as it is dangerous
-  * Update/clarified various man pages
-  * Fix bug where large nodes were not getting fully copied when
-      shrinking a fileystem using resize2fs.
-  * Allow mke2fs and tune2fs to manipulate the large_file feature flag
-  * Suppress fsck's warning message about an old-style fstab if the
-      fstab file is empty.  (Closes: #468176)
-  * E2fsck will no longer clear the large_files feature flag
-      automatically when there are no more large files in the system.
-  * Fix blkid code to avoid segfaulting when a device mapper volume
-      disappears out from under it.
-  * Enhance e2fsck's reporting of unsupported filesystem features
-  * Fix dumpe2fs command syntax for explicit superblock/blocksize parameters
-  * Teach tune2fs to clear the resize_inode feature flag
-  * Fix libuuid1 postinstall script to explicitly pass 100 to UID_MIN
-      and GID_MIN, to make it clear we are not trying to allocate an
-      uid/gid in the globally reserved range.  (Closes: #466929)
-  * Fix memory leak in ext2fs_alloc_block()
-  * Teach blkid to recognize LVM2 physical volumes
-  * Add support to dumpe2fs, mke2fs, and tune2fs for specifying and
-      printing the RAID stride and stripe width.
-  * Add support for new superblock fields to debugfs's set_super_value command
-  * Teach debugfs to print "mostly-printable" xattr strings, such as is
-      used by SELinux.
-  * Add support in fsck to ignore mounted filesystems when given the -M option
-  * Fix uuidd so it creates the pid file with the correct pid number
-  * Update Czech, Dutch, Polish, Sweedish, and Vietnamese translations
-      from the Translation Project.
-
- -- Theodore Y. Ts'o <tytso@mit.edu>  Thu, 28 Feb 2008 22:27:39 -0500
-
 e2fsprogs (1.40.6-1) unstable; urgency=low
 
   * New upstream release
@@ -175,7 +141,7 @@ e2fsprogs (1.40.2-1) unstable; urgency=l
 
   * New upstream release
   * e2fsck: Fix salvage_directory when the last entry's rec_len is too big
-  * Update Turkish, Polish, Dutch, and Vietnamese PO files from the
+  * Update Turkish, Polish, Dutch, and Vietnamese PO files from the 
       Translation Project
   * Fix a bug which would cause e2fsck segfault on very badly damaged
       filesystems
@@ -262,7 +228,7 @@ e2fsprogs (1.39+1.40-WIP-2007.04.07+dfsg
     (Closes: #399155)
   * Remove -WIP language from the debian copyright file.  (Closes: #415560)
   * Remove check in e2fsck which required EA's in inodes to be sorted
-    (We should get this back-ported to the stable branch since
+    (We should get this back-ported to the stable branch since 
     filesystems with large inodes will have EA's erroneously
     removed, which will for example toast an SELinux system.)
 
@@ -275,7 +241,7 @@ e2fsprogs (1.39+1.40-WIP-2007.04.07+dfsg
   * Add debugging code (via the COMERR_DEBUG env. variable) to the
       com_err library
   * Fix dump_unused segfault in debugfs when a filesystem is not open
-  * Add versioned dependency in Debian's shlibs for libblkid.
+  * Add versioned dependency in Debian's shlibs for libblkid.  
       (Closes: #413208)
   * Fix memory leak in blkid library.  (Closes: #413661)
   * Let the debugfs lcd command work even if a filesystem is not open
@@ -306,7 +272,7 @@ e2fsprogs (1.39+1.40-WIP-2006.11.14+dfsg
   * Make sure mk_cmds and compile_et work even in strange locales
   * Fix type-punning bug which caused dumpe2fs to crash on the Arm platform
     (Closes: #397044)
-  * Add explanatory message to badblocks that -n and -w are mutually
+  * Add explanatory message to badblocks that -n and -w are mutually 
     exclusive.  (Closes: #371869)
   * New +dfsg source tarball that has useful documentation REALLY
     removed to satisfy the DFSG License Nazi's.  (Closes: #390664)
@@ -393,7 +359,7 @@ e2fsprogs (1.39-1) unstable; urgency=low
 e2fsprogs (1.38+1.39-WIP-2006.04.09-2) unstable; urgency=low
 
   * Resize2fs automatically detects the previously used RAID stride
-    parameter so that resized filesystems can be more optimally laid
+    parameter so that resized filesystems can be more optimally laid 
     out for RAID filesystems.
   * Fix mke2fs -cc and e2fsck -cc (Closes: #366017)
   * Fix initrd script to fix failure with 2.4 kernels (Closes: #364516)
@@ -419,7 +385,7 @@ e2fsprogs (1.38+1.39-WIP-2006.04.09-1) u
       (Closes: #360661, #360317)
   * Fix bug which caused mke2fs -j to fail with an EBUSY error.  (Closes
       #360652)
-
+  
  -- Theodore Y. Ts'o <tytso@mit.edu>  Sun,  9 Apr 2006 23:04:15 -0400
 
 e2fsprogs (1.38+1.39-WIP-2006.03.29-2) unstable; urgency=low
@@ -457,7 +423,7 @@ e2fsprogs (1.38+1.39-WIP-2006.03.29-1) u
     filesystem checks are done when the system is running on battery power.
   * Print an explanation when skipping a check due being on battery
     (Closes: #350306)
-  * Update French translation (Closes: #341911, #300871, #316604, #316782,
+  * Update French translation (Closes: #341911, #300871, #316604, #316782, 
      #330789)
 
  -- Theodore Y. Ts'o <tytso@mit.edu>  Wed, 29 Mar 2006 20:37:27 -0500
@@ -558,7 +524,7 @@ e2fsprogs (1.38-1.1) unstable; urgency=l
   * Fix for changes to texi2html, patch by Matt Kraai
     (Closes: #317862, #320389)
   * version build-depend on texi2html, won't work with older one anymore
-
+	
  -- Blars Blarson <blarson@blars.org>  Fri,  5 Aug 2005 04:46:54 +0000
 
 e2fsprogs (1.38-1) unstable; urgency=low
@@ -568,8 +534,8 @@ e2fsprogs (1.38-1) unstable; urgency=low
     type aliasing rules on newer gcc compilers.  (Addresses Red Hat
     Bugzilla ##161183.)
   * Fix minor typo's in tune2fs man page.
-  * Mke2fs will refuse to create filesystems greater than 2**31-1 blocks,
-    unless forced, to avoid kernel bugs that still need to be fixed as
+  * Mke2fs will refuse to create filesystems greater than 2**31-1 blocks, 
+    unless forced, to avoid kernel bugs that still need to be fixed as 
     of this release.
   * Update French, Dutch, Polish, Swedish, and Turkish translations.
 
@@ -768,7 +734,7 @@ e2fsprogs (1.36rc1-1) unstable; urgency=
         the x86 doesn't exist, but it is useful on other architectures.
   * Fix bug in debugfs where kill_file would lead to errors when deleting
         devices and symlinks.  (Sourceforge Bugs #954741 and #957244)
-  * Fix bug in the blkid library when detecting the ocfs1 filesystem
+  * Fix bug in the blkid library when detecting the ocfs1 filesystem 
   * Updated Italian translation file
   * E2fsck will now recover from a journal containing illegal blocks.
 
@@ -786,7 +752,7 @@ e2fsprogs (1.35-8) unstable; urgency=low
        when there is a trailing '/' in the directory name.  (Closes: #272943)
   * Make sure the configure files are newer than configure.in the
        debian/rules file so that a dpkg-source created patch won't
-       trigger an attempt rebuild of the configure script.
+       trigger an attempt rebuild of the configure script.  
        (Closes: #272558, #273242)
   * Make sure /usr/lib/e2initrd_helper is in the e2fsprogs package.
        (Closes: #272698, #272728, #273161, #273163)
@@ -840,12 +806,12 @@ e2fsprogs (1.35-6) unstable; urgency=low
   * Update the UUID library man pages
   * Fix a Y8.8888K potential problem with the uuid library
   * Minor updates to the german translation
-  * Clarified/corrected the copyright statements of the UUID and blkid
+  * Clarified/corrected the copyright statements of the UUID and blkid 
     libraries in the Debian copyright files.
-  * Added sanity check to the blkid library so that if current time is
+  * Added sanity check to the blkid library so that if current time is 
     less than last time a device is verified, force a reverification since
     it means the system time is not trustworthy.
-
+	
  -- Theodore Y. Ts'o <tytso@mit.edu>  Tue,  4 May 2004 16:23:06 -0400
 
 e2fsprogs (1.35-5) unstable; urgency=low
@@ -877,12 +843,12 @@ e2fsprogs (1.35-4) unstable; urgency=low
   * Make the debugfs command's link command set the filetype information
     correctly.
   * Update the Polish, Swedish, and Turkish translations
-  * Add an -o option to the blkid program which allows the user to
+  * Add an -o option to the blkid program which allows the user to 
     control the output format of blkid.
   * Fixed and cleaned up the tune2fs and blkid man pages (Closes: #238741)
   * Improve UUID generation algorithm (use all 14 bits in the clock sequence)
   * Change the license on the UUID library to be 3-clause BSD.
-  * Remove the only-partially-implemented -p option to blkid.
+  * Remove the only-partially-implemented -p option to blkid.	
 
  -- Theodore Y. Ts'o <tytso@mit.edu>  Sun, 21 Mar 2004 20:17:03 -0500
 
@@ -907,7 +873,7 @@ e2fsprogs (1.35-1) unstable; urgency=low
   * New upstream version.
   * Fix "badblocks -t random". (Closes: #234828)
   * Fix "e2fsck -k".  (Closes: #234993)
-  * Change badblock's default number of blocks tested at once from
+  * Change badblock's default number of blocks tested at once from 
     16 to 64.  (Closes: #232240)
   * ss-dev and comerr-dev now use a versioned dependency for libss2 and
     libcomerr2, respectively.  (Closes: #235280)
@@ -916,7 +882,7 @@ e2fsprogs (1.35-1) unstable; urgency=low
 
 e2fsprogs (1.34+1.35-WIP-2004.01.31-2) unstable; urgency=low
 
-  * Add a new -k option to e2fsck which keeps the existing badblocks
+  * Add a new -k option to e2fsck which keeps the existing badblocks 
     list when using the -c option.  (Closes: #229103)
   * Update debugfs to support new large major/minor device numbers
     supported by Linux 2.6.  (Closes: #865289)
@@ -924,7 +890,7 @@ e2fsprogs (1.34+1.35-WIP-2004.01.31-2) u
   * Add -mieee when compiling with GCC on an Alpha.
   * Fix e2fsck preen mode messages using pass 1B/C/D.
   * Fix the debugfs man page.  (Closes: #232406)
-  * Fix the ext2fs.h header file to work correctly with C++.
+  * Fix the ext2fs.h header file to work correctly with C++. 
   * e2fsck and debugfs now correctly deals with symlinks that have
     extended attribute information, such as those created by SE Linux.
     (Closes: #232328)
@@ -934,7 +900,7 @@ e2fsprogs (1.34+1.35-WIP-2004.01.31-2) u
 
 e2fsprogs (1.34+1.35-WIP-2004.01.31-1) unstable; urgency=medium
 
-  * Fix byte swap bugs in e2fsck that caused the journal backup location
+  * Fix byte swap bugs in e2fsck that caused the journal backup location 
     in the superblock and symlinks created by SE Linux to be cleared
     by e2fsck on big-endian machines.  (Closes: #228723)
   * Chattr now stops processing options when it sees '--'.  (Closes: #225188)
@@ -951,7 +917,7 @@ e2fsprogs (1.34+1.35-WIP-2004.01.31-1) u
   * Fix bug in uuid library when there is no network card and the
     library is generating a time-based uuid.  The random MAC address
     was not correctly generated to be a multicast address.
-  * Install the filefrag program.
+  * Install the filefrag program.  
   * Don't try to compile filefrag on non-Linux platforms. (Closes: #226456)
   * Minor manual page clarifications (Closes: #222606, #214920)
 
@@ -983,7 +949,7 @@ e2fsprogs (1.34+1.35-WIP-2003.12.07-1) u
 
   * Added regression tests for mke2fs and dumpe2fs.
   * Support 2.6 kernel header files.  (Closes: #221778)
-  * Fix bug which could a core dump if a non-existent LABEL or UUID
+  * Fix bug which could a core dump if a non-existent LABEL or UUID 
     specifier is passed to e2fsck or tune2fs.
   * Fix handling of corrupted indirect blocks in the bad block inode.
   * If the number of mounts until the next forced filesystem check is less
@@ -1035,7 +1001,7 @@ e2fsprogs (1.34+1.35-WIP-2003.08.21-1) u
     the file when it is uninstalled.  (Closes: #204019)
   * Remove unneeded files in debian directory: blkid-dev.substvars and
     e2fsprogs-bf.lintian-overrides.  (Closes: #203914)
-  * Support "noopt" in DEB_BUILD_OPTIONS instead of "debug".
+  * Support "noopt" in DEB_BUILD_OPTIONS instead of "debug".  
     (Closes: #203914)
 
  -- Theodore Y. Ts'o <tytso@mit.edu>  Thu, 21 Aug 2003 01:47:58 -0400
@@ -1098,14 +1064,14 @@ e2fsprogs (1.33+1.34-WIP-2003.05.21-2) u
   * Fix spelling error in e2fsck
   * Add workaround for intl library on Darwin
   * Fix gcc -Wall nitpicks
-  * Round down the default size of the filesystem for mke2fs and
+  * Round down the default size of the filesystem for mke2fs and 
     resize2fs to be a multiple of the pagesize to work around a potential
     Linux kernel bug
   * Fix bug in mke2fs where it could die with a floating exception if
     the device does not support the BLKSSZGET ioctl (Closes: #196734)
   * Add conflicts against older versions of sysvinit that don't correctly
     handle an exit code that has the bit #2 set.  (Closes: #183675)
-  * Badblocks will attempt to use O_DIRECT if it is safe to do so.
+  * Badblocks will attempt to use O_DIRECT if it is safe to do so.  
     (Closes: #198006)
   * Use symbolic links for fsck.ext{2,3} and mkfs.ext{2,3} in the udeb
     package since busybox tar can't deal with hard links.  (Closes: #196508)
@@ -1114,7 +1080,7 @@ e2fsprogs (1.33+1.34-WIP-2003.05.21-2) u
 
 e2fsprogs (1.33+1.34-WIP-2003.05.21-1) unstable; urgency=low
 
-  * Fix problems with compiling e2fsprogs with NLS support on woody
+  * Fix problems with compiling e2fsprogs with NLS support on woody 
     (Closes: #193372)
   * Remove the extraneous de-utf.po file.
   * Add get-text to build-depends.
@@ -1123,8 +1089,8 @@ e2fsprogs (1.33+1.34-WIP-2003.05.21-1) u
   * Fix bug which caused us to accidentally include the EVMS plugin in
     the e2fsprogs package (which doesn't work, but causes confusing messages
     to show up when the evms client is started).
-  * If the hardware sector size of a device is larger than the default
-    blocksize, use the hardware sector size as the blocksize when creating
+  * If the hardware sector size of a device is larger than the default 
+    blocksize, use the hardware sector size as the blocksize when creating 
     a filesystem, to solve problems with s/390 DASD's.
   * Add a shared library dependency to libuuid to libblkid (Closes: #194094)
   * Add initial implementation of a dump_unused command (Closes: #79164)
@@ -1133,11 +1099,11 @@ e2fsprogs (1.33+1.34-WIP-2003.05.21-1) u
 
 e2fsprogs (1.33-5) unstable; urgency=low
 
-  * Clarify blocksize units when displaying messages in resize2fs, and
-    support using suffixes (sectors, kilobytes, megabites, gigabytes)
+  * Clarify blocksize units when displaying messages in resize2fs, and 
+    support using suffixes (sectors, kilobytes, megabites, gigabytes) 
     to the size parameter to indicate units.  (Closes: #189814)
   * Fix debugfs core-dumping problem caused by getopt.  (Works around: #192834)
-  * Add package dependency to shlibs for comerr to indicate support
+  * Add package dependency to shlibs for comerr to indicate support 
     for kth compatibility.  (Closes: #193096)
 
  -- Theodore Y. Ts'o <tytso@mit.edu>  Tue, 13 May 2003 23:45:08 -0400
@@ -1166,13 +1132,13 @@ e2fsprogs (1.33-2) unstable; urgency=low
 
   * Fix up NLS support
      - Fix message abbreviations support (i.e., @g --> group)
-     - Update to gettext 0.11.5
+     - Update to gettext 0.11.5 
      - Add Czech translation
      - Install message catalogs
      - Other miscellaneous NLS bug fixes
-  * Add new debugfs command, imap, which prints the location of a
+  * Add new debugfs command, imap, which prints the location of a 
     specified inode in the inode table.
-  * Put /usr/include/com_err.h in comerr-dev instead of e2fslibs-dev.
+  * Put /usr/include/com_err.h in comerr-dev instead of e2fslibs-dev.  
     (Closes: #191899)
   * Add support for OV-style continuations in compile_et.  (Closes: #191900)
 
@@ -1193,7 +1159,7 @@ e2fsprogs (1.32+1.33-WIP-2003.04.14-1) u
   * Change e2fsck to bracket its progress bar output with ctrl-A and ctrl-B
     characters, so that logsave -s can omit writing the progress bar output
     to the log file.
-  * Avoid printing the version banner for mke2fs if the -q option is
+  * Avoid printing the version banner for mke2fs if the -q option is 
     specified.  (Closes: #172716)
 
  -- Theodore Y. Ts'o <tytso@mit.edu>  Wed, 16 Apr 2003 15:27:20 -0400
@@ -1223,11 +1189,11 @@ e2fsprogs (1.32+1.33-WIP-2003.03.30-2) u
   * Make the random number generator more paranoid about potentially buggy
     /dev/random devices.
   * The badblocks program now flushes its output as it discovers bad blocks.
-  * Imported bug fixes to EVMS driver from the EVMS 2.0 tree.  Fixed a
+  * Imported bug fixes to EVMS driver from the EVMS 2.0 tree.  Fixed a 
     few potential hangs, and eliminated a file descriptor leak.
   * E2fsck now updates the global free block and inode counters from
     the block group specific counters quietly.  This is needed for an
-    experimental kernel patch which improves SMP scalability by not
+    experimental kernel patch which improves SMP scalability by not 
     locking the entire filesystem during block or inode allocation; if
     the filesystem is not unmoutned cleanly, the global counts may not
     be accurate.
@@ -1240,7 +1206,7 @@ e2fsprogs (1.32+1.33-WIP-2003.03.30-2) u
 e2fsprogs (1.32+1.33-WIP-2003.03.30-1) unstable; urgency=low
 
   * Change compile_et to generate header files that use <et/com_err.h>
-    instead of <com_err.h>, so the current version of the header file
+    instead of <com_err.h>, so the current version of the header file 
     is used.  Remove legacy K&R, varargs, and pre-POSIX signal support.
   * Fix (one more time!) Apple Darwin port in blkid/getsize.c
 
@@ -1320,7 +1286,7 @@ e2fsprogs (1.28-3) unstable; urgency=low
   * Don't use special cflags at configure time when building the special
     mips non-pic lib, in yet another attempt to fix my adaptation of the
     patch from the mips team.  Also added --disable-nls which was present
-    in the original patch.
+    in the original patch.  
   * Remove debian/BUILD-MIPS on clean.
   * Install mkinitrd script as scripts/e2fsprogs, not as
     scripts/e2fsprogs.mkinitrd.
@@ -1367,10 +1333,10 @@ e2fsprogs (1.27+1.28-WIP-0626-1) experim
     Florian Lohoff, adapted for style consistency (Closes: #145432).
   * Removed presumably-useless and presumably-broken CFLAGS propagation.
     If someone misses that, I'll add ${CFLAGS} to --ccopts.
-
+  
   * Switched to debhelper v4.
   * Added ${misc:Depends} to all packages' Depends field.
-
+  
   * Fixed typos in fsck.8, added an example for clarity (Closes:
     #145044).
   * Fixed typo in chattr manpage (Closes: #141938).
@@ -1419,7 +1385,7 @@ e2fsprogs (1.26-1) unstable; urgency=low
   * This uploads fixes 10 bugs, including data-corruption problems, and
     adds much to the ease of maintainance and problem tracking.  Good
     choice for woody.
-
+  
   * New upstream release (Closes: #106622, #116975, #118443, #119624,
     #120171, #120077, #129828, #132764).
   ** Fixes for data-corruption bugs not reported to the BTS: e2fsck
@@ -1467,7 +1433,7 @@ e2fsprogs (1.24a-1) unstable; urgency=hi
     they add virtually no risk.  Support for raw image files will be of
     great help to debug users' problems.  Urgency set to "high" to make
     sure this version gets released with woody.
-
+  
   ** Fsck prints a warning message if now valid filesystems are passed to
     it. (Closes: #107458).
   ** Fsck -A will not try to interpret device names for filesystems which
@@ -1499,7 +1465,7 @@ e2fsprogs (1.22-1) unstable; urgency=low
 
 e2fsprogs (1.21+1.22-WIP-0620-1) unstable; urgency=low
 
-  * New upstream pre-release, critical for big-endian platforms
+  * New upstream pre-release, critical for big-endian platforms 
     (Closes: #101752).
   * Re-applied hurd fix again.
   * Build e2fsprogs-bf with -Os to gain more space.
@@ -1623,7 +1589,7 @@ e2fsprogs (1.19+1.20-WIP-0514-1) unstabl
     for a fix.  Well finally 3.0.23 is buggy, leave this for later.
   * Avoid to call ldconfig at "make install" time, too costly.
   * Get rid in control files of references to never-released standalone
-    lib files (split attempted in 1997/98).
+    lib files (split attempted in 1997/98).  
   * Bumped Standards-Version to 3.5.4.
 
  -- Yann Dirson <dirson@debian.org>  Tue, 15 May 2001 14:28:39 +0200
@@ -1788,7 +1754,7 @@ e2fsprogs (1.14-2) unstable; urgency=low
   * Undid the <linux/types.h> changes.
   * Changed "rmdir -p" invocations in debian/rules into "-rmdir -p" to
     turn around changed behaviour in fileutils_4.0.
-
+  
  -- Yann Dirson <dirson@debian.org>  Fri, 12 Mar 1999 23:50:47 +0100
 
 e2fsprogs (1.14-1) unstable; urgency=low
@@ -1839,9 +1805,9 @@ e2fsprogs (1.12-2.1) unstable; urgency=l
   * Non-maintainer upload
     config.guess and config.sub files modified, to recognize a Arm
     architecture.
-
+      
  -- Turbo Fredriksson <turbo@debian.org>  Thu, 13 Aug 1998 19:15:56 -0400
-
+       
 e2fsprogs (1.12-2) unstable; urgency=low
 
   * Really install e2label.8 manpage.
@@ -2005,9 +1971,9 @@ e2fsprogs (1.10-7) unstable; urgency=HIG
 
   * Turned "#if (__GLIBC__ == 2)" into "#if 1" to turn around missing llseek()
     prototype in libc_5.4.33-5 as well as libc6.
-
+    
  -- Yann Dirson <dirson@univ-mlv.fr>  Tue, 21 Oct 1997 12:53:27 +0200
-
+ 
 e2fsprogs (1.10-6) unstable; urgency=low
 
   * Official libc6 patches from Ted.
@@ -2020,13 +1986,13 @@ e2fsprogs (1.10-6) unstable; urgency=low
     next release.
 
  -- Yann Dirson <dirson@univ-mlv.fr>  Wed, 24 Sep 1997 10:46:00 +0200
-
+ 
 e2fsprogs (1.10-5.1) experimental; urgency=low
 
   * Applied patch from Ted for libc6 compatibility, for test purpose.
 
  -- Yann Dirson <dirson@univ-mlv.fr>  Thu, 11 Sep 1997 09:09:42 +0200
-
+ 
 e2fsprogs (1.10-5) unstable; urgency=medium
 
   * Switched back to libc5 because of possible bug in libc6-2.0.4-provided
@@ -2111,7 +2077,7 @@ e2fsprogs (1.01-1) unstable; urgency=low
   * upgraded to latest upstream version, to 1.05 from 1.04
   * gzip manpages
   * minor changes to debian.rules
-
+    
  -- Michael Meskes <meskes@debian.org>  Fri, 18 Oct 1996 00:00:00 +0000
 
 e2fsprogs (1.04-1) unstable; urgency=low
@@ -2124,7 +2090,7 @@ e2fsprogs (1.04-1) unstable; urgency=low
  -- Michael Nonweiler <mrn20@cam.ac.uk>  Sun, 23 Jun 1996 00:00:00 +0000
 
 e2fsprogs (1.02-1) unstable; urgency=low
-
+  
   * upgraded to latest upstream version, to 1.02 from 1.01
   * copied "configure" usr_prefix change (see below), into configure.in
   * updated debian.control file, added Pre-Depends field
@@ -2138,9 +2104,9 @@ e2fsprogs (1.02-1) unstable; urgency=low
  -- Michael Nonweiler <mrn20@cam.ac.uk>  Tue, 5 Mar 1996 00:00:00 +0000
 
 e2fsprogs (1.01-1) unstable; urgency=low
-
-  * removed debugging symbols from libs and enabled more optimization
-    as suggested by Rolf Rossius
+  
+  * removed debugging symbols from libs and enabled more optimization 
+    as suggested by Rolf Rossius 
   * also removed the /var/catman pages
   * changed to elf compilation
 
diff -Nurp e2fsprogs-1.40.7/debian/control e2fsprogs/debian/control
--- e2fsprogs-1.40.7/debian/control	2008-02-29 04:45:08.000000000 +0000
+++ e2fsprogs/debian/control	2008-02-29 11:23:57.000000000 +0000
@@ -50,7 +50,7 @@ Description: common error description li
 Package: libss2
 Section: libs
 Priority: required
-Depends: libcomerr2, ${shlibs:Depends}
+Depends: libcomerr2
 Replaces: e2fsprogs (<< 1.34-1)
 Architecture: any
 Description: command-line interface parsing library
diff -Nurp e2fsprogs-1.40.7/debian/e2fsck-static.copyright e2fsprogs/debian/e2fsck-static.copyright
--- e2fsprogs-1.40.7/debian/e2fsck-static.copyright	2008-02-29 04:45:08.000000000 +0000
+++ e2fsprogs/debian/e2fsck-static.copyright	2008-02-29 11:23:57.000000000 +0000
@@ -5,20 +5,39 @@ were written by Theodore Ts'o <tytso@mit
 
 Sources were obtained from http://sourceforge.net/projects/e2fsprogs
 
-Packaging is Copyright (c) 2003-2006 Theodore Ts'o <tytso@mit.edu>
-             Copyright (c) 1997-2003 Yann Dirson <dirson@debian.org>
-	     Copyright (c) 2001 Alcove <http://www.alcove.com/>
-	     Copyright (c) 1997 Klee Dienes
-	     Copyright (c) 1995-1996 Michael Nonweiler <mrn20@cam.ac.uk>
+Packaging is copyright (c) 2003-2006 Theodore Ts'o <tytso@mit.edu>
+             copyright (c) 1997-2003 Yann Dirson <dirson@debian.org>
+	     copyright (c) 2001 Alcove <http://www.alcove.com/>
+	     copyright (c) 1997 Klee Dienes
+	     copyright (c) 1995-1996 Michael Nonweiler <mrn20@cam.ac.uk>
 
 Upstream Author: Theodore Ts'o <tytso@mit.edu>
 
 Copyright notice:
 
-This package, the EXT2 filesystem utilities, is protected by the GNU
+This package, the EXT2 filesystem utilities, are protected by the GNU
 Public License.
 
-	Copyright (c) 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008 by Theodore Ts'o
+However, I request that if the version string in the file version.h
+contains the string "pre-", or "WIP" that this version of e2fsprogs be
+distributed in source form only.  Please feel free to give a copy of
+the e2fsck binary to help a friend recover his or her filesystem, as
+the need arises.  However, "pre" or "WIP" indicates that this release
+is under development, and available for ALPHA testing.  So for your
+protection as much as mine, I'd prefer that it not appear in a some
+distribution --- especially not a CD-ROM distribution!
+
+The most recent officially distributed version can be found at
+http://e2fsprogs.sourceforge.net.  If you need to make a distribution,
+that's the one you should use.  If there is some reason why you'd like
+a more recent version that is still in ALPHA testing for your
+distribution, please contact me (tytso@mit.edu), and we will very
+likely be able to work out something that will work for all concerned.
+The release schedules for this package are flexible, if you give me
+enough lead time.
+
+					Theodore Ts'o
+					15-Mar-2003
 
 On Debian GNU systems, the complete text of the GNU General
 Public License can be found in `/usr/share/common-licenses/GPL'.
diff -Nurp e2fsprogs-1.40.7/debian/e2fslibs.copyright e2fsprogs/debian/e2fslibs.copyright
--- e2fsprogs-1.40.7/debian/e2fslibs.copyright	2008-02-29 04:45:08.000000000 +0000
+++ e2fsprogs/debian/e2fslibs.copyright	2008-02-29 11:23:57.000000000 +0000
@@ -17,8 +17,8 @@ Copyright notice:
 This package, the EXT2 filesystem libraries, are protected by the GNU
 Public License.
 
-	Copyright (c) 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008 by Theodore Ts'o
-Public License.
+					Theodore Ts'o
+					15-Mar-2003
 
 On Debian GNU systems, the complete text of the GNU General
 Public License can be found in `/usr/share/common-licenses/GPL'.
diff -Nurp e2fsprogs-1.40.7/debian/e2fsprogs.copyright e2fsprogs/debian/e2fsprogs.copyright
--- e2fsprogs-1.40.7/debian/e2fsprogs.copyright	2008-02-29 04:45:08.000000000 +0000
+++ e2fsprogs/debian/e2fsprogs.copyright	2008-02-29 11:23:57.000000000 +0000
@@ -4,19 +4,18 @@ written by Theodore Ts'o <tytso@mit.edu>
 
 Sources were obtained from http://sourceforge.net/projects/e2fsprogs
 
-Packaging is Copyright (c) 2003-2007 Theodore Ts'o <tytso@mit.edu>
-             Copyright (c) 1997-2003 Yann Dirson <dirson@debian.org>
-	     Copyright (c) 2001 Alcove <http://www.alcove.com/>
-	     Copyright (c) 1997 Klee Dienes
-	     Copyright (c) 1995-1996 Michael Nonweiler <mrn20@cam.ac.uk>
+Packaging is copyright (c) 2003-2007 Theodore Ts'o <tytso@mit.edu>
+             copyright (c) 1997-2003 Yann Dirson <dirson@debian.org>
+	     copyright (c) 2001 Alcove <http://www.alcove.com/>
+	     copyright (c) 1997 Klee Dienes
+	     copyright (c) 1995-1996 Michael Nonweiler <mrn20@cam.ac.uk>
 
 Upstream Author: Theodore Ts'o <tytso@mit.edu>
 
 Copyright notice:
 
-This package, the EXT2 filesystem utilities, is protected by the GNU
+This package, the EXT2 filesystem utilities, are protected by the GNU
 Public License.
-	Copyright (c) 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008 by Theodore Ts'o
 
 On Debian GNU systems, the complete text of the GNU General
 Public License can be found in `/usr/share/common-licenses/GPL'.
diff -Nurp e2fsprogs-1.40.7/debian/libuuid1.postinst e2fsprogs/debian/libuuid1.postinst
--- e2fsprogs-1.40.7/debian/libuuid1.postinst	2008-02-28 02:08:21.000000000 +0000
+++ e2fsprogs/debian/libuuid1.postinst	2008-02-29 11:23:57.000000000 +0000
@@ -1,9 +1,9 @@
 #!/bin/sh
 
 set -e
-groupadd -f -K GID_MIN=100 -K GID_MAX=999 libuuid
+groupadd -f -K GID_MIN=1 -K GID_MAX=999 libuuid
 if ! grep -q libuuid /etc/passwd; then
-   useradd -d /var/lib/libuuid -K UID_MIN=100 -K UID_MAX=999 -g libuuid libuuid
+   useradd -d /var/lib/libuuid -K UID_MIN=1 -K UID_MAX=499 -g libuuid libuuid
 fi
 mkdir -p /var/lib/libuuid
 chown libuuid:libuuid /var/lib/libuuid
diff -Nurp e2fsprogs-1.40.7/debian/rules e2fsprogs/debian/rules
--- e2fsprogs-1.40.7/debian/rules	2008-02-29 04:45:09.000000000 +0000
+++ e2fsprogs/debian/rules	2008-02-29 11:23:57.000000000 +0000
@@ -103,7 +103,7 @@ STD_CONF_FLAGS = --with-ccopts="${CCOPTS
 		${DEVMAPPER}
 
 BF_CONF_FLAGS = --with-ccopts="${CCOPTS} ${BF_CCOPTS}" \
-	--disable-nls --disable-swapfs --disable-imager \
+	--disable-nls --disable-imager \
 	--disable-uuidd --disable-tls \
 	--disable-debugfs  --disable-e2initrd-helper
 
@@ -114,8 +114,7 @@ STATIC_CONF_FLAGS = --with-ccopts="${CCO
 	--with-ccopts=-fno-stack-protector
 
 MIPS_NOPIC_CONF_FLAGS = --with-ccopts="${CCOPTS}" \
-	--disable-nls \
-	--disable-swapfs --disable-imager \
+	--disable-nls --disable-imager \
 	--disable-uuidd --disable-tls \
         --disable-resizer # --disable-debugfs
 
@@ -387,6 +386,8 @@ binary-arch: install install-udeb
 	$(INSTALL) -p -m 0644 debugfs/debug_cmds.ct \
 		${debdir}/ss-dev/usr/share/doc/libss${SS_SOVERSION}/examples
 
+	$(INSTALL) -d ${debdir}/uuid-dev/usr/share/doc/libuuid${UUID_SOVERSION}
+
 	if test -f /etc/lsb-release && \
 		grep -q DISTRIB_ID=Ubuntu /etc/lsb-release; then \
 	$(INSTALL) -p -m 0644 e2fsck/e2fsck.conf.ubuntu \
diff -Nurp e2fsprogs-1.40.7/debugfs/debugfs.8.in e2fsprogs/debugfs/debugfs.8.in
--- e2fsprogs-1.40.7/debugfs/debugfs.8.in	2008-02-29 01:49:51.000000000 +0000
+++ e2fsprogs/debugfs/debugfs.8.in	2008-02-29 11:23:57.000000000 +0000
@@ -306,7 +306,7 @@ and 
 .I \-b
 options.
 .TP
-.I ls [-l] [-d] filespec
+.I ls [-l] [-d] [-p] filespec
 Print a listing of the files in the directory
 .IR filespec .
 The 
@@ -315,6 +315,11 @@ flag will list files using a more verbos
 The
 .I \-d
 flag will list deleted entries in the directory.
+The 
+.I \-p
+flag will list the files in a format which is more easily parsable by
+scripts, as well as making it more clear when there are spaces or other
+non-prinitng characters at the end of filenames.
 .TP
 .I modify_inode filespec
 Modify the contents of the inode structure in the inode
@@ -513,6 +518,5 @@ environment variable.
 was written by Theodore Ts'o <tytso@mit.edu>.
 .SH SEE ALSO
 .BR dumpe2fs (8),
-.BR tune2fs (8),
 .BR e2fsck (8),
 .BR mke2fs (8)
diff -Nurp e2fsprogs-1.40.7/debugfs/debugfs.c e2fsprogs/debugfs/debugfs.c
--- e2fsprogs-1.40.7/debugfs/debugfs.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/debugfs/debugfs.c	2008-02-29 11:23:57.000000000 +0000
@@ -38,6 +38,8 @@ extern char *optarg;
 #include "../version.h"
 
 extern ss_request_table debug_cmds;
+ss_request_table *extra_cmds;
+char *debug_prog_name;
 
 ext2_filsys	current_fs = NULL;
 ext2_ino_t	root, cwd;
@@ -509,7 +511,7 @@ static void dump_blocks(FILE *f, const c
 	lb.first_block = 0;
 	lb.f = f;
 	lb.first = 1;
-	ext2fs_block_iterate2(current_fs, inode, 0, NULL,
+	ext2fs_block_iterate2(current_fs, inode, BLOCK_FLAG_READ_ONLY, NULL,
 			     list_blocks_proc, (void *)&lb);
 	finish_range(&lb);
 	if (lb.total)
@@ -571,10 +573,6 @@ void internal_dump_inode(FILE *out, cons
 		frag = inode->osd2.hurd2.h_i_frag;
 		fsize = inode->osd2.hurd2.h_i_fsize;
 		break;
-	    case EXT2_OS_MASIX:
-		frag = inode->osd2.masix2.m_i_frag;
-		fsize = inode->osd2.masix2.m_i_fsize;
-		break;
 	    default:
 		frag = fsize = 0;
 	}
@@ -791,7 +789,8 @@ static void modify_u8(char *com, const c
 
 	sprintf(buf, format, *val);
 	printf("%30s    [%s] ", prompt, buf);
-	fgets(buf, sizeof(buf), stdin);
+	if (!fgets(buf, sizeof(buf), stdin))
+		return;
 	if (buf[strlen (buf) - 1] == '\n')
 		buf[strlen (buf) - 1] = '\0';
 	if (!buf[0])
@@ -812,7 +811,8 @@ static void modify_u16(char *com, const 
 
 	sprintf(buf, format, *val);
 	printf("%30s    [%s] ", prompt, buf);
-	fgets(buf, sizeof(buf), stdin);
+	if (!fgets(buf, sizeof(buf), stdin))
+		return;
 	if (buf[strlen (buf) - 1] == '\n')
 		buf[strlen (buf) - 1] = '\0';
 	if (!buf[0])
@@ -833,7 +833,8 @@ static void modify_u32(char *com, const 
 
 	sprintf(buf, format, *val);
 	printf("%30s    [%s] ", prompt, buf);
-	fgets(buf, sizeof(buf), stdin);
+	if (!fgets(buf, sizeof(buf), stdin))
+		return;
 	if (buf[strlen (buf) - 1] == '\n')
 		buf[strlen (buf) - 1] = '\0';
 	if (!buf[0])
@@ -901,10 +902,6 @@ void do_modify_inode(int argc, char *arg
 		frag = &inode.osd2.hurd2.h_i_frag;
 		fsize = &inode.osd2.hurd2.h_i_fsize;
 		break;
-	    case EXT2_OS_MASIX:
-		frag = &inode.osd2.masix2.m_i_frag;
-		fsize = &inode.osd2.masix2.m_i_fsize;
-		break;
 	    default:
 		frag = fsize = 0;
 	}
@@ -1013,7 +1010,7 @@ static void make_link(char *sourcename, 
 	struct ext2_inode inode;
 	int		retval;
 	ext2_ino_t	dir;
-	char		*dest, *cp, *basename;
+	char		*dest, *cp, *base_name;
 
 	/*
 	 * Get the source inode
@@ -1021,17 +1018,17 @@ static void make_link(char *sourcename, 
 	ino = string_to_inode(sourcename);
 	if (!ino)
 		return;
-	basename = strrchr(sourcename, '/');
-	if (basename)
-		basename++;
+	base_name = strrchr(sourcename, '/');
+	if (base_name)
+		base_name++;
 	else
-		basename = sourcename;
+		base_name = sourcename;
 	/*
 	 * Figure out the destination.  First see if it exists and is
 	 * a directory.  
 	 */
 	if (! (retval=ext2fs_namei(current_fs, root, cwd, destname, &dir)))
-		dest = basename;
+		dest = base_name;
 	else {
 		/*
 		 * OK, it doesn't exist.  See if it is
@@ -1113,7 +1110,7 @@ void do_undel(int argc, char *argv[])
 	if (debugfs_write_inode(ino, &inode, argv[0]))
 		return;
 
-	ext2fs_block_iterate(current_fs, ino, 0, NULL,
+	ext2fs_block_iterate(current_fs, ino, BLOCK_FLAG_READ_ONLY, NULL,
 			     mark_blocks_proc, NULL);
 
 	ext2fs_inode_alloc_stats2(current_fs, ino, +1, 0);
@@ -1126,19 +1123,19 @@ static void unlink_file_by_name(char *fi
 {
 	int		retval;
 	ext2_ino_t	dir;
-	char		*basename;
+	char		*base_name;
 	
-	basename = strrchr(filename, '/');
-	if (basename) {
-		*basename++ = '\0';
+	base_name = strrchr(filename, '/');
+	if (base_name) {
+		*base_name++ = '\0';
 		dir = string_to_inode(filename);
 		if (!dir)
 			return;
 	} else {
 		dir = cwd;
-		basename = filename;
+		base_name = filename;
 	}
-	retval = ext2fs_unlink(current_fs, dir, basename, 0, 0);
+	retval = ext2fs_unlink(current_fs, dir, base_name, 0, 0);
 	if (retval)
 		com_err("unlink_file_by_name", retval, 0);
 	return;
@@ -1155,7 +1152,7 @@ void do_unlink(int argc, char *argv[])
 
 void do_find_free_block(int argc, char *argv[])
 {
-	blk_t	free_blk, goal, first_free = 0;
+	blk_t	free_blk, goal;
  	int		count;
 	errcode_t	retval;
 	char		*tmp;
@@ -1191,11 +1188,6 @@ void do_find_free_block(int argc, char *
 	while (count-- > 0) {
 		retval = ext2fs_new_block(current_fs, free_blk + 1, 0,
 					  &free_blk);
-		if (first_free) {
-			if (first_free == free_blk)
-				break;
-		} else
-			first_free = free_blk;
 		if (retval) {
 			com_err("ext2fs_new_block", retval, 0);
 			return;
@@ -1511,7 +1503,7 @@ static void kill_file_by_inode(ext2_ino_
 	if (!ext2fs_inode_has_valid_blocks(&inode_buf))
 		return;
 
-	ext2fs_block_iterate(current_fs, inode, 0, NULL,
+	ext2fs_block_iterate(current_fs, inode, BLOCK_FLAG_READ_ONLY, NULL,
 			     release_blocks_proc, NULL);
 	printf("\n");
 	ext2fs_inode_alloc_stats2(current_fs, inode, -1,
@@ -1810,7 +1802,7 @@ int main(int argc, char **argv)
 {
 	int		retval;
 	int		sci_idx;
-	const char	*usage = "Usage: debugfs [-b blocksize] [-s superblock] [-f cmd_file] [-R request] [-V] [[-w] [-c] device]";
+	const char	*usage = "Usage: %s [-b blocksize] [-s superblock] [-f cmd_file] [-R request] [-V] [[-w] [-c] device]";
 	int		c;
 	int		open_flags = EXT2_FLAG_SOFTSUPP_FEATURES;
 	char		*request = 0;
@@ -1821,9 +1813,12 @@ int main(int argc, char **argv)
 	int		catastrophic = 0;
 	char		*data_filename = 0;
 	
+	if (debug_prog_name == 0)
+		debug_prog_name = "debugfs";
+
 	add_error_table(&et_ext2_error_table);
-	fprintf (stderr, "debugfs %s (%s)\n", E2FSPROGS_VERSION,
-		 E2FSPROGS_DATE);
+	fprintf (stderr, "%s %s (%s)\n", debug_prog_name,
+		 E2FSPROGS_VERSION, E2FSPROGS_DATE);
 
 	while ((c = getopt (argc, argv, "iwcR:f:b:s:Vd:")) != EOF) {
 		switch (c) {
@@ -1859,7 +1854,7 @@ int main(int argc, char **argv)
 				error_message(EXT2_ET_BASE));
 			exit(0);
 		default:
-			com_err(argv[0], 0, usage);
+			com_err(argv[0], 0, usage, debug_prog_name);
 			return 1;
 		}
 	}
@@ -1868,7 +1863,7 @@ int main(int argc, char **argv)
 				superblock, blocksize, catastrophic,
 				data_filename);
 	
-	sci_idx = ss_create_invocation("debugfs", "0.0", (char *) NULL,
+	sci_idx = ss_create_invocation(debug_prog_name, "0.0", (char *) NULL,
 				       &debug_cmds, &retval);
 	if (retval) {
 		ss_perror(sci_idx, retval, "creating invocation");
@@ -1881,6 +1876,12 @@ int main(int argc, char **argv)
 		ss_perror(sci_idx, retval, "adding standard requests");
 		exit (1);
 	}
+	if (extra_cmds)
+		ss_add_request_table (sci_idx, extra_cmds, 1, &retval);
+	if (retval) {
+		ss_perror(sci_idx, retval, "adding extra requests");
+		exit (1);
+	}
 	if (request) {
 		retval = 0;
 		retval = ss_execute_line(sci_idx, request);
diff -Nurp e2fsprogs-1.40.7/debugfs/debugfs.h e2fsprogs/debugfs/debugfs.h
--- e2fsprogs-1.40.7/debugfs/debugfs.h	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/debugfs/debugfs.h	2008-02-29 11:23:57.000000000 +0000
@@ -78,6 +78,7 @@ extern void do_ncheck(int argc, char **a
 /* set_fields.c */
 extern void do_set_super(int argc, char **);
 extern void do_set_inode(int argc, char **);
+extern void do_set_block_group_descriptor(int argc, char **);
 
 /* unused.c */
 extern void do_dump_unused(int argc, char **argv);
Files e2fsprogs-1.40.7/debugfs/debugfs.o and e2fsprogs/debugfs/debugfs.o differ
diff -Nurp e2fsprogs-1.40.7/debugfs/htree.c e2fsprogs/debugfs/htree.c
--- e2fsprogs-1.40.7/debugfs/htree.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/debugfs/htree.c	2008-02-29 11:23:57.000000000 +0000
@@ -347,7 +347,8 @@ void do_dirsearch(int argc, char *argv[]
 	pb.search_name = argv[2];
 	pb.len = strlen(pb.search_name);
 	
-	ext2fs_block_iterate2(current_fs, inode, 0, 0, search_dir_block, &pb);
+	ext2fs_block_iterate2(current_fs, inode, BLOCK_FLAG_READ_ONLY, 0,
+			      search_dir_block, &pb);
 
 	free(pb.buf);
 }
diff -Nurp e2fsprogs-1.40.7/debugfs/icheck.c e2fsprogs/debugfs/icheck.c
--- e2fsprogs-1.40.7/debugfs/icheck.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/debugfs/icheck.c	2008-02-29 11:23:57.000000000 +0000
@@ -127,7 +127,8 @@ void do_icheck(int argc, char **argv)
 		if (inode.i_dtime)
 			goto next;
 
-		retval = ext2fs_block_iterate2(current_fs, ino, 0, block_buf,
+		retval = ext2fs_block_iterate2(current_fs, ino,
+					       BLOCK_FLAG_READ_ONLY, block_buf,
 					       icheck_proc, &bw);
 		if (retval) {
 			com_err("icheck", retval,
diff -Nurp e2fsprogs-1.40.7/debugfs/logdump.c e2fsprogs/debugfs/logdump.c
--- e2fsprogs-1.40.7/debugfs/logdump.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/debugfs/logdump.c	2008-02-29 11:23:57.000000000 +0000
@@ -36,11 +36,11 @@ extern char *optarg;
 
 enum journal_location {JOURNAL_IS_INTERNAL, JOURNAL_IS_EXTERNAL};
 
-#define ANY_BLOCK ((unsigned int) -1)
+#define ANY_BLOCK ((blk_t) -1)
 
 int		dump_all, dump_contents, dump_descriptors;
-unsigned int	block_to_dump, group_to_dump, bitmap_to_dump;
-unsigned int	inode_block_to_dump, inode_offset_to_dump, bitmap_to_dump;
+blk_t		block_to_dump, bitmap_to_dump, inode_block_to_dump;
+unsigned int	group_to_dump, inode_offset_to_dump;
 ext2_ino_t	inode_to_dump;
 
 struct journal_source 
@@ -350,7 +350,7 @@ static void dump_journal(char *cmdname, 
 
 	jsb = (journal_superblock_t *) buf;
 	sb = (struct ext2_super_block *) (buf+1024);
-#ifdef ENABLE_SWAPFS
+#ifdef WORDS_BIGENDIAN
 	if (sb->s_magic == ext2fs_swab16(EXT2_SUPER_MAGIC)) 
 		ext2fs_swap_super(sb);
 #endif
@@ -365,8 +365,8 @@ static void dump_journal(char *cmdname, 
 		if (dump_all) {
 			fprintf(out_file, "\tuuid=%s\n", jsb_buffer);
 			fprintf(out_file, "\tblocksize=%d\n", blocksize);
-			fprintf(out_file, "\tjournal data size %ld\n",
-				(long) sb->s_blocks_count);
+			fprintf(out_file, "\tjournal data size %lu\n",
+				sb->s_blocks_count);
 		}
 	}
 	
diff -Nurp e2fsprogs-1.40.7/debugfs/ls.c e2fsprogs/debugfs/ls.c
--- e2fsprogs-1.40.7/debugfs/ls.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/debugfs/ls.c	2008-02-29 11:23:57.000000000 +0000
@@ -30,6 +30,7 @@ extern char *optarg;
 
 #define LONG_OPT	0x0001
 #define DELETED_OPT	0x0002
+#define PARSE_OPT	0x0004
 
 struct list_dir_struct {
 	FILE	*f;
@@ -72,7 +73,16 @@ static int list_dir_proc(ext2_ino_t dir 
 	} else {
 		lbr = rbr = ' ';
 	}
-	if (ls->options & LONG_OPT) {
+	if (ls->options & PARSE_OPT) {
+		if (ino && debugfs_read_inode(ino, &inode, name)) return 0;
+		fprintf(ls->f,"/%u/%06o/%d/%d/%s/",ino,inode.i_mode,inode.i_uid, inode.i_gid,name);
+		if (LINUX_S_ISDIR(inode.i_mode))
+			fprintf(ls->f, "/");
+		else
+			fprintf(ls->f, "%lld/", inode.i_size | ((__u64)inode.i_size_high << 32));
+		fprintf(ls->f, "\n");
+	}
+	else if (ls->options & LONG_OPT) {
 		if (ino) {
 			if (debugfs_read_inode(ino, &inode, name))
 				return 0;
@@ -123,7 +133,7 @@ void do_list_dir(int argc, char *argv[])
 		return;
 
 	reset_getopt();
-	while ((c = getopt (argc, argv, "dl")) != EOF) {
+	while ((c = getopt (argc, argv, "dlp")) != EOF) {
 		switch (c) {
 		case 'l':
 			ls.options |= LONG_OPT;
@@ -131,6 +141,9 @@ void do_list_dir(int argc, char *argv[])
 		case 'd':
 			ls.options |= DELETED_OPT;
 			break;
+		case 'p':
+			ls.options |= PARSE_OPT;
+			break;
 		default:
 			goto print_usage;
 		}
@@ -138,7 +151,7 @@ void do_list_dir(int argc, char *argv[])
 
 	if (argc > optind+1) {
 	print_usage:
-		com_err(0, 0, "Usage: ls [-l] [-d] file");
+		com_err(0, 0, "Usage: ls [-l] [-d] [-p] file");
 		return;
 	}
 
diff -Nurp e2fsprogs-1.40.7/debugfs/lsdel.c e2fsprogs/debugfs/lsdel.c
--- e2fsprogs-1.40.7/debugfs/lsdel.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/debugfs/lsdel.c	2008-02-29 11:23:57.000000000 +0000
@@ -140,7 +140,8 @@ void do_lsdel(int argc, char **argv)
 		lsd.free_blocks = 0;
 		lsd.bad_blocks = 0;
 		
-		retval = ext2fs_block_iterate2(current_fs, ino, 0, block_buf,
+		retval = ext2fs_block_iterate2(current_fs, ino,
+					       BLOCK_FLAG_READ_ONLY, block_buf,
 					       lsdel_proc, &lsd);
 		if (retval) {
 			com_err("ls_deleted_inodes", retval,
diff -Nurp e2fsprogs-1.40.7/debugfs/set_fields.c e2fsprogs/debugfs/set_fields.c
--- e2fsprogs-1.40.7/debugfs/set_fields.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/debugfs/set_fields.c	2008-02-29 11:23:57.000000000 +0000
@@ -29,6 +29,9 @@
 #ifdef HAVE_ERRNO_H
 #include <errno.h>
 #endif
+#if HAVE_STRINGS_H
+#include <strings.h>
+#endif
 #include <fcntl.h>
 #include <utime.h>
 
diff -Nurp e2fsprogs-1.40.7/debugfs/util.c e2fsprogs/debugfs/util.c
--- e2fsprogs-1.40.7/debugfs/util.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/debugfs/util.c	2008-02-29 11:23:57.000000000 +0000
@@ -190,7 +190,7 @@ char *time_to_string(__u32 cl)
 {
 	static int	do_gmt = -1;
 	time_t		t = (time_t) cl;
-	char *		tz;
+	const char	*tz;
 
 	if (do_gmt == -1) {
 		/* The diet libc doesn't respect the TZ environemnt variable */
@@ -274,10 +274,8 @@ int strtoblk(const char *cmd, const char
 
 	blk = parse_ulong(str, cmd, "block number", &err);
 	*ret = blk;
-	if (err == 0 && blk == 0) {
-		com_err(cmd, 0, "Invalid block number 0");
-		err = 1;
-	}
+	if (err)
+		com_err(cmd, 0, "Invalid block number: %s", str);
 	return err;
 }
 
@@ -337,6 +335,11 @@ int common_block_args_process(int argc, 
 
 	if (strtoblk(argv[0], argv[1], block))
 		return 1;
+	if (*block == 0) {
+		com_err(argv[0], 0, "Invalid block number 0");
+		err = 1;
+	}
+
 	if (argc > 2) {
 		*count = parse_ulong(argv[2], argv[0], "count", &err);
 		if (err)
Files e2fsprogs-1.40.7/debugfs/util.o and e2fsprogs/debugfs/util.o differ
diff -Nurp e2fsprogs-1.40.7/doc/libext2fs.texinfo e2fsprogs/doc/libext2fs.texinfo
--- e2fsprogs-1.40.7/doc/libext2fs.texinfo	2008-02-29 04:45:09.000000000 +0000
+++ e2fsprogs/doc/libext2fs.texinfo	2008-02-29 11:23:57.000000000 +0000
@@ -1,17 +1,15 @@
 \input texinfo    @c -*-texinfo-*-
 @c %**start of header
 @setfilename libext2fs.info
-@settitle The EXT2FS Library (version 1.40.7)
+@settitle The EXT2FS Library (version 1.40.6)
 @synindex tp fn
 @comment %**end of header
 
 @ifinfo
 @dircategory Development
-@format
-START-INFO-DIR-ENTRY
+@direntry
 * libext2fs: (libext2fs.info).                  The EXT2FS library.
-END-INFO-DIR-ENTRY
-@end format
+@end direntry
 @end ifinfo
 
 @c smallbook
@@ -61,7 +59,7 @@ by the author.
 
 @title The EXT2FS Library
 @subtitle The EXT2FS Library
-@subtitle Version 1.40.7
+@subtitle Version 1.40.6
 @subtitle February 2008
 
 @author by Theodore Ts'o
@@ -103,7 +101,7 @@ by the Foundation.
 
 @top The EXT2FS Library
 
-This manual documents the EXT2FS Library, version 1.40.7.
+This manual documents the EXT2FS Library, version 1.40.6.
 
 @end ifinfo
 
diff -Nurp e2fsprogs-1.40.7/doc/Makefile.in e2fsprogs/doc/Makefile.in
--- e2fsprogs-1.40.7/doc/Makefile.in	2008-02-29 01:39:24.000000000 +0000
+++ e2fsprogs/doc/Makefile.in	2008-02-29 11:23:57.000000000 +0000
@@ -18,7 +18,7 @@ HTML=texi2html
 
 all:: libext2fs.info libext2fs.dvi
 
-install-doc-libs: libext2fs.info libext2fs.dvi
+install-doc-libs:
 	@$(RM) -rf $(DESTDIR)$(infodir)/libext2fs.info*
 	@echo "	MKINSTALLDIRS $(infodir)"
 	@$(MKINSTALLDIRS) $(DESTDIR)$(infodir)
diff -Nurp e2fsprogs-1.40.7/e2fsck/badblocks.c e2fsprogs/e2fsck/badblocks.c
--- e2fsprogs-1.40.7/e2fsck/badblocks.c	2008-02-28 02:08:21.000000000 +0000
+++ e2fsprogs/e2fsck/badblocks.c	2008-02-29 11:23:57.000000000 +0000
@@ -97,7 +97,6 @@ void read_bad_blocks_file(e2fsck_t ctx, 
 	/*
 	 * Finally, update the bad blocks from the bad_block_map
 	 */
-	printf("%s: Updating bad block inode.\n", ctx->device_name);
 	retval = ext2fs_update_bb_inode(fs, bb_list);
 	if (retval) {
 		com_err("ext2fs_update_bb_inode", retval,
diff -Nurp e2fsprogs-1.40.7/e2fsck/e2fsck.8.in e2fsprogs/e2fsck/e2fsck.8.in
--- e2fsprogs-1.40.7/e2fsck/e2fsck.8.in	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/e2fsck/e2fsck.8.in	2008-02-29 11:23:57.000000000 +0000
@@ -8,7 +8,7 @@ e2fsck \- check a Linux ext2/ext3 file s
 .SH SYNOPSIS
 .B e2fsck
 [
-.B \-pacnyrdfkvstDFSV
+.B \-pacnyrdfkvtDFV
 ]
 [
 .B \-b
@@ -167,11 +167,6 @@ and need to be rebuilt.  The
 option forces all directories in the filesystem to be optimized.  This can
 sometimes make them a little smaller and slightly faster to search, but
 in practice, you should rarely need to use this option.
-.IP
-The
-.B \-D
-option will detect directory entries with duplicate names in a single
-directory, which e2fsck normally does not enforce for performance reasons.
 .TP
 .BI \-E " extended_options"
 Set e2fsck extended options.  Extended options are comma
@@ -274,17 +269,6 @@ options.
 .B \-r
 This option does nothing at all; it is provided only for backwards
 compatibility.
-.TP 
-.B \-s
-This option will byte-swap the filesystem so that it is using the normalized, 
-standard byte-order (which is i386 or little endian).  If the filesystem is
-already in the standard byte-order, 
-.B e2fsck 
-will take no action.
-.TP
-.B \-S
-This option will byte-swap the filesystem, regardless of its current 
-byte-order.
 .TP
 .B \-t
 Print timing statistics for
diff -Nurp e2fsprogs-1.40.7/e2fsck/e2fsck.h e2fsprogs/e2fsck/e2fsck.h
--- e2fsprogs-1.40.7/e2fsck/e2fsck.h	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/e2fsck/e2fsck.h	2008-02-29 11:23:57.000000000 +0000
@@ -135,6 +135,8 @@ struct resource_track {
 	struct timeval user_start;
 	struct timeval system_start;
 	void	*brk_start;
+	unsigned long long bytes_read;
+	unsigned long long bytes_written;
 };
 #endif
 
@@ -429,6 +431,9 @@ extern int e2fsck_pass1_check_device_ino
 					   struct ext2_inode *inode);
 extern int e2fsck_pass1_check_symlink(ext2_filsys fs,
 				      struct ext2_inode *inode, char *buf);
+extern void e2fsck_clear_inode(e2fsck_t ctx, ext2_ino_t ino,
+			       struct ext2_inode *inode, int restart_flag,
+			       const char *source);
 
 /* pass2.c */
 extern int e2fsck_process_bad_inode(e2fsck_t ctx, ext2_ino_t dir,
@@ -456,9 +461,6 @@ void e2fsck_rehash_directories(e2fsck_t 
 void check_super_block(e2fsck_t ctx);
 int check_backup_super_block(e2fsck_t ctx);
 
-/* swapfs.c */
-void swap_filesys(e2fsck_t ctx);
-
 /* util.c */
 extern void *e2fsck_allocate_memory(e2fsck_t ctx, unsigned int size,
 				    const char *description);
@@ -471,12 +473,17 @@ extern void preenhalt(e2fsck_t ctx);
 extern char *string_copy(e2fsck_t ctx, const char *str, int len);
 #ifdef RESOURCE_TRACK
 extern void print_resource_track(const char *desc,
-				 struct resource_track *track);
-extern void init_resource_track(struct resource_track *track);
+				 struct resource_track *track,
+				 io_channel channel);
+extern void init_resource_track(struct resource_track *track,
+				io_channel channel);
 #endif
 extern int inode_has_valid_blocks(struct ext2_inode *inode);
 extern void e2fsck_read_inode(e2fsck_t ctx, unsigned long ino,
 			      struct ext2_inode * inode, const char * proc);
+extern void e2fsck_read_inode_full(e2fsck_t ctx, unsigned long ino,
+				   struct ext2_inode *inode,
+				   const int bufsize, const char *proc);
 extern void e2fsck_write_inode(e2fsck_t ctx, unsigned long ino,
 			       struct ext2_inode * inode, const char * proc);
 extern void e2fsck_write_inode_full(e2fsck_t ctx, unsigned long ino,
diff -Nurp e2fsprogs-1.40.7/e2fsck/journal.c e2fsprogs/e2fsck/journal.c
--- e2fsprogs-1.40.7/e2fsck/journal.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/e2fsck/journal.c	2008-02-29 11:23:57.000000000 +0000
@@ -385,7 +385,7 @@ static errcode_t e2fsck_get_journal(e2fs
 		memcpy(&jsuper, start ? bh->b_data :  bh->b_data + 1024,
 		       sizeof(jsuper));
 		brelse(bh);
-#ifdef EXT2FS_ENABLE_SWAPFS
+#ifdef WORDS_BIGENDIAN
 		if (jsuper.s_magic == ext2fs_swab16(EXT2_SUPER_MAGIC)) 
 			ext2fs_swap_super(&jsuper);
 #endif
diff -Nurp e2fsprogs-1.40.7/e2fsck/Makefile.in e2fsprogs/e2fsck/Makefile.in
--- e2fsprogs-1.40.7/e2fsck/Makefile.in	2008-02-29 01:37:06.000000000 +0000
+++ e2fsprogs/e2fsck/Makefile.in	2008-02-29 11:23:57.000000000 +0000
@@ -17,18 +17,18 @@ MANPAGES=	e2fsck.8
 FMANPAGES=	e2fsck.conf.5
 XTRA_CFLAGS=	-DRESOURCE_TRACK -I.
 
-LIBS= $(LIBEXT2FS) $(LIBCOM_ERR) $(LIBBLKID) $(LIBUUID) $(LIBINTL) $(LIBE2P)
-DEPLIBS= $(LIBEXT2FS) $(LIBCOM_ERR) $(DEPLIBBLKID) $(DEPLIBUUID) $(DEPLIBE2P)
+LIBS= $(LIBEXT2FS) $(LIBCOM_ERR) $(LIBBLKID) $(LIBUUID) $(LIBINTL)
+DEPLIBS= $(LIBEXT2FS) $(LIBCOM_ERR) $(DEPLIBBLKID) $(DEPLIBUUID)
 
 STATIC_LIBS= $(STATIC_LIBEXT2FS) $(STATIC_LIBCOM_ERR) $(STATIC_LIBBLKID) \
-	$(STATIC_LIBUUID) $(LIBINTL) $(STATIC_LIBE2P)
+	$(STATIC_LIBUUID) $(LIBINTL)
 STATIC_DEPLIBS= $(STATIC_LIBEXT2FS) $(STATIC_LIBCOM_ERR) $(DEPSTATIC_LIBBLKID) \
-	$(DEPSTATIC_LIBUUID) $(DEPSTATIC_LIBE2P)
+	$(DEPSTATIC_LIBUUID)
 
 PROFILED_LIBS= $(PROFILED_LIBEXT2FS) $(PROFILED_LIBCOM_ERR) \
-	$(PROFILED_LIBBLKID) $(PROFILED_LIBUUID) $(PROFILED_LIBE2P) $(LIBINTL)
+	$(PROFILED_LIBBLKID) $(PROFILED_LIBUUID) $(LIBINTL)
 PROFILED_DEPLIBS= $(PROFILED_LIBEXT2FS) $(PROFILED_LIBCOM_ERR) \
-	$(DEPPROFILED_LIBBLKID) $(DEPPROFILED_LIBUUID) $(DEPPROFILED_LIBE2P)
+	$(DEPPROFILED_LIBBLKID) $(DEPPROFILED_LIBUUID)
 
 COMPILE_ET=$(top_builddir)/lib/et/compile_et --build-tree
 
@@ -62,7 +62,7 @@ COMPILE_ET=$(top_builddir)/lib/et/compil
 #MCHECK= -DMCHECK
 
 OBJS= dict.o unix.o e2fsck.o super.o pass1.o pass1b.o pass2.o pass3.o pass4.o \
-	pass5.o journal.o swapfs.o badblocks.o util.o dirinfo.o dx_dirinfo.o \
+	pass5.o journal.o badblocks.o util.o dirinfo.o dx_dirinfo.o \
 	ehandler.o problem.o message.o recovery.o region.o revoke.o \
 	ea_refcount.o rehash.o profile.o prof_err.o $(MTRACE_OBJ)
 
@@ -71,7 +71,7 @@ PROFILED_OBJS= profiled/dict.o profiled/
 	profiled/pass2.o profiled/pass3.o profiled/pass4.o profiled/pass5.o \
 	profiled/journal.o profiled/badblocks.o profiled/util.o \
 	profiled/dirinfo.o profiled/dx_dirinfo.o profiled/ehandler.o \
-	profiled/message.o profiled/problem.o profiled/swapfs.o \
+	profiled/message.o profiled/problem.o \
 	profiled/recovery.o profiled/region.o profiled/revoke.o \
 	profiled/ea_refcount.o profiled/rehash.o profiled/profile.o \
 	profiled/prof_err.o
@@ -96,7 +96,6 @@ SRCS= $(srcdir)/e2fsck.c \
 	$(srcdir)/ehandler.c \
 	$(srcdir)/problem.c \
 	$(srcdir)/message.c \
-	$(srcdir)/swapfs.c \
 	$(srcdir)/ea_refcount.c \
 	$(srcdir)/rehash.c \
 	$(srcdir)/region.c \
@@ -172,7 +171,7 @@ installdirs:
 	@$(MKINSTALLDIRS) $(DESTDIR)$(root_sbindir) \
 		$(DESTDIR)$(man8dir) $(DESTDIR)$(man5dir)
 
-install: $(PROGS) $(MANPAGES) $(FMANPAGES) installdirs
+install: $(PROGS) $(MANPAGES) installdirs
 	@for i in $(PROGS); do \
 		echo "	INSTALL $(root_sbindir)/$$i"; \
 		$(INSTALL_PROGRAM) $$i $(DESTDIR)$(root_sbindir)/$$i; \
@@ -378,13 +377,6 @@ message.o: $(srcdir)/message.c $(srcdir)
  $(top_builddir)/lib/ext2fs/ext2_err.h $(top_srcdir)/lib/ext2fs/bitops.h \
  $(top_srcdir)/lib/blkid/blkid.h $(top_builddir)/lib/blkid/blkid_types.h \
  $(srcdir)/profile.h prof_err.h $(srcdir)/problem.h
-swapfs.o: $(srcdir)/swapfs.c $(top_srcdir)/lib/et/com_err.h \
- $(srcdir)/e2fsck.h $(top_srcdir)/lib/ext2fs/ext2_fs.h \
- $(top_builddir)/lib/ext2fs/ext2_types.h $(top_srcdir)/lib/ext2fs/ext2fs.h \
- $(top_srcdir)/lib/ext2fs/ext2_fs.h $(top_srcdir)/lib/ext2fs/ext2_io.h \
- $(top_builddir)/lib/ext2fs/ext2_err.h $(top_srcdir)/lib/ext2fs/bitops.h \
- $(top_srcdir)/lib/blkid/blkid.h $(top_builddir)/lib/blkid/blkid_types.h \
- $(srcdir)/profile.h prof_err.h
 ea_refcount.o: $(srcdir)/ea_refcount.c $(srcdir)/e2fsck.h \
  $(top_srcdir)/lib/ext2fs/ext2_fs.h $(top_builddir)/lib/ext2fs/ext2_types.h \
  $(top_srcdir)/lib/ext2fs/ext2fs.h $(top_srcdir)/lib/ext2fs/ext2_fs.h \
diff -Nurp e2fsprogs-1.40.7/e2fsck/Makefile.pq e2fsprogs/e2fsck/Makefile.pq
--- e2fsprogs-1.40.7/e2fsck/Makefile.pq	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/e2fsck/Makefile.pq	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1,9 @@
+TOPSRC=..
+LIBNAME=E2FSCK.LIB
+OBJFILE=E2FSCK.LST
+
+OBJS= e2fsck.obj super.obj pass1.obj pass2.obj pass3.obj \
+	pass4.obj pass5.obj dirinfo.obj
+
+!include $(TOPSRC)\powerquest\MCONFIG
+
diff -Nurp e2fsprogs-1.40.7/e2fsck/message.c e2fsprogs/e2fsck/message.c
--- e2fsprogs-1.40.7/e2fsck/message.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/e2fsck/message.c	2008-02-29 11:23:57.000000000 +0000
@@ -80,6 +80,7 @@
  * 	@S	superblock
  * 	@u	unattached
  * 	@v	device
+ *	@x	extent
  * 	@z	zero-length
  */
 
@@ -134,6 +135,7 @@ static const char *abbrevs[] = {
 	N_("Ssuper@b"),
 	N_("uunattached"),
 	N_("vdevice"),
+	N_("xextent"),
 	N_("zzero-length"),
 	"@@",
 	0
@@ -388,7 +390,11 @@ static _INLINE_ void expand_percent_expr
 		fputc('%', stdout);
 		break;
 	case 'b':
-		printf("%u", ctx->blk);
+#ifdef EXT2_NO_64_TYPE
+		printf("%u", (unsigned long) ctx->blk);
+#else
+		printf("%llu", (unsigned long long) ctx->blk);
+#endif
 		break;
 	case 'B':
 #ifdef EXT2_NO_64_TYPE
@@ -398,7 +404,11 @@ static _INLINE_ void expand_percent_expr
 #endif
 		break;
 	case 'c':
-		printf("%u", ctx->blk2);
+#ifdef EXT2_NO_64_TYPE
+		printf("%u", (unsigned long) ctx->blk2);
+#else
+		printf("%llu", (unsigned long long) ctx->blk2);
+#endif
 		break;
 	case 'd':
 		printf("%u", ctx->dir);
diff -Nurp e2fsprogs-1.40.7/e2fsck/pass1b.c e2fsprogs/e2fsck/pass1b.c
--- e2fsprogs-1.40.7/e2fsck/pass1b.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/e2fsck/pass1b.c	2008-02-29 11:23:57.000000000 +0000
@@ -294,7 +294,8 @@ static void pass1b(e2fsck_t ctx, char *b
 		if (ext2fs_inode_has_valid_blocks(&inode) ||
 		    (ino == EXT2_BAD_INO))
 			pctx.errcode = ext2fs_block_iterate2(fs, ino,
-				     0, block_buf, process_pass1b_block, &pb);
+					     BLOCK_FLAG_READ_ONLY, block_buf,
+					     process_pass1b_block, &pb);
 		if (inode.i_file_acl)
 			process_pass1b_block(fs, &inode.i_file_acl,
 					     BLOCK_COUNT_EXTATTR, 0, 0, &pb);
@@ -590,20 +591,17 @@ static void delete_file(e2fsck_t ctx, ex
 
 	e2fsck_read_inode(ctx, ino, &inode, "delete_file");
 	if (ext2fs_inode_has_valid_blocks(&inode))
-		pctx.errcode = ext2fs_block_iterate2(fs, ino, 0, block_buf,
-						     delete_file_block, &pb);
+		pctx.errcode = ext2fs_block_iterate2(fs, ino, BLOCK_FLAG_READ_ONLY, 
+						     block_buf, delete_file_block, &pb);
 	if (pctx.errcode)
 		fix_problem(ctx, PR_1B_BLOCK_ITERATE, &pctx);
-	ext2fs_unmark_inode_bitmap(ctx->inode_used_map, ino);
-	ext2fs_unmark_inode_bitmap(ctx->inode_dir_map, ino);
 	if (ctx->inode_bad_map)
 		ext2fs_unmark_inode_bitmap(ctx->inode_bad_map, ino);
 	ext2fs_inode_alloc_stats2(fs, ino, -1, LINUX_S_ISDIR(inode.i_mode));
 
 	/* Inode may have changed by block_iterate, so reread it */
 	e2fsck_read_inode(ctx, ino, &inode, "delete_file");
-	inode.i_links_count = 0;
-	inode.i_dtime = ctx->now;
+	e2fsck_clear_inode(ctx, ino, &inode, 0, "delete_file");
 	if (inode.i_file_acl &&
 	    (fs->super->s_feature_compat & EXT2_FEATURE_COMPAT_EXT_ATTR)) {
 		count = 1;
@@ -629,7 +627,6 @@ static void delete_file(e2fsck_t ctx, ex
 			delete_file_block(fs, &inode.i_file_acl,
 					  BLOCK_COUNT_EXTATTR, 0, 0, &pb);
 	}
-	e2fsck_write_inode(ctx, ino, &inode, "delete_file");
 }
 
 struct clone_struct {
diff -Nurp e2fsprogs-1.40.7/e2fsck/pass1.c e2fsprogs/e2fsck/pass1.c
--- e2fsprogs-1.40.7/e2fsck/pass1.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/e2fsck/pass1.c	2008-02-29 11:23:57.000000000 +0000
@@ -264,6 +264,7 @@ static void check_ea_in_inode(e2fsck_t c
 	remain = storage_size - sizeof(__u32); 
 
 	while (!EXT2_EXT_IS_LAST_ENTRY(entry)) {
+		__u32 hash;
 
 		/* header eats this space */
 		remain -= sizeof(struct ext2_ext_attr_entry);
@@ -291,9 +292,12 @@ static void check_ea_in_inode(e2fsck_t c
 			problem = PR_1_ATTR_VALUE_BLOCK;
 			goto fix;
 		}
-		
-		/* e_hash must be 0 in inode's ea */
-		if (entry->e_hash != 0) {
+
+		hash = ext2fs_ext_attr_hash_entry(entry,
+						  start + entry->e_value_offs);
+
+		/* e_hash may be 0 in older inode's ea */
+		if (entry->e_hash != 0 && entry->e_hash != hash) {
 			pctx->num = entry->e_hash;
 			problem = PR_1_ATTR_HASH;
 			goto fix;
@@ -308,15 +312,12 @@ fix:
 	 * it seems like a corruption. it's very unlikely we could repair
 	 * EA(s) in automatic fashion -bzzz
 	 */
-#if 0
-	problem = PR_1_ATTR_HASH;
-#endif
 	if (problem == 0 || !fix_problem(ctx, problem, pctx))
 		return;
 
-	/* simple remove all possible EA(s) */
+	/* simply remove all possible EA(s) */
 	*((__u32 *)start) = 0UL;
-	e2fsck_write_inode_full(ctx, pctx->ino, (struct ext2_inode *) inode,
+	e2fsck_write_inode_full(ctx, pctx->ino, pctx->inode,
 				EXT2_INODE_SIZE(sb), "pass1");
 }
 
@@ -480,12 +481,12 @@ void e2fsck_pass1(e2fsck_t ctx)
 	struct		scan_callback_struct scan_struct;
 	struct ext2_super_block *sb = ctx->fs->super;
 	const char	*old_op;
-	int		imagic_fs;
+	int		imagic_fs, extent_fs;
 	int		busted_fs_time = 0;
 	int		inode_size;
 	
 #ifdef RESOURCE_TRACK
-	init_resource_track(&rtrack);
+	init_resource_track(&rtrack, ctx->fs->io);
 #endif
 	clear_problem_context(&pctx);
 
@@ -514,6 +515,7 @@ void e2fsck_pass1(e2fsck_t ctx)
 #undef EXT2_BPP
 
 	imagic_fs = (sb->s_feature_compat & EXT2_FEATURE_COMPAT_IMAGIC_INODES);
+	extent_fs = (sb->s_feature_incompat & EXT3_FEATURE_INCOMPAT_EXTENTS);
 
 	/*
 	 * Allocate bitmaps structures
@@ -653,6 +655,39 @@ void e2fsck_pass1(e2fsck_t ctx)
 				return;
 			}
 		}
+		
+		if ((inode->i_flags & EXT4_EXTENTS_FL) && !extent_fs && 
+		    (inode->i_links_count || (ino == EXT2_BAD_INO) ||
+		     (ino == EXT2_ROOT_INO) || (ino == EXT2_JOURNAL_INO))) {
+			if ((ext2fs_extent_header_verify(inode->i_block, 
+						 sizeof(inode->i_block)) == 0) &&
+			    fix_problem(ctx, PR_1_EXTENT_FEATURE, &pctx)) {
+				sb->s_feature_incompat |= EXT3_FEATURE_INCOMPAT_EXTENTS;
+				ext2fs_mark_super_dirty(fs);
+				extent_fs = 1;
+			} else if (fix_problem(ctx, PR_1_EXTENTS_SET, &pctx)) {
+			clear_inode:
+				e2fsck_clear_inode(ctx, ino, inode, 0, "pass1");
+				if (ino == EXT2_BAD_INO)
+					ext2fs_mark_inode_bitmap(ctx->inode_used_map, 
+								 ino);
+				continue;
+			}
+		}
+
+		if (extent_fs && !(inode->i_flags & EXT4_EXTENTS_FL) &&
+		    (inode->i_links_count || (ino == EXT2_BAD_INO) ||
+		     (ino == EXT2_ROOT_INO) || (ino == EXT2_JOURNAL_INO)) &&
+		    (LINUX_S_ISREG(inode->i_mode) ||
+		     LINUX_S_ISDIR(inode->i_mode)) &&
+		    (ext2fs_extent_header_verify(inode->i_block, 
+						 sizeof(inode->i_block)) == 0)) {
+			if (fix_problem(ctx, PR_1_UNSET_EXTENT_FL, &pctx)) {
+				inode->i_flags |= EXT4_EXTENTS_FL;
+				e2fsck_write_inode(ctx, ino, inode, "pass1");
+			}
+		}
+
 		if (ino == EXT2_BAD_INO) {
 			struct process_block_struct pb;
 			
@@ -695,15 +730,8 @@ void e2fsck_pass1(e2fsck_t ctx)
 			 * regnerated in pass #3.
 			 */
 			if (!LINUX_S_ISDIR(inode->i_mode)) {
-				if (fix_problem(ctx, PR_1_ROOT_NO_DIR, &pctx)) {
-					inode->i_dtime = ctx->now;
-					inode->i_links_count = 0;
-					ext2fs_icount_store(ctx->inode_link_info,
-							    ino, 0);
-					e2fsck_write_inode(ctx, ino, inode,
-							   "pass1");
-				}
-
+				if (fix_problem(ctx, PR_1_ROOT_NO_DIR, &pctx))
+					goto clear_inode;
 			}
 			/*
 			 * If dtime is set, offer to clear it.  mke2fs
@@ -834,10 +862,6 @@ void e2fsck_pass1(e2fsck_t ctx)
 			frag = inode->osd2.hurd2.h_i_frag;
 			fsize = inode->osd2.hurd2.h_i_fsize;
 			break;
-		    case EXT2_OS_MASIX:
-			frag = inode->osd2.masix2.m_i_frag;
-			fsize = inode->osd2.masix2.m_i_fsize;
-			break;
 		    default:
 			frag = fsize = 0;
 		}
@@ -913,10 +937,11 @@ void e2fsck_pass1(e2fsck_t ctx)
 			ctx->fs_dind_count++;
 		if (inode->i_block[EXT2_TIND_BLOCK])
 			ctx->fs_tind_count++;
-		if (inode->i_block[EXT2_IND_BLOCK] ||
-		    inode->i_block[EXT2_DIND_BLOCK] ||
-		    inode->i_block[EXT2_TIND_BLOCK] ||
-		    inode->i_file_acl) {
+		if (!(inode->i_flags & EXT4_EXTENTS_FL) &&
+		    (inode->i_block[EXT2_IND_BLOCK] ||
+		     inode->i_block[EXT2_DIND_BLOCK] ||
+		     inode->i_block[EXT2_TIND_BLOCK] ||
+		     inode->i_file_acl)) {
 			inodes_to_process[process_inode_count].ino = ino;
 			inodes_to_process[process_inode_count].inode = *inode;
 			process_inode_count++;
@@ -1013,7 +1038,7 @@ endit:
 #ifdef RESOURCE_TRACK
 	if (ctx->options & E2F_OPT_TIME2) {
 		e2fsck_clear_progbar(ctx);
-		print_resource_track(_("Pass 1"), &rtrack);
+		print_resource_track(_("Pass 1"), &rtrack, ctx->fs->io);
 	}
 #endif
 }
@@ -1364,10 +1389,13 @@ static int check_ext_attr(e2fsck_t ctx, 
 	entry = (struct ext2_ext_attr_entry *)(header+1);
 	end = block_buf + fs->blocksize;
 	while ((char *)entry < end && *(__u32 *)entry) {
+		__u32 hash;
+
 		if (region_allocate(region, (char *)entry - (char *)header,
 			           EXT2_EXT_ATTR_LEN(entry->e_name_len))) {
 			if (fix_problem(ctx, PR_1_EA_ALLOC_COLLISION, pctx))
 				goto clear_extattr;
+			break;
 		}
 		if ((ctx->ext_attr_ver == 1 &&
 		     (entry->e_name_len == 0 || entry->e_name_index != 0)) ||
@@ -1375,6 +1403,7 @@ static int check_ext_attr(e2fsck_t ctx, 
 		     entry->e_name_index == 0)) {
 			if (fix_problem(ctx, PR_1_EA_BAD_NAME, pctx))
 				goto clear_extattr;
+			break;
 		}
 		if (entry->e_value_block != 0) {
 			if (fix_problem(ctx, PR_1_EA_BAD_VALUE, pctx))
@@ -1391,6 +1420,17 @@ static int check_ext_attr(e2fsck_t ctx, 
 			if (fix_problem(ctx, PR_1_EA_ALLOC_COLLISION, pctx))
 				goto clear_extattr;
 		}
+
+		hash = ext2fs_ext_attr_hash_entry(entry, block_buf +
+							 entry->e_value_offs);
+
+		if (entry->e_hash != hash) {
+			pctx->num = entry->e_hash;
+			if (fix_problem(ctx, PR_1_ATTR_HASH, pctx))
+				goto clear_extattr;
+			entry->e_hash = hash;
+		}
+
 		entry = EXT2_EXT_ATTR_NEXT(entry);
 	}
 	if (region_allocate(region, (char *)entry - (char *)header, 4)) {
@@ -1416,8 +1456,7 @@ clear_extattr:
 
 /* Returns 1 if bad htree, 0 if OK */
 static int handle_htree(e2fsck_t ctx, struct problem_context *pctx,
-			ext2_ino_t ino EXT2FS_ATTR((unused)),
-			struct ext2_inode *inode,
+			ext2_ino_t ino, struct ext2_inode *inode,
 			char *block_buf)
 {
 	struct ext2_dx_root_info	*root;
@@ -1431,12 +1470,17 @@ static int handle_htree(e2fsck_t ctx, st
 	     fix_problem(ctx, PR_1_HTREE_SET, pctx)))
 		return 1;
 
-	blk = inode->i_block[0];
-	if (((blk == 0) ||
-	     (blk < fs->super->s_first_data_block) ||
-	     (blk >= fs->super->s_blocks_count)) &&
-	    fix_problem(ctx, PR_1_HTREE_BADROOT, pctx))
-		return 1;
+	pctx->errcode = ext2fs_bmap(fs, ino, inode, 0, 0, 0, &blk);
+
+	if ((pctx->errcode) ||
+	    (blk == 0) ||
+	    (blk < fs->super->s_first_data_block) ||
+	    (blk >= fs->super->s_blocks_count)) {
+		if (fix_problem(ctx, PR_1_HTREE_BADROOT, pctx))
+			return 1;
+		else
+			return 0;
+	}
 
 	retval = io_channel_read_blk(fs->io, blk, 1, block_buf);
 	if (retval && fix_problem(ctx, PR_1_HTREE_BADROOT, pctx))
@@ -1468,6 +1512,144 @@ static int handle_htree(e2fsck_t ctx, st
 	return 0;
 }
 
+void e2fsck_clear_inode(e2fsck_t ctx, ext2_ino_t ino,
+			struct ext2_inode *inode, int restart_flag,
+			const char *source)
+{
+	inode->i_flags = 0;
+	inode->i_links_count = 0;
+	ext2fs_icount_store(ctx->inode_link_info, ino, 0);
+	inode->i_dtime = ctx->now;
+
+	ext2fs_unmark_inode_bitmap(ctx->inode_dir_map, ino);
+	ext2fs_unmark_inode_bitmap(ctx->inode_used_map, ino);
+	if (ctx->inode_reg_map)
+		ext2fs_unmark_inode_bitmap(ctx->inode_reg_map, ino);
+	if (ctx->inode_bad_map)
+		ext2fs_unmark_inode_bitmap(ctx->inode_bad_map, ino);
+
+	/*
+	 * If the inode was partially accounted for before processing
+	 * was aborted, we need to restart the pass 1 scan.
+	 */
+	ctx->flags |= restart_flag;
+
+	e2fsck_write_inode(ctx, ino, inode, source);
+}
+
+static void scan_extent_node(e2fsck_t ctx, struct problem_context *pctx,
+			     struct process_block_struct *pb, 
+			     ext2_extent_handle_t ehandle)
+{
+	struct ext2fs_extent	extent;
+	blk_t			blk;
+	e2_blkcnt_t		blockcnt;
+	int			i;
+	int			is_dir, is_leaf;
+	errcode_t		problem;
+
+
+	pctx->errcode = ext2fs_extent_get(ehandle, EXT2_EXTENT_FIRST_SIB,
+					  &extent);
+	while (!pctx->errcode) {
+		is_leaf = extent.e_flags & EXT2_EXTENT_FLAGS_LEAF;
+		is_dir = LINUX_S_ISDIR(pctx->inode->i_mode);
+
+		problem = 0;
+		if (extent.e_pblk < ctx->fs->super->s_first_data_block ||
+		    extent.e_pblk >= ctx->fs->super->s_blocks_count)
+			problem = PR_1_EXTENT_BAD_START_BLK;
+		else if ((extent.e_pblk + extent.e_len) >
+			 ctx->fs->super->s_blocks_count)
+			problem = PR_1_EXTENT_ENDS_BEYOND;
+
+		if (problem) {
+			pctx->blk = extent.e_pblk;
+			pctx->blk2 = extent.e_lblk;
+			pctx->num = extent.e_len;
+			if (fix_problem(ctx, problem, pctx)) {
+				pctx->errcode =
+					ext2fs_extent_delete(ehandle, 0);
+				if (pctx->errcode) {
+					fix_problem(ctx,
+						    PR_1_EXTENT_DELETE_FAIL,
+						    pctx);
+					/* Should never get here */
+					ctx->flags |= E2F_FLAG_ABORT;
+					return;
+				}
+			}
+			goto next;
+		}
+
+		if (!is_leaf) {
+			mark_block_used(ctx, extent.e_pblk);
+			pctx->errcode = ext2fs_extent_get(ehandle,
+						  EXT2_EXTENT_DOWN, &extent);
+			if (pctx->errcode) {
+				printf("Error1: %s\n", error_message(pctx->errcode));
+				abort();
+			}
+			scan_extent_node(ctx, pctx, pb, ehandle);
+			pctx->errcode = ext2fs_extent_get(ehandle,
+						  EXT2_EXTENT_UP, &extent);
+			if (pctx->errcode) {
+				printf("Error1: %s\n", error_message(pctx->errcode));
+				abort();
+			}
+			goto next;
+		}
+
+		for (blk = extent.e_pblk, blockcnt = extent.e_lblk, i = 0;
+		     i < extent.e_len;
+		     blk++, blockcnt++, i++) {
+			mark_block_used(ctx, blk);
+
+			if (is_dir) {
+				pctx->errcode = ext2fs_add_dir_block(ctx->fs->dblist, pctx->ino, blk, blockcnt);
+				if (pctx->errcode) {
+					pctx->blk = blk;
+					pctx->num = blockcnt;
+					fix_problem(ctx, PR_1_ADD_DBLOCK, pctx);
+					/* Should never get here */
+					ctx->flags |= E2F_FLAG_ABORT;
+					return;
+				}
+			}
+		}
+		pb->num_blocks += extent.e_len;
+		pb->last_block = extent.e_lblk + extent.e_len - 1;
+	next:
+		pctx->errcode = ext2fs_extent_get(ehandle,
+						  EXT2_EXTENT_NEXT_SIB,
+						  &extent);
+	}
+	if (pctx->errcode == EXT2_ET_EXTENT_NO_NEXT)
+		pctx->errcode = 0;
+}
+
+static void check_blocks_extents(e2fsck_t ctx, struct problem_context *pctx,
+				 struct process_block_struct *pb, 
+				 char *block_buf)
+{
+	struct ext2_inode	*inode = pctx->inode;
+	ext2_extent_handle_t	ehandle;
+	ext2_filsys		fs = ctx->fs;
+	ext2_ino_t		ino = pctx->ino;
+
+	pctx->errcode = ext2fs_extent_open(fs, ino, &ehandle);
+	if (pctx->errcode &&
+	    fix_problem(ctx, PR_1_READ_EXTENT, pctx)) {
+		e2fsck_clear_inode(ctx, ino, inode, 0, "check_blocks_extents");
+		pctx->errcode = 0;
+		return;
+	}
+
+	scan_extent_node(ctx, pctx, pb, ehandle);
+
+	ext2fs_extent_free(ehandle);
+}
+
 /*
  * This subroutine is called on each inode to account for all of the
  * blocks used by that inode.
@@ -1512,13 +1694,22 @@ static void check_blocks(e2fsck_t ctx, s
 		}
 	}
 
-	if (inode->i_file_acl && check_ext_attr(ctx, pctx, block_buf))
+	if (inode->i_file_acl && check_ext_attr(ctx, pctx, block_buf)) {
+		if (ctx->flags & E2F_FLAG_SIGNAL_MASK)
+			goto out;
 		pb.num_blocks++;
+	}
 
-	if (ext2fs_inode_has_valid_blocks(inode))
-		pctx->errcode = ext2fs_block_iterate2(fs, ino,
-				       pb.is_dir ? BLOCK_FLAG_HOLE : 0,
-				       block_buf, process_block, &pb);
+	if (ext2fs_inode_has_valid_blocks(inode)) {
+		if ((ctx->fs->super->s_feature_incompat &
+		     EXT3_FEATURE_INCOMPAT_EXTENTS) &&
+		    (inode->i_flags & EXT4_EXTENTS_FL))
+			check_blocks_extents(ctx, pctx, &pb, block_buf);
+		else
+			pctx->errcode = ext2fs_block_iterate2(fs, ino,
+						pb.is_dir ? BLOCK_FLAG_HOLE : 0,
+						block_buf, process_block, &pb);
+	}
 	end_problem_latch(ctx, PR_LATCH_BLOCK);
 	end_problem_latch(ctx, PR_LATCH_TOOBIG);
 	if (ctx->flags & E2F_FLAG_SIGNAL_MASK)
@@ -1530,20 +1721,9 @@ static void check_blocks(e2fsck_t ctx, s
 		ctx->fs_fragmented++;
 
 	if (pb.clear) {
-		inode->i_links_count = 0;
-		ext2fs_icount_store(ctx->inode_link_info, ino, 0);
-		inode->i_dtime = ctx->now;
-		dirty_inode++;
-		ext2fs_unmark_inode_bitmap(ctx->inode_dir_map, ino);
-		ext2fs_unmark_inode_bitmap(ctx->inode_reg_map, ino);
-		ext2fs_unmark_inode_bitmap(ctx->inode_used_map, ino);
-		/*
-		 * The inode was probably partially accounted for
-		 * before processing was aborted, so we need to
-		 * restart the pass 1 scan.
-		 */
-		ctx->flags |= E2F_FLAG_RESTART;
-		goto out;
+		e2fsck_clear_inode(ctx, ino, inode, E2F_FLAG_RESTART,
+				   "check_blocks");
+		return;
 	}
 	
 	if (inode->i_flags & EXT2_INDEX_FL) {
@@ -1563,15 +1743,9 @@ static void check_blocks(e2fsck_t ctx, s
 		
 	if (!pb.num_blocks && pb.is_dir) {
 		if (fix_problem(ctx, PR_1_ZERO_LENGTH_DIR, pctx)) {
-			inode->i_links_count = 0;
-			ext2fs_icount_store(ctx->inode_link_info, ino, 0);
-			inode->i_dtime = ctx->now;
-			dirty_inode++;
-			ext2fs_unmark_inode_bitmap(ctx->inode_dir_map, ino);
-			ext2fs_unmark_inode_bitmap(ctx->inode_reg_map, ino);
-			ext2fs_unmark_inode_bitmap(ctx->inode_used_map, ino);
+			e2fsck_clear_inode(ctx, ino, inode, 0, "check_blocks");
 			ctx->fs_directory_count--;
-			goto out;
+			return;
 		}
 	}
 
diff -Nurp e2fsprogs-1.40.7/e2fsck/pass2.c e2fsprogs/e2fsck/pass2.c
--- e2fsprogs-1.40.7/e2fsck/pass2.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/e2fsck/pass2.c	2008-02-29 11:23:57.000000000 +0000
@@ -102,7 +102,7 @@ void e2fsck_pass2(e2fsck_t ctx)
 	int			bad_dir;
 
 #ifdef RESOURCE_TRACK
-	init_resource_track(&rtrack);
+	init_resource_track(&rtrack, ctx->fs->io);
 #endif
 
 	clear_problem_context(&cd.pctx);
@@ -275,12 +275,21 @@ void e2fsck_pass2(e2fsck_t ctx)
 			ext2fs_update_dynamic_rev(fs);
 			ext2fs_mark_super_dirty(fs);
 		}
+	} else if (!ctx->large_files &&
+	    (sb->s_feature_ro_compat &
+	      EXT2_FEATURE_RO_COMPAT_LARGE_FILE)) {
+		if (fs->flags & EXT2_FLAG_RW) {
+			sb->s_feature_ro_compat &= 
+				~EXT2_FEATURE_RO_COMPAT_LARGE_FILE;
+			fs->flags &= ~EXT2_FLAG_MASTER_SB_ONLY;
+			ext2fs_mark_super_dirty(fs);
+		}
 	}
 	
 #ifdef RESOURCE_TRACK
 	if (ctx->options & E2F_OPT_TIME2) {
 		e2fsck_clear_progbar(ctx);
-		print_resource_track(_("Pass 2"), &rtrack);
+		print_resource_track(_("Pass 2"), &rtrack, fs->io);
 	}
 #endif
 }
@@ -1102,11 +1111,8 @@ static void deallocate_inode(e2fsck_t ct
 	struct problem_context	pctx;
 	__u32			count;
 	
-	ext2fs_icount_store(ctx->inode_link_info, ino, 0);
 	e2fsck_read_inode(ctx, ino, &inode, "deallocate_inode");
-	inode.i_links_count = 0;
-	inode.i_dtime = ctx->now;
-	e2fsck_write_inode(ctx, ino, &inode, "deallocate_inode");
+	e2fsck_clear_inode(ctx, ino, &inode, 0, "deallocate_inode");
 	clear_problem_context(&pctx);
 	pctx.ino = ino;
 
@@ -1114,10 +1120,6 @@ static void deallocate_inode(e2fsck_t ct
 	 * Fix up the bitmaps...
 	 */
 	e2fsck_read_bitmaps(ctx);
-	ext2fs_unmark_inode_bitmap(ctx->inode_used_map, ino);
-	ext2fs_unmark_inode_bitmap(ctx->inode_dir_map, ino);
-	if (ctx->inode_bad_map)
-		ext2fs_unmark_inode_bitmap(ctx->inode_bad_map, ino);
 	ext2fs_inode_alloc_stats2(fs, ino, -1, LINUX_S_ISDIR(inode.i_mode));
 
 	if (inode.i_file_acl &&
@@ -1246,10 +1248,6 @@ extern int e2fsck_process_bad_inode(e2fs
 		frag = &inode.osd2.hurd2.h_i_frag;
 		fsize = &inode.osd2.hurd2.h_i_fsize;
 		break;
-	    case EXT2_OS_MASIX:
-		frag = &inode.osd2.masix2.m_i_frag;
-		fsize = &inode.osd2.masix2.m_i_fsize;
-		break;
 	    default:
 		frag = fsize = 0;
 	}
diff -Nurp e2fsprogs-1.40.7/e2fsck/pass3.c e2fsprogs/e2fsck/pass3.c
--- e2fsprogs-1.40.7/e2fsck/pass3.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/e2fsck/pass3.c	2008-02-29 11:23:57.000000000 +0000
@@ -61,7 +61,7 @@ void e2fsck_pass3(e2fsck_t ctx)
 	unsigned long maxdirs, count;
 
 #ifdef RESOURCE_TRACK
-	init_resource_track(&rtrack);
+	init_resource_track(&rtrack, ctx->fs->io);
 #endif
 
 	clear_problem_context(&pctx);
@@ -87,7 +87,8 @@ void e2fsck_pass3(e2fsck_t ctx)
 #ifdef RESOURCE_TRACK
 	if (ctx->options & E2F_OPT_TIME) {
 		e2fsck_clear_progbar(ctx);
-		print_resource_track(_("Peak memory"), &ctx->global_rtrack);
+		print_resource_track(_("Peak memory"), &ctx->global_rtrack,
+				     NULL);
 	}
 #endif
 
@@ -142,7 +143,7 @@ abort_exit:
 #ifdef RESOURCE_TRACK
 	if (ctx->options & E2F_OPT_TIME2) {
 		e2fsck_clear_progbar(ctx);
-		print_resource_track(_("Pass 3"), &rtrack);
+		print_resource_track(_("Pass 3"), &rtrack, ctx->fs->io);
 	}
 #endif
 }
diff -Nurp e2fsprogs-1.40.7/e2fsck/pass4.c e2fsprogs/e2fsck/pass4.c
--- e2fsprogs-1.40.7/e2fsck/pass4.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/e2fsck/pass4.c	2008-02-29 11:23:57.000000000 +0000
@@ -15,6 +15,7 @@
 
 #include "e2fsck.h"
 #include "problem.h"
+#include <ext2fs/ext2_ext_attr.h>
 
 /*
  * This routine is called when an inode is not connected to the
@@ -23,39 +24,45 @@
  * This subroutine returns 1 then the caller shouldn't bother with the
  * rest of the pass 4 tests.
  */
-static int disconnect_inode(e2fsck_t ctx, ext2_ino_t i)
+static int disconnect_inode(e2fsck_t ctx, ext2_ino_t i,
+			    struct ext2_inode *inode)
 {
 	ext2_filsys fs = ctx->fs;
-	struct ext2_inode	inode;
 	struct problem_context	pctx;
+	__u32 eamagic = 0;
+	int extra_size = 0;
 
-	e2fsck_read_inode(ctx, i, &inode, "pass4: disconnect_inode");
+	if (EXT2_INODE_SIZE(fs->super) > EXT2_GOOD_OLD_INODE_SIZE) {
+		e2fsck_read_inode_full(ctx, i, inode,EXT2_INODE_SIZE(fs->super),
+				       "pass4: disconnect_inode");
+		extra_size = ((struct ext2_inode_large *)inode)->i_extra_isize;
+	} else {
+		e2fsck_read_inode(ctx, i, inode, "pass4: disconnect_inode");
+	}
 	clear_problem_context(&pctx);
 	pctx.ino = i;
-	pctx.inode = &inode;
+	pctx.inode = inode;
 	
+	if (EXT2_INODE_SIZE(fs->super) -EXT2_GOOD_OLD_INODE_SIZE -extra_size >0)
+		eamagic = *(__u32 *)(((char *)inode) +EXT2_GOOD_OLD_INODE_SIZE +
+				     extra_size);
 	/*
 	 * Offer to delete any zero-length files that does not have
 	 * blocks.  If there is an EA block, it might have useful
 	 * information, so we won't prompt to delete it, but let it be
 	 * reconnected to lost+found.
 	 */
-	if (!inode.i_blocks && (LINUX_S_ISREG(inode.i_mode) ||
-				LINUX_S_ISDIR(inode.i_mode))) {
+	if (!inode->i_blocks && eamagic != EXT2_EXT_ATTR_MAGIC &&
+	    (LINUX_S_ISREG(inode->i_mode) || LINUX_S_ISDIR(inode->i_mode))) {
 		if (fix_problem(ctx, PR_4_ZERO_LEN_INODE, &pctx)) {
-			ext2fs_icount_store(ctx->inode_link_info, i, 0);
-			inode.i_links_count = 0;
-			inode.i_dtime = ctx->now;
-			e2fsck_write_inode(ctx, i, &inode,
+			e2fsck_clear_inode(ctx, i, inode, 0, 
 					   "disconnect_inode");
 			/*
 			 * Fix up the bitmaps...
 			 */
 			e2fsck_read_bitmaps(ctx);
-			ext2fs_unmark_inode_bitmap(ctx->inode_used_map, i);
-			ext2fs_unmark_inode_bitmap(ctx->inode_dir_map, i);
 			ext2fs_inode_alloc_stats2(fs, i, -1,
-						  LINUX_S_ISDIR(inode.i_mode));
+						  LINUX_S_ISDIR(inode->i_mode));
 			return 0;
 		}
 	}
@@ -83,7 +90,7 @@ void e2fsck_pass4(e2fsck_t ctx)
 {
 	ext2_filsys fs = ctx->fs;
 	ext2_ino_t	i;
-	struct ext2_inode	inode;
+	struct ext2_inode	*inode;
 #ifdef RESOURCE_TRACK
 	struct resource_track	rtrack;
 #endif
@@ -93,7 +100,7 @@ void e2fsck_pass4(e2fsck_t ctx)
 	int	group, maxgroup;
 	
 #ifdef RESOURCE_TRACK
-	init_resource_track(&rtrack);
+	init_resource_track(&rtrack, ctx->fs->io);
 #endif
 
 #ifdef MTRACE
@@ -111,6 +118,9 @@ void e2fsck_pass4(e2fsck_t ctx)
 		if ((ctx->progress)(ctx, 4, 0, maxgroup))
 			return;
 
+	inode = e2fsck_allocate_memory(ctx, EXT2_INODE_SIZE(fs->super),
+				       "scratch inode");
+
 	/* Protect loop from wrap-around if s_inodes_count maxed */
 	for (i=1; i <= fs->super->s_inodes_count && i > 0; i++) {
 		if (ctx->flags & E2F_FLAG_SIGNAL_MASK)
@@ -138,7 +148,7 @@ void e2fsck_pass4(e2fsck_t ctx)
 				     fs->blocksize, "bad_inode buffer");
 			if (e2fsck_process_bad_inode(ctx, 0, i, buf))
 				continue;
-			if (disconnect_inode(ctx, i))
+			if (disconnect_inode(ctx, i, inode))
 				continue;
 			ext2fs_icount_fetch(ctx->inode_link_info, i,
 					    &link_count);
@@ -146,18 +156,18 @@ void e2fsck_pass4(e2fsck_t ctx)
 					    &link_counted);
 		}
 		if (link_counted != link_count) {
-			e2fsck_read_inode(ctx, i, &inode, "pass4");
+			e2fsck_read_inode(ctx, i, inode, "pass4");
 			pctx.ino = i;
-			pctx.inode = &inode;
-			if (link_count != inode.i_links_count) {
+			pctx.inode = inode;
+			if (link_count != inode->i_links_count) {
 				pctx.num = link_count;
 				fix_problem(ctx,
 					    PR_4_INCONSISTENT_COUNT, &pctx);
 			}
 			pctx.num = link_counted;
 			if (fix_problem(ctx, PR_4_BAD_REF_COUNT, &pctx)) {
-				inode.i_links_count = link_counted;
-				e2fsck_write_inode(ctx, i, &inode, "pass4");
+				inode->i_links_count = link_counted;
+				e2fsck_write_inode(ctx, i, inode, "pass4");
 			}
 		}
 	}
@@ -170,10 +180,12 @@ void e2fsck_pass4(e2fsck_t ctx)
 errout:
 	if (buf)
 		ext2fs_free_mem(&buf);
+
+	ext2fs_free_mem(&inode);
 #ifdef RESOURCE_TRACK
 	if (ctx->options & E2F_OPT_TIME2) {
 		e2fsck_clear_progbar(ctx);
-		print_resource_track(_("Pass 4"), &rtrack);
+		print_resource_track(_("Pass 4"), &rtrack, ctx->fs->io);
 	}
 #endif
 }
diff -Nurp e2fsprogs-1.40.7/e2fsck/pass5.c e2fsprogs/e2fsck/pass5.c
--- e2fsprogs-1.40.7/e2fsck/pass5.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/e2fsck/pass5.c	2008-02-29 11:23:57.000000000 +0000
@@ -30,7 +30,7 @@ void e2fsck_pass5(e2fsck_t ctx)
 #endif
 
 #ifdef RESOURCE_TRACK
-	init_resource_track(&rtrack);
+	init_resource_track(&rtrack, ctx->fs->io);
 #endif
 	
 	clear_problem_context(&pctx);
@@ -67,7 +67,7 @@ void e2fsck_pass5(e2fsck_t ctx)
 #ifdef RESOURCE_TRACK
 	if (ctx->options & E2F_OPT_TIME2) {
 		e2fsck_clear_progbar(ctx);
-		print_resource_track(_("Pass 5"), &rtrack);
+		print_resource_track(_("Pass 5"), &rtrack, ctx->fs->io);
 	}
 #endif
 }
@@ -114,8 +114,8 @@ static void check_block_bitmaps(e2fsck_t
 	blk_t	i, super;
 	int	*free_array;
 	int	group = 0;
-	unsigned int	blocks = 0;
-	unsigned int	free_blocks = 0;
+	blk_t	blocks = 0;
+	blk_t	free_blocks = 0;
 	int	group_free = 0;
 	int	actual, bitmap;
 	struct problem_context	pctx;
@@ -563,7 +563,7 @@ static void check_block_end(e2fsck_t ctx
 
 	clear_problem_context(&pctx);
 
-	end = fs->block_map->start +
+	end = ext2fs_get_block_bitmap_start(fs->block_map) +
 		(EXT2_BLOCKS_PER_GROUP(fs->super) * fs->group_desc_count) - 1;
 	pctx.errcode = ext2fs_fudge_block_bitmap_end(fs->block_map, end,
 						     &save_blocks_count);
diff -Nurp e2fsprogs-1.40.7/e2fsck/problem.c e2fsprogs/e2fsck/problem.c
--- e2fsprogs-1.40.7/e2fsck/problem.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/e2fsck/problem.c	2008-02-29 11:23:57.000000000 +0000
@@ -776,7 +776,7 @@ static struct e2fsck_problem problem_tab
 
 	/* invalid ea entry->e_hash */	
 	{ PR_1_ATTR_HASH,
-	  N_("@a in @i %i has a hash (%N) which is @n (must be 0)\n"),
+	  N_("@a in @i %i has a hash (%N) which is @n\n"),
 	  PROMPT_CLEAR, PR_PREEN_OK },
 
 	/* inode appears to be a directory */
@@ -784,6 +784,41 @@ static struct e2fsck_problem problem_tab
 	  N_("@i %i is a %It but it looks like it is really a directory.\n"),
 	  PROMPT_FIX, 0 },
 
+	/* Error while reading extent tree */
+	{ PR_1_READ_EXTENT,
+	  N_("Error while reading over @x tree in @i %i: %m\n"),
+	  PROMPT_CLEAR_INODE, 0 },
+
+	/* Error deleting a bogus extent */
+	{ PR_1_EXTENT_DELETE_FAIL,
+	  N_("Error while deleting extent: %m\n"),
+	  PROMPT_ABORT, 0 },
+
+	/* Bad starting block in extent */
+	{ PR_1_EXTENT_BAD_START_BLK,
+	  N_("@i %i has an @n extent\n\t(logical @b %c, @n physical @b %b, len %N)\n"),
+	  PROMPT_CLEAR, 0 },
+
+	/* Extent ends beyond filesystem */
+	{ PR_1_EXTENT_ENDS_BEYOND,
+	  N_("@i %i has an @n extent\n\t(logical @b %c, physical @b %b, @n len %N)\n"),
+	  PROMPT_CLEAR, 0 },
+
+	/* EXTENTS_FL flag set on a non-extents filesystem */
+	{ PR_1_EXTENTS_SET,
+	  N_("@i %i has EXTENTS_FL flag set on @f without extents support.\n"),
+	  PROMPT_CLEAR, 0 },
+
+	/* inode has extents, superblock missing INCOMPAT_EXTENTS feature */
+	{ PR_1_EXTENT_FEATURE,
+	  N_("@i %i is in extent format, but @S is missing EXTENTS feature\n"),
+	  PROMPT_FIX, 0 },
+
+	/* inode missing EXTENTS_FL, but is an extent inode */
+	{ PR_1_UNSET_EXTENT_FL,
+	  N_("@i %i missing EXTENT_FL, but is in extents format\n"),
+	  PROMPT_FIX, PR_PREEN_OK },
+
 	/* Pass 1b errors */
 
 	/* Pass 1B: Rescan for duplicate/bad blocks */
diff -Nurp e2fsprogs-1.40.7/e2fsck/problem.h e2fsprogs/e2fsck/problem.h
--- e2fsprogs-1.40.7/e2fsck/problem.h	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/e2fsck/problem.h	2008-02-29 11:23:57.000000000 +0000
@@ -16,7 +16,7 @@ struct problem_context {
 	ext2_ino_t ino, ino2, dir;
 	struct ext2_inode *inode;
 	struct ext2_dir_entry *dirent;
-	blk_t	blk, blk2;
+	blk64_t	blk, blk2;
 	e2_blkcnt_t	blkcount;
 	int		group;
 	__u64	num;
@@ -455,6 +455,27 @@ struct problem_context {
 /* inode appears to be a directory */
 #define PR_1_TREAT_AS_DIRECTORY		0x010055
 
+/* Error while reading extent tree */
+#define PR_1_READ_EXTENT		0x010056
+
+/* Error deleting a bogus extent */
+#define PR_1_EXTENT_DELETE_FAIL		0x010057
+
+/* Bad starting block in extent */
+#define PR_1_EXTENT_BAD_START_BLK	0x010058
+
+/* Extent ends beyond filesystem */
+#define PR_1_EXTENT_ENDS_BEYOND		0x010059
+
+/* EXTENTS_FL flag set on a non-extents capable filesystem */
+#define PR_1_EXTENTS_SET		0x01005A
+
+/* inode has extents, superblock missing INCOMPAT_EXTENTS feature */
+#define PR_1_EXTENT_FEATURE		0x01005B
+
+/* inode missing EXTENTS_FL, but is an extent inode */
+#define PR_1_UNSET_EXTENT_FL		0x01005C
+
 /*
  * Pass 1b errors
  */
diff -Nurp e2fsprogs-1.40.7/e2fsck/rehash.c e2fsprogs/e2fsck/rehash.c
--- e2fsprogs-1.40.7/e2fsck/rehash.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/e2fsck/rehash.c	2008-02-29 11:23:57.000000000 +0000
@@ -789,7 +789,7 @@ void e2fsck_rehash_directories(e2fsck_t 
 	int			cur, max, all_dirs, dir_index, first = 1;
 
 #ifdef RESOURCE_TRACK
-	init_resource_track(&rtrack);
+	init_resource_track(&rtrack, ctx->fs->io);
 #endif
 
 	all_dirs = ctx->options & E2F_OPT_COMPRESS_DIRS;
@@ -858,7 +858,7 @@ void e2fsck_rehash_directories(e2fsck_t 
 #ifdef RESOURCE_TRACK
 	if (ctx->options & E2F_OPT_TIME2) {
 		e2fsck_clear_progbar(ctx);
-		print_resource_track("Pass 3A", &rtrack);
+		print_resource_track("Pass 3A", &rtrack, ctx->fs->io);
 	}
 #endif
 }
diff -Nurp e2fsprogs-1.40.7/e2fsck/super.c e2fsprogs/e2fsck/super.c
--- e2fsprogs-1.40.7/e2fsck/super.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/e2fsck/super.c	2008-02-29 11:23:57.000000000 +0000
@@ -467,7 +467,8 @@ void check_super_block(e2fsck_t ctx)
 	dgrp_t	i;
 	blk_t	should_be;
 	struct problem_context	pctx;
-	__u32	free_blocks = 0, free_inodes = 0;
+	blk_t	free_blocks = 0;
+	ino_t	free_inodes = 0;
 
 	inodes_per_block = EXT2_INODES_PER_BLOCK(fs->super);
 	ipg_max = inodes_per_block * (blocks_per_group - 4);
@@ -574,13 +575,17 @@ void check_super_block(e2fsck_t ctx)
 	/*
 	 * Verify the group descriptors....
 	 */
-	first_block =  sb->s_first_data_block;
+	first_block = sb->s_first_data_block;
+	last_block = sb->s_blocks_count-1;
 
 	for (i = 0, gd=fs->group_desc; i < fs->group_desc_count; i++, gd++) {
 		pctx.group = i;
 
-		first_block = ext2fs_group_first_block(fs, i);
-		last_block = ext2fs_group_last_block(fs, i);
+		if (!EXT2_HAS_INCOMPAT_FEATURE(fs->super,
+					       EXT4_FEATURE_INCOMPAT_FLEX_BG)) {
+			first_block = ext2fs_group_first_block(fs, i);
+			last_block = ext2fs_group_last_block(fs, i);
+		}
 
 		if ((gd->bg_block_bitmap < first_block) ||
 		    (gd->bg_block_bitmap > last_block)) {
diff -Nurp e2fsprogs-1.40.7/e2fsck/swapfs.c e2fsprogs/e2fsck/swapfs.c
--- e2fsprogs-1.40.7/e2fsck/swapfs.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/e2fsck/swapfs.c	1970-01-01 00:00:00.000000000 +0000
@@ -1,272 +0,0 @@
-/*
- * swapfs.c --- byte-swap an ext2 filesystem
- *
- * Copyright 1996, 1997 by Theodore Ts'o
- * 
- * %Begin-Header%
- * This file may be redistributed under the terms of the GNU Public
- * License.
- * %End-Header%
- * 
- */
-
-#ifdef HAVE_ERRNO_H
-#include <errno.h>
-#endif
-#include <et/com_err.h>
-#include "e2fsck.h"
-
-#ifdef ENABLE_SWAPFS
-
-struct swap_block_struct {
-	ext2_ino_t	ino;
-	int		isdir;
-	errcode_t	errcode;
-	char		*dir_buf;
-	struct ext2_inode *inode;
-};
-
-/*
- * This is a helper function for block_iterate.  We mark all of the
- * indirect and direct blocks as changed, so that block_iterate will
- * write them out.
- */
-static int swap_block(ext2_filsys fs, blk_t *block_nr, int blockcnt,
-		      void *priv_data)
-{
-	errcode_t	retval;
-	
-	struct swap_block_struct *sb = (struct swap_block_struct *) priv_data;
-
-	if (sb->isdir && (blockcnt >= 0) && *block_nr) {
-		retval = ext2fs_read_dir_block(fs, *block_nr, sb->dir_buf);
-		if (retval) {
-			sb->errcode = retval;
-			return BLOCK_ABORT;
-		}
-		retval = ext2fs_write_dir_block(fs, *block_nr, sb->dir_buf);
-		if (retval) {
-			sb->errcode = retval;
-			return BLOCK_ABORT;
-		}
-	}
-	if (blockcnt >= 0) {
-		if (blockcnt < EXT2_NDIR_BLOCKS)
-			return 0;
-		return BLOCK_CHANGED;
-	}
-	if (blockcnt == BLOCK_COUNT_IND) {
-		if (*block_nr == sb->inode->i_block[EXT2_IND_BLOCK])
-			return 0;
-		return BLOCK_CHANGED;
-	}
-	if (blockcnt == BLOCK_COUNT_DIND) {
-		if (*block_nr == sb->inode->i_block[EXT2_DIND_BLOCK])
-			return 0;
-		return BLOCK_CHANGED;
-	}
-	if (blockcnt == BLOCK_COUNT_TIND) {
-		if (*block_nr == sb->inode->i_block[EXT2_TIND_BLOCK])
-			return 0;
-		return BLOCK_CHANGED;
-	}
-	return BLOCK_CHANGED;
-}
-
-/*
- * This function is responsible for byte-swapping all of the indirect,
- * block pointers.  It is also responsible for byte-swapping directories.
- */
-static void swap_inode_blocks(e2fsck_t ctx, ext2_ino_t ino, char *block_buf,
-			      struct ext2_inode *inode)
-{
-	errcode_t			retval;
-	struct swap_block_struct	sb;
-
-	sb.ino = ino;
-	sb.inode = inode;
-	sb.dir_buf = block_buf + ctx->fs->blocksize*3;
-	sb.errcode = 0;
-	sb.isdir = 0;
-	if (LINUX_S_ISDIR(inode->i_mode))
-		sb.isdir = 1;
-
-	retval = ext2fs_block_iterate(ctx->fs, ino, 0, block_buf,
-				      swap_block, &sb);
-	if (retval) {
-		com_err("swap_inode_blocks", retval,
-			_("while calling ext2fs_block_iterate"));
-		ctx->flags |= E2F_FLAG_ABORT;
-		return;
-	}
-	if (sb.errcode) {
-		com_err("swap_inode_blocks", sb.errcode,
-			_("while calling iterator function"));
-		ctx->flags |= E2F_FLAG_ABORT;
-		return;
-	}
-}
-
-static void swap_inodes(e2fsck_t ctx)
-{
-	ext2_filsys fs = ctx->fs;
-	dgrp_t			group;
-	unsigned int		i;
-	ext2_ino_t		ino = 1;
-	char 			*buf = NULL, *block_buf = NULL;
-	errcode_t		retval;
-	struct ext2_inode *	inode;
-
-	e2fsck_use_inode_shortcuts(ctx, 1);
-	
-	retval = ext2fs_get_array(fs->blocksize, fs->inode_blocks_per_group,
-				&buf);
-	if (retval) {
-		com_err("swap_inodes", retval,
-			_("while allocating inode buffer"));
-		ctx->flags |= E2F_FLAG_ABORT;
-		goto errout;
-	}
-	block_buf = (char *) e2fsck_allocate_memory(ctx, fs->blocksize * 4,
-						    "block interate buffer");
-	for (group = 0; group < fs->group_desc_count; group++) {
-		retval = io_channel_read_blk(fs->io,
-		      fs->group_desc[group].bg_inode_table,
-		      fs->inode_blocks_per_group, buf);
-		if (retval) {
-			com_err("swap_inodes", retval,
-				_("while reading inode table (group %d)"),
-				group);
-			ctx->flags |= E2F_FLAG_ABORT;
-			goto errout;
-		}
-		inode = (struct ext2_inode *) buf;
-		for (i=0; i < fs->super->s_inodes_per_group;
-		     i++, ino++, inode++) {
-			ctx->stashed_ino = ino;
-			ctx->stashed_inode = inode;
-			
-			if (fs->flags & EXT2_FLAG_SWAP_BYTES_READ)
-				ext2fs_swap_inode(fs, inode, inode, 0);
-			
-			/*
-			 * Skip deleted files.
-			 */
-			if (inode->i_links_count == 0)
-				continue;
-			
-			if (LINUX_S_ISDIR(inode->i_mode) ||
-			    ((inode->i_block[EXT2_IND_BLOCK] ||
-			      inode->i_block[EXT2_DIND_BLOCK] ||
-			      inode->i_block[EXT2_TIND_BLOCK]) &&
-			     ext2fs_inode_has_valid_blocks(inode)))
-				swap_inode_blocks(ctx, ino, block_buf, inode);
-
-			if (ctx->flags & E2F_FLAG_SIGNAL_MASK)
-				goto errout;
-			
-			if (fs->flags & EXT2_FLAG_SWAP_BYTES_WRITE)
-				ext2fs_swap_inode(fs, inode, inode, 1);
-		}
-		retval = io_channel_write_blk(fs->io,
-		      fs->group_desc[group].bg_inode_table,
-		      fs->inode_blocks_per_group, buf);
-		if (retval) {
-			com_err("swap_inodes", retval,
-				_("while writing inode table (group %d)"),
-				group);
-			ctx->flags |= E2F_FLAG_ABORT;
-			goto errout;
-		}
-	}
-errout:
-	if (buf)
-		ext2fs_free_mem(&buf);
-	if (block_buf)
-		ext2fs_free_mem(&block_buf);
-	e2fsck_use_inode_shortcuts(ctx, 0);
-	ext2fs_flush_icache(fs);
-}
-
-#if defined(__powerpc__) && defined(EXT2FS_ENABLE_SWAPFS)
-/*
- * On the PowerPC, the big-endian variant of the ext2 filesystem
- * has its bitmaps stored as 32-bit words with bit 0 as the LSB
- * of each word.  Thus a bitmap with only bit 0 set would be, as
- * a string of bytes, 00 00 00 01 00 ...
- * To cope with this, we byte-reverse each word of a bitmap if
- * we have a big-endian filesystem, that is, if we are *not*
- * byte-swapping other word-sized numbers.
- */
-#define EXT2_BIG_ENDIAN_BITMAPS
-#endif
-
-#ifdef EXT2_BIG_ENDIAN_BITMAPS
-static void ext2fs_swap_bitmap(ext2fs_generic_bitmap bmap)
-{
-	__u32 *p = (__u32 *) bmap->bitmap;
-	int n, nbytes = (bmap->end - bmap->start + 7) / 8;
-		
-	for (n = nbytes / sizeof(__u32); n > 0; --n, ++p)
-		*p = ext2fs_swab32(*p);
-}
-#endif
-
-
-void swap_filesys(e2fsck_t ctx)
-{
-	ext2_filsys fs = ctx->fs;
-#ifdef RESOURCE_TRACK
-	struct resource_track	rtrack;
-
-	init_resource_track(&rtrack);
-#endif
-
-	if (!(ctx->options & E2F_OPT_PREEN))
-		printf(_("Pass 0: Doing byte-swap of filesystem\n"));
-	
-#ifdef MTRACE
-	mtrace_print("Byte swap");
-#endif
-
-	if (fs->super->s_mnt_count) {
-		fprintf(stderr, _("%s: the filesystem must be freshly "
-			"checked using fsck\n"
-			"and not mounted before trying to "
-			"byte-swap it.\n"), ctx->device_name);
-		ctx->flags |= E2F_FLAG_ABORT;
-		return;
-	}
-	if (fs->flags & EXT2_FLAG_SWAP_BYTES) {
-		fs->flags &= ~(EXT2_FLAG_SWAP_BYTES|
-			       EXT2_FLAG_SWAP_BYTES_WRITE);
-		fs->flags |= EXT2_FLAG_SWAP_BYTES_READ;
-	} else {
-		fs->flags &= ~EXT2_FLAG_SWAP_BYTES_READ;
-		fs->flags |= EXT2_FLAG_SWAP_BYTES_WRITE;
-	}
-	swap_inodes(ctx);
-	if (ctx->flags & E2F_FLAG_SIGNAL_MASK)
-		return;
-	if (fs->flags & EXT2_FLAG_SWAP_BYTES_WRITE)
-		fs->flags |= EXT2_FLAG_SWAP_BYTES;
-	fs->flags &= ~(EXT2_FLAG_SWAP_BYTES_READ|
-		       EXT2_FLAG_SWAP_BYTES_WRITE);
-
-#ifdef EXT2_BIG_ENDIAN_BITMAPS
-	e2fsck_read_bitmaps(ctx);
-	ext2fs_swap_bitmap(fs->inode_map);
-	ext2fs_swap_bitmap(fs->block_map);
-	fs->flags |= EXT2_FLAG_BB_DIRTY | EXT2_FLAG_IB_DIRTY;
-#endif
-	fs->flags &= ~EXT2_FLAG_MASTER_SB_ONLY;
-	ext2fs_flush(fs);
-	fs->flags |= EXT2_FLAG_MASTER_SB_ONLY;
-	
-#ifdef RESOURCE_TRACK
-	if (ctx->options & E2F_OPT_TIME2)
-		print_resource_track(_("Byte swap"), &rtrack);
-#endif
-}
-
-#endif
diff -Nurp e2fsprogs-1.40.7/e2fsck/unix.c e2fsprogs/e2fsck/unix.c
--- e2fsprogs-1.40.7/e2fsck/unix.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/e2fsck/unix.c	2008-02-29 11:23:57.000000000 +0000
@@ -52,8 +52,6 @@ extern int optind;
 #include "../version.h"
 
 /* Command line options */
-static int swapfs;
-static int normalize_swapfs;
 static int cflag;		/* check disk */
 static int show_version_only;
 static int verbose;
@@ -71,7 +69,7 @@ int journal_enable_debug = -1;
 static void usage(e2fsck_t ctx)
 {
 	fprintf(stderr,
-		_("Usage: %s [-panyrcdfvstDFSV] [-b superblock] [-B blocksize]\n"
+		_("Usage: %s [-panyrcdfvtDFV] [-b superblock] [-B blocksize]\n"
 		"\t\t[-I inode_buffer_blocks] [-P process_inode_size]\n"
 		"\t\t[-l|-L bad_blocks_file] [-C fd] [-j external_journal]\n"
 		"\t\t[-E extended-options] device\n"),
@@ -268,8 +266,7 @@ static void check_if_skip(e2fsck_t ctx)
 	if (!defer_check_on_battery)
 		batt = 0;
 
-	if ((ctx->options & E2F_OPT_FORCE) || bad_blocks_file ||
-	    cflag || swapfs)
+	if ((ctx->options & E2F_OPT_FORCE) || bad_blocks_file || cflag)
 		return;
 	
 	lastcheck = fs->super->s_lastcheck;
@@ -735,20 +732,6 @@ static errcode_t PRS(int argc, char *arg
 		case 'N':
 			ctx->device_name = optarg;
 			break;
-#ifdef ENABLE_SWAPFS
-		case 's':
-			normalize_swapfs = 1;
-		case 'S':
-			swapfs = 1;
-			break;
-#else
-		case 's':
-		case 'S':
-			fprintf(stderr, _("Byte-swapping filesystems "
-					  "not compiled in this version "
-					  "of e2fsck\n"));
-			exit(1);
-#endif
 		case 'k':
 			keep_bad_blocks++;
 			break;
@@ -760,7 +743,7 @@ static errcode_t PRS(int argc, char *arg
 	if (optind != argc - 1)
 		usage(ctx);
 	if ((ctx->options & E2F_OPT_NO) && !bad_blocks_file &&
-	    !cflag && !swapfs && !(ctx->options & E2F_OPT_COMPRESS_DIRS))
+	    !cflag && !(ctx->options & E2F_OPT_COMPRESS_DIRS))
 		ctx->options |= E2F_OPT_READONLY;
 	ctx->io_options = strchr(argv[optind], '?');
 	if (ctx->io_options) 
@@ -795,15 +778,6 @@ static errcode_t PRS(int argc, char *arg
 		}
 		close(fd);
 	}
-#ifdef ENABLE_SWAPFS
-	if (swapfs) {
-		if (cflag || bad_blocks_file) {
-			fprintf(stderr, _("Incompatible options not "
-					  "allowed when byte-swapping.\n"));
-			exit(FSCK_USAGE);
-		}
-	}
-#endif
 	if (cflag && bad_blocks_file) {
 		fprintf(stderr, _("The -c and the -l/-L options may "
 				  "not be both used at the same time.\n"));
@@ -884,7 +858,6 @@ int main (int argc, char *argv[])
 	int flags, run_result;
 	int journal_size;
 	int sysval, sys_page_size = 4096;
-	__u32 features[3];
 	
 	clear_problem_context(&pctx);
 #ifdef MTRACE
@@ -916,7 +889,7 @@ int main (int argc, char *argv[])
 	reserve_stdio_fds();
 	
 #ifdef RESOURCE_TRACK
-	init_resource_track(&ctx->global_rtrack);
+	init_resource_track(&ctx->global_rtrack, NULL);
 #endif
 
 	if (!(ctx->options & E2F_OPT_PREEN) || show_version_only)
@@ -946,7 +919,7 @@ restart:
 #else
 	io_ptr = unix_io_manager;
 #endif
-	flags = EXT2_FLAG_NOFREE_ON_ERROR;
+	flags = 0;
 	if ((ctx->options & E2F_OPT_READONLY) == 0)
 		flags |= EXT2_FLAG_RW;
 	if ((ctx->mount_flags & EXT2_MF_MOUNTED) == 0)
@@ -975,10 +948,6 @@ restart:
 	    ((retval == EXT2_ET_BAD_MAGIC) ||
 	     (retval == EXT2_ET_CORRUPT_SUPERBLOCK) ||
 	     ((retval == 0) && ext2fs_check_desc(fs)))) {
-		if (fs->flags & EXT2_FLAG_NOFREE_ON_ERROR) {
-			ext2fs_free(fs);
-			fs = NULL;
-		}
 		if (!fs || (fs->group_desc_count > 1)) {
 			printf(_("%s: %s trying backup blocks...\n"),
 			       ctx->program_name, 
@@ -991,19 +960,6 @@ restart:
 			goto restart;
 		}
 	}
-	if (((retval == EXT2_ET_UNSUPP_FEATURE) ||
-	     (retval == EXT2_ET_RO_UNSUPP_FEATURE)) &&
-	    fs && fs->super) {
-		sb = fs->super;
-		features[0] = (sb->s_feature_compat & 
-			       ~EXT2_LIB_FEATURE_COMPAT_SUPP);
-		features[1] = (sb->s_feature_incompat & 
-			       ~EXT2_LIB_FEATURE_INCOMPAT_SUPP);
-		features[2] = (sb->s_feature_ro_compat & 
-			       ~EXT2_LIB_FEATURE_RO_COMPAT_SUPP);
-		if (features[0] || features[1] || features[2])
-			goto print_unsupp_features;
-	}
 	if (retval) {
 		if (orig_retval)
 			retval = orig_retval;
@@ -1159,26 +1115,15 @@ restart:
 	 * Check for compatibility with the feature sets.  We need to
 	 * be more stringent than ext2fs_open().
 	 */
-	features[0] = sb->s_feature_compat & ~EXT2_LIB_FEATURE_COMPAT_SUPP;
-	features[1] = sb->s_feature_incompat & ~EXT2_LIB_FEATURE_INCOMPAT_SUPP;
-	features[2] = (sb->s_feature_ro_compat & 
-		       ~EXT2_LIB_FEATURE_RO_COMPAT_SUPP);
-print_unsupp_features:
-	if (features[0] || features[1] || features[2]) {
-		int	i, j;
-		__u32	*mask = features, m;
-
-		fprintf(stderr, _("%s has unsupported feature(s):"), 
-			ctx->filesystem_name);
-
-		for (i=0; i <3; i++,mask++) {
-			for (j=0,m=1; j < 32; j++, m<<=1) {
-				if (*mask & m)
-					fprintf(stderr, " %s", 
-						e2p_feature2string(i, m));
-			}
-		}
-		putc('\n', stderr);
+	if ((sb->s_feature_compat & ~EXT2_LIB_FEATURE_COMPAT_SUPP) ||
+	    (sb->s_feature_incompat & ~EXT2_LIB_FEATURE_INCOMPAT_SUPP)) {
+		com_err(ctx->program_name, EXT2_ET_UNSUPP_FEATURE,
+			"(%s)", ctx->device_name);
+		goto get_newer;
+	}
+	if (sb->s_feature_ro_compat & ~EXT2_LIB_FEATURE_RO_COMPAT_SUPP) {
+		com_err(ctx->program_name, EXT2_ET_RO_UNSUPP_FEATURE,
+			"(%s)", ctx->device_name);
 		goto get_newer;
 	}
 #ifdef ENABLE_COMPRESSION
@@ -1234,21 +1179,6 @@ print_unsupp_features:
 		read_bad_blocks_file(ctx, 0, !keep_bad_blocks); /* Test disk */
 	if (ctx->flags & E2F_FLAG_SIGNAL_MASK)
 		fatal_error(ctx, 0);
-#ifdef ENABLE_SWAPFS
-	if (normalize_swapfs) {
-		if ((fs->flags & EXT2_FLAG_SWAP_BYTES) ==
-		    ext2fs_native_flag()) {
-			fprintf(stderr, _("%s: Filesystem byte order "
-				"already normalized.\n"), ctx->device_name);
-			fatal_error(ctx, 0);
-		}
-	}
-	if (swapfs) {
-		swap_filesys(ctx);
-		if (ctx->flags & E2F_FLAG_SIGNAL_MASK)
-			fatal_error(ctx, 0);
-	}
-#endif
 
 	/*
 	 * Mark the system as valid, 'til proven otherwise
@@ -1378,16 +1308,16 @@ no_journal:
 	}
 
 	e2fsck_write_bitmaps(ctx);
-	
+#ifdef RESOURCE_TRACK
+	io_channel_flush(ctx->fs->io);
+	if (ctx->options & E2F_OPT_TIME)
+		print_resource_track(NULL, &ctx->global_rtrack, ctx->fs->io);
+#endif
 	ext2fs_close(fs);
 	ctx->fs = NULL;
 	free(ctx->filesystem_name);
 	free(ctx->journal_name);
 
-#ifdef RESOURCE_TRACK
-	if (ctx->options & E2F_OPT_TIME)
-		print_resource_track(NULL, &ctx->global_rtrack);
-#endif
 	e2fsck_free_context(ctx);
 	remove_error_table(&et_ext2_error_table);
 	remove_error_table(&et_prof_error_table);
diff -Nurp e2fsprogs-1.40.7/e2fsck/util.c e2fsprogs/e2fsck/util.c
--- e2fsprogs-1.40.7/e2fsck/util.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/e2fsck/util.c	2008-02-29 11:23:57.000000000 +0000
@@ -276,11 +276,12 @@ void preenhalt(e2fsck_t ctx)
 }
 
 #ifdef RESOURCE_TRACK
-void init_resource_track(struct resource_track *track)
+void init_resource_track(struct resource_track *track, io_channel channel)
 {
 #ifdef HAVE_GETRUSAGE
 	struct rusage r;
 #endif
+	io_stats io_start = 0;
 	
 	track->brk_start = sbrk(0);
 	gettimeofday(&track->time_start, 0);
@@ -295,6 +296,14 @@ void init_resource_track(struct resource
 	track->user_start.tv_sec = track->user_start.tv_usec = 0;
 	track->system_start.tv_sec = track->system_start.tv_usec = 0;
 #endif
+	track->bytes_read = 0;
+	track->bytes_written = 0;
+	if (channel && channel->manager && channel->manager->get_stats)
+		channel->manager->get_stats(channel, &io_start);
+	if (io_start) {
+		track->bytes_read = io_start->bytes_read;
+		track->bytes_written = io_start->bytes_written;
+	}
 }
 
 #ifdef __GNUC__
@@ -310,7 +319,8 @@ static _INLINE_ float timeval_subtract(s
 		((float) (tv1->tv_usec - tv2->tv_usec)) / 1000000);
 }
 
-void print_resource_track(const char *desc, struct resource_track *track)
+void print_resource_track(const char *desc, struct resource_track *track,
+			  io_channel channel)
 {
 #ifdef HAVE_GETRUSAGE
 	struct rusage r;
@@ -347,6 +357,26 @@ void print_resource_track(const char *de
 	printf(_("elapsed time: %6.3f\n"),
 	       timeval_subtract(&time_end, &track->time_start));
 #endif
+#define mbytes(x)	(((x) + 1048575) / 1048576)
+	if (channel && channel->manager && channel->manager->get_stats) {
+		io_stats delta = 0;
+		unsigned long long bytes_read = 0;
+		unsigned long long bytes_written = 0;
+
+		if (desc)
+			printf("%s: ", desc);
+
+		channel->manager->get_stats(channel, &delta);
+		if (delta) {
+			bytes_read = delta->bytes_read - track->bytes_read;
+			bytes_written = delta->bytes_written - 
+				track->bytes_written;
+		}
+		printf("I/O read: %lluMB, write: %lluMB, rate: %.2fMB/s\n",
+		       mbytes(bytes_read), mbytes(bytes_written),
+		       (double)mbytes(bytes_read + bytes_written) /
+		       timeval_subtract(&time_end, &track->time_start));
+	}
 }
 #endif /* RESOURCE_TRACK */
 
@@ -363,6 +393,20 @@ void e2fsck_read_inode(e2fsck_t ctx, uns
 	}
 }
 
+void e2fsck_read_inode_full(e2fsck_t ctx, unsigned long ino,
+			    struct ext2_inode *inode, int bufsize,
+			    const char *proc)
+{
+	int retval;
+
+	retval = ext2fs_read_inode_full(ctx->fs, ino, inode, bufsize);
+	if (retval) {
+		com_err("ext2fs_read_inode_full", retval,
+			_("while reading inode %ld in %s"), ino, proc);
+		fatal_error(ctx, 0);
+	}
+}
+
 extern void e2fsck_write_inode_full(e2fsck_t ctx, unsigned long ino,
 			       struct ext2_inode * inode, int bufsize,
 			       const char *proc)
@@ -451,7 +495,7 @@ blk_t get_backup_sb(e2fsck_t ctx, ext2_f
 		if (io_channel_read_blk(io, superblock,
 					-SUPERBLOCK_SIZE, buf))
 			continue;
-#ifdef EXT2FS_ENABLE_SWAPFS
+#ifdef WORDS_BIGENDIAN
 		if (sb->s_magic == ext2fs_swab16(EXT2_SUPER_MAGIC))
 			ext2fs_swap_super(sb);
 #endif
diff -Nurp e2fsprogs-1.40.7/e2fsprogs.lsm e2fsprogs/e2fsprogs.lsm
--- e2fsprogs-1.40.7/e2fsprogs.lsm	2008-02-29 04:46:33.000000000 +0000
+++ e2fsprogs/e2fsprogs.lsm	2008-02-29 11:23:57.000000000 +0000
@@ -1,15 +1,15 @@
 Begin3
 Title:          EXT2 Filesystem utilities
-Version:        1.40.7
-Entered-date:   28Feb2008
+Version:        1.40.6
+Entered-date:   09Feb2008
 Description:    The filesystem utilities for the EXT2 filesystem, including 
 		e2fsck, mke2fs, dumpe2fs, fsck, and others.
 Keywords:       utilities, fsck, filesystem, Ext2fs
 Author:         tytso@mit.edu (Theodore Tso)
 Maintained-by:  tytso@mit.edu (Theodore Tso)
 Primary-site:   download.sourceforge.net /pub/sourceforge/e2fsprogs
-		3996kB e2fsprogs-1.40.6.tar.gz
-		444kB e2fsprogs-libs-1.40.6.tar.gz
+		3984kB e2fsprogs-1.40.6.tar.gz
+		440kB e2fsprogs-libs-1.40.6.tar.gz
                 1kB   e2fsprogs-1.40.6.lsm
 Alternate-site: 
 Platforms:	linux 1.2.x/1.3.x/2.0.x/2.1.x/2.2.x/2.3.x/2.4.x/2.5.x/2.6.x
diff -Nurp e2fsprogs-1.40.7/e2fsprogs.spec e2fsprogs/e2fsprogs.spec
--- e2fsprogs-1.40.7/e2fsprogs.spec	2008-02-29 03:52:39.000000000 +0000
+++ e2fsprogs/e2fsprogs.spec	1970-01-01 00:00:00.000000000 +0000
@@ -1,228 +0,0 @@
-%define	_root_sbindir	/sbin
-%define	_root_libdir	/%{_lib}
-%define	_root_localedir	/usr/share/locale
-%define	_root_etcdir	/etc
-
-Summary: Utilities for managing the second extended (ext2) filesystem.
-Name: e2fsprogs
-Version: 1.40.7
-Release: 0
-License: GPLv2
-Group: System Environment/Base
-Source:  ftp://download.sourceforge.net/pub/sourceforge/e2fsprogs/e2fsprogs-%{version}.tar.gz
-Url: http://e2fsprogs.sourceforge.net/
-Prereq: /sbin/ldconfig
-BuildRoot: %{_tmppath}/%{name}-root
-
-%description
-The e2fsprogs package contains a number of utilities for creating,
-checking, modifying, and correcting any inconsistencies in second
-extended (ext2) filesystems.  E2fsprogs contains e2fsck (used to
-repair filesystem inconsistencies after an unclean shutdown), mke2fs
-(used to initialize a partition to contain an empty ext2 filesystem),
-debugfs (used to examine the internal structure of a filesystem, to
-manually repair a corrupted filesystem or to create test cases for
-e2fsck), tune2fs (used to modify filesystem parameters), resize2fs to
-grow and shrink unmounted ext2 filesystems, and most of the other core
-ext2fs filesystem utilities.
-
-You should install the e2fsprogs package if you are using any ext2
-filesystems (if you're not sure, you probably should install this
-package).  You may also need to install it (even if you don't use
-ext2) for the libuuid and libblkid libraries and fsck tool that are
-included here.
-
-%package devel
-Summary: Ext2 filesystem-specific static libraries and headers.
-Group: Development/Libraries
-Requires: e2fsprogs = %{version}
-Prereq: /sbin/install-info
-
-%description devel
-E2fsprogs-devel contains the libraries and header files needed to
-develop second extended (ext2) filesystem-specific programs.
-
-You should install e2fsprogs-devel if you want to develop ext2
-filesystem-specific programs.  If you install e2fsprogs-devel, you'll
-also want to install e2fsprogs.
-
-%package -n uuidd
-Summary: helper daemon to guarantee uniqueness of time-based UUIDs
-Group: System Environment/Daemons
-License: GPLv2
-Requires: e2fsprogs = %{version}
-Requires(pre): shadow-utils
-
-%description -n uuidd
-The uuidd package contains a userspace daemon (uuidd) which guarantees
-uniqueness of time-based UUID generation even at very high rates on
-SMP systems.
-
-%prep
-%setup
-
-%build
-%configure --enable-elf-shlibs --enable-nls
-make
-make check
-
-%install
-rm -rf $RPM_BUILD_ROOT
-export PATH=/sbin:$PATH
-make install install-libs DESTDIR="$RPM_BUILD_ROOT" \
-	root_sbindir=%{_root_sbindir} root_libdir=%{_root_libdir}
-/sbin/ldconfig -n ${RPM_BUILD_ROOT}%{_libdir}
-
-# Add a dir that uuidd needs that the Makefiles don't create
-install -d $RPM_BUILD_ROOT/var/lib/libuuid
-
-%find_lang %{name}
-
-%clean
-rm -rf $RPM_BUILD_ROOT
-
-%post -p /sbin/ldconfig
-
-%postun -p /sbin/ldconfig
-
-%post devel
-if [ -x /sbin/install-info -a -f %{_infodir}/libext2fs.info.gz ]; then
-    /sbin/install-info %{_infodir}/libext2fs.info.gz %{_infodir}/dir
-fi
-exit 0
-
-%postun devel
-if [ $1 = 0 -a -x /sbin/install-info -a -f %{_infodir}/libext2fs.info.gz ]; then
-   /sbin/install-info --delete %{_infodir}/libext2fs.info.gz %{_infodir}/dir
-fi
-exit 0
-
-%pre -n uuidd
-getent group uuidd >/dev/null || groupadd -r uuidd
-getent passwd uuidd >/dev/null || \
-useradd -r -g uuidd -d /var/lib/libuuid -s /sbin/nologin \
-    -c "UUID generator helper daemon" uuidd
-exit 0
-
-%files -f %{name}.lang
-%defattr(-,root,root)
-%doc README RELEASE-NOTES
-
-%{_root_sbindir}/badblocks
-%{_root_sbindir}/blkid
-%{_root_sbindir}/debugfs
-%{_root_sbindir}/dumpe2fs
-%{_root_sbindir}/e2fsck
-%{_root_sbindir}/e2image
-%{_root_sbindir}/e2label
-%{_root_sbindir}/findfs
-%{_root_sbindir}/fsck
-%{_root_sbindir}/fsck.ext2
-%{_root_sbindir}/fsck.ext3
-%{_root_sbindir}/logsave
-%{_root_sbindir}/mke2fs
-%{_root_etcdir}/mke2fs.conf
-%{_root_sbindir}/mkfs.ext2
-%{_root_sbindir}/mkfs.ext3
-%{_root_sbindir}/resize2fs
-%{_root_sbindir}/tune2fs
-%{_sbindir}/filefrag
-%{_sbindir}/mklost+found
-
-%{_root_libdir}/libblkid.so.*
-%{_root_libdir}/libcom_err.so.*
-%{_root_libdir}/libe2p.so.*
-%{_root_libdir}/libext2fs.so.*
-%{_root_libdir}/libss.so.*
-%{_root_libdir}/libuuid.so.*
-
-%{_libdir}/e2initrd_helper
-
-%{_bindir}/chattr
-%{_bindir}/lsattr
-%{_bindir}/uuidgen
-%{_mandir}/man1/chattr.1*
-%{_mandir}/man1/lsattr.1*
-%{_mandir}/man1/uuidgen.1*
-
-%{_mandir}/man5/e2fsck.conf.5*
-%{_mandir}/man5/mke2fs.conf.5*
-
-%{_mandir}/man8/badblocks.8*
-%{_mandir}/man8/blkid.8*
-%{_mandir}/man8/debugfs.8*
-%{_mandir}/man8/dumpe2fs.8*
-%{_mandir}/man8/e2fsck.8*
-%{_mandir}/man8/findfs.8*
-%{_mandir}/man8/fsck.ext2.8*
-%{_mandir}/man8/fsck.ext3.8*
-%{_mandir}/man8/e2image.8*
-%{_mandir}/man8/e2label.8*
-%{_mandir}/man8/fsck.8*
-%{_mandir}/man8/logsave.8*
-%{_mandir}/man8/mke2fs.8*
-%{_mandir}/man8/mkfs.ext2.8*
-%{_mandir}/man8/mkfs.ext3.8*
-%{_mandir}/man8/mklost+found.8*
-%{_mandir}/man8/resize2fs.8*
-%{_mandir}/man8/tune2fs.8*
-%{_mandir}/man8/filefrag.8*
-
-%files devel
-%defattr(-,root,root)
-%{_infodir}/libext2fs.info*
-%{_bindir}/compile_et
-%{_bindir}/mk_cmds
-
-%{_libdir}/libblkid.a
-%{_libdir}/libblkid.so
-%{_libdir}/libcom_err.a
-%{_libdir}/libcom_err.so
-%{_libdir}/libe2p.a
-%{_libdir}/libe2p.so
-%{_libdir}/libext2fs.a
-%{_libdir}/libext2fs.so
-%{_libdir}/libss.a
-%{_libdir}/libss.so
-%{_libdir}/libuuid.a
-%{_libdir}/libuuid.so
-
-%{_libdir}/pkgconfig/blkid.pc
-%{_libdir}/pkgconfig/com_err.pc
-%{_libdir}/pkgconfig/e2p.pc
-%{_libdir}/pkgconfig/ext2fs.pc
-%{_libdir}/pkgconfig/ss.pc
-%{_libdir}/pkgconfig/uuid.pc
-
-%{_datadir}/et
-%{_datadir}/ss
-%{_includedir}/blkid
-%{_includedir}/e2p
-%{_includedir}/et
-%{_includedir}/ext2fs
-%{_includedir}/ss
-%{_includedir}/uuid
-%{_mandir}/man1/compile_et.1*
-%{_mandir}/man1/mk_cmds.1*
-%{_mandir}/man3/com_err.3*
-%{_mandir}/man3/libblkid.3*
-%{_mandir}/man3/uuid.3*
-%{_mandir}/man3/uuid_clear.3*
-%{_mandir}/man3/uuid_compare.3*
-%{_mandir}/man3/uuid_copy.3*
-%{_mandir}/man3/uuid_generate.3*
-%{_mandir}/man3/uuid_generate_random.3*
-%{_mandir}/man3/uuid_generate_time.3*
-%{_mandir}/man3/uuid_is_null.3*
-%{_mandir}/man3/uuid_parse.3*
-%{_mandir}/man3/uuid_time.3*
-%{_mandir}/man3/uuid_unparse.3*
-
-%files -n uuidd
-%defattr(-,root,root)
-# if you want to run via init
-# /etc/init.d/uuidd
-%{_mandir}/man8/uuidd.8*
-%attr(6755, uuidd, uuidd) %{_sbindir}/uuidd
-%dir %attr(2775, uuidd, uuidd) /var/lib/libuuid
-
diff -Nurp e2fsprogs-1.40.7/ext2ed/doc/ext2ed-design.sgml e2fsprogs/ext2ed/doc/ext2ed-design.sgml
--- e2fsprogs-1.40.7/ext2ed/doc/ext2ed-design.sgml	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/ext2ed/doc/ext2ed-design.sgml	2008-02-29 11:23:57.000000000 +0000
@@ -2722,9 +2722,6 @@ struct ext2_inode {
 		struct {
 			__u32  h_i_translator;
 		} hurd1;
-		struct {
-			__u32  m_i_reserved1;
-		} masix1;
 	} osd1;				/* OS dependent 1 */
 	__u32	i_block[EXT2_N_BLOCKS];	/* Pointers to blocks */
 	__u32	i_version;		/* File version (for NFS) */
@@ -2746,12 +2743,6 @@ struct ext2_inode {
 			__u16	h_i_gid_high;
 			__u32	h_i_author;
 		} hurd2;
-		struct {
-			__u8	m_i_frag;	/* Fragment number */
-			__u8	m_i_fsize;	/* Fragment size */
-			__u16	m_pad1;
-			__u32	m_i_reserved2[2];
-		} masix2;
 	} osd2;				/* OS dependent 2 */
 };
 </ProgramListing>
diff -Nurp e2fsprogs-1.40.7/.git/93900079dc1c6df7c113b0270486ce3b588ea604 e2fsprogs/.git/93900079dc1c6df7c113b0270486ce3b588ea604
--- e2fsprogs-1.40.7/.git/93900079dc1c6df7c113b0270486ce3b588ea604	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/93900079dc1c6df7c113b0270486ce3b588ea604	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+keep
diff -Nurp e2fsprogs-1.40.7/.git/branches/origin e2fsprogs/.git/branches/origin
--- e2fsprogs-1.40.7/.git/branches/origin	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/branches/origin	2008-02-29 11:23:49.000000000 +0000
@@ -0,0 +1 @@
+git://git.kernel.org/pub/scm/fs/ext2/e2fsprogs.git
diff -Nurp e2fsprogs-1.40.7/.git/config e2fsprogs/.git/config
--- e2fsprogs-1.40.7/.git/config	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/config	2008-02-29 11:23:49.000000000 +0000
@@ -0,0 +1,5 @@
+[core]
+	repositoryformatversion = 0
+	filemode = true
+	bare = false
+	logallrefupdates = true
diff -Nurp e2fsprogs-1.40.7/.git/description e2fsprogs/.git/description
--- e2fsprogs-1.40.7/.git/description	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/description	2008-02-29 11:23:49.000000000 +0000
@@ -0,0 +1 @@
+Unnamed repository; edit this file to name it for gitweb.
diff -Nurp e2fsprogs-1.40.7/.git/HEAD e2fsprogs/.git/HEAD
--- e2fsprogs-1.40.7/.git/HEAD	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/HEAD	2008-02-29 11:23:49.000000000 +0000
@@ -0,0 +1 @@
+ref: refs/heads/master
diff -Nurp e2fsprogs-1.40.7/.git/hooks/applypatch-msg e2fsprogs/.git/hooks/applypatch-msg
--- e2fsprogs-1.40.7/.git/hooks/applypatch-msg	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/hooks/applypatch-msg	2008-02-29 11:23:49.000000000 +0000
@@ -0,0 +1,15 @@
+#!/bin/sh
+#
+# An example hook script to check the commit log message taken by
+# applypatch from an e-mail message.
+#
+# The hook should exit with non-zero status after issuing an
+# appropriate message if it wants to stop the commit.  The hook is
+# allowed to edit the commit message file.
+#
+# To enable this hook, make this file executable.
+
+. git-sh-setup
+test -x "$GIT_DIR/hooks/commit-msg" &&
+	exec "$GIT_DIR/hooks/commit-msg" ${1+"$@"}
+:
diff -Nurp e2fsprogs-1.40.7/.git/hooks/commit-msg e2fsprogs/.git/hooks/commit-msg
--- e2fsprogs-1.40.7/.git/hooks/commit-msg	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/hooks/commit-msg	2008-02-29 11:23:49.000000000 +0000
@@ -0,0 +1,21 @@
+#!/bin/sh
+#
+# An example hook script to check the commit log message.
+# Called by git-commit with one argument, the name of the file
+# that has the commit message.  The hook should exit with non-zero
+# status after issuing an appropriate message if it wants to stop the
+# commit.  The hook is allowed to edit the commit message file.
+#
+# To enable this hook, make this file executable.
+
+# Uncomment the below to add a Signed-off-by line to the message.
+# SOB=$(git var GIT_AUTHOR_IDENT | sed -n 's/^\(.*>\).*$/Signed-off-by: \1/p')
+# grep -qs "^$SOB" "$1" || echo "$SOB" >> "$1"
+
+# This example catches duplicate Signed-off-by lines.
+
+test "" = "$(grep '^Signed-off-by: ' "$1" |
+	 sort | uniq -c | sed -e '/^[ 	]*1[ 	]/d')" || {
+	echo >&2 Duplicate Signed-off-by lines.
+	exit 1
+}
diff -Nurp e2fsprogs-1.40.7/.git/hooks/post-commit e2fsprogs/.git/hooks/post-commit
--- e2fsprogs-1.40.7/.git/hooks/post-commit	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/hooks/post-commit	2008-02-29 11:23:49.000000000 +0000
@@ -0,0 +1,8 @@
+#!/bin/sh
+#
+# An example hook script that is called after a successful
+# commit is made.
+#
+# To enable this hook, make this file executable.
+
+: Nothing
diff -Nurp e2fsprogs-1.40.7/.git/hooks/post-receive e2fsprogs/.git/hooks/post-receive
--- e2fsprogs-1.40.7/.git/hooks/post-receive	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/hooks/post-receive	2008-02-29 11:23:49.000000000 +0000
@@ -0,0 +1,16 @@
+#!/bin/sh
+#
+# An example hook script for the post-receive event
+#
+# This script is run after receive-pack has accepted a pack and the
+# repository has been updated.  It is passed arguments in through stdin
+# in the form
+#  <oldrev> <newrev> <refname>
+# For example:
+#  aa453216d1b3e49e7f6f98441fa56946ddcd6a20 68f7abf4e6f922807889f52bc043ecd31b79f814 refs/heads/master
+#
+# see contrib/hooks/ for an sample, or uncomment the next line (on debian)
+#
+
+
+#. /usr/share/doc/git-core/contrib/hooks/post-receive-email
diff -Nurp e2fsprogs-1.40.7/.git/hooks/post-update e2fsprogs/.git/hooks/post-update
--- e2fsprogs-1.40.7/.git/hooks/post-update	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/hooks/post-update	2008-02-29 11:23:49.000000000 +0000
@@ -0,0 +1,8 @@
+#!/bin/sh
+#
+# An example hook script to prepare a packed repository for use over
+# dumb transports.
+#
+# To enable this hook, make this file executable by "chmod +x post-update".
+
+exec git-update-server-info
diff -Nurp e2fsprogs-1.40.7/.git/hooks/pre-applypatch e2fsprogs/.git/hooks/pre-applypatch
--- e2fsprogs-1.40.7/.git/hooks/pre-applypatch	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/hooks/pre-applypatch	2008-02-29 11:23:49.000000000 +0000
@@ -0,0 +1,14 @@
+#!/bin/sh
+#
+# An example hook script to verify what is about to be committed
+# by applypatch from an e-mail message.
+#
+# The hook should exit with non-zero status after issuing an
+# appropriate message if it wants to stop the commit.
+#
+# To enable this hook, make this file executable.
+
+. git-sh-setup
+test -x "$GIT_DIR/hooks/pre-commit" &&
+	exec "$GIT_DIR/hooks/pre-commit" ${1+"$@"}
+:
diff -Nurp e2fsprogs-1.40.7/.git/hooks/pre-commit e2fsprogs/.git/hooks/pre-commit
--- e2fsprogs-1.40.7/.git/hooks/pre-commit	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/hooks/pre-commit	2008-02-29 11:23:49.000000000 +0000
@@ -0,0 +1,70 @@
+#!/bin/sh
+#
+# An example hook script to verify what is about to be committed.
+# Called by git-commit with no arguments.  The hook should
+# exit with non-zero status after issuing an appropriate message if
+# it wants to stop the commit.
+#
+# To enable this hook, make this file executable.
+
+# This is slightly modified from Andrew Morton's Perfect Patch.
+# Lines you introduce should not have trailing whitespace.
+# Also check for an indentation that has SP before a TAB.
+
+if git-rev-parse --verify HEAD 2>/dev/null
+then
+	git-diff-index -p -M --cached HEAD --
+else
+	# NEEDSWORK: we should produce a diff with an empty tree here
+	# if we want to do the same verification for the initial import.
+	:
+fi |
+perl -e '
+    my $found_bad = 0;
+    my $filename;
+    my $reported_filename = "";
+    my $lineno;
+    sub bad_line {
+	my ($why, $line) = @_;
+	if (!$found_bad) {
+	    print STDERR "*\n";
+	    print STDERR "* You have some suspicious patch lines:\n";
+	    print STDERR "*\n";
+	    $found_bad = 1;
+	}
+	if ($reported_filename ne $filename) {
+	    print STDERR "* In $filename\n";
+	    $reported_filename = $filename;
+	}
+	print STDERR "* $why (line $lineno)\n";
+	print STDERR "$filename:$lineno:$line\n";
+    }
+    while (<>) {
+	if (m|^diff --git a/(.*) b/\1$|) {
+	    $filename = $1;
+	    next;
+	}
+	if (/^@@ -\S+ \+(\d+)/) {
+	    $lineno = $1 - 1;
+	    next;
+	}
+	if (/^ /) {
+	    $lineno++;
+	    next;
+	}
+	if (s/^\+//) {
+	    $lineno++;
+	    chomp;
+	    if (/\s$/) {
+		bad_line("trailing whitespace", $_);
+	    }
+	    if (/^\s* \t/) {
+		bad_line("indent SP followed by a TAB", $_);
+	    }
+	    if (/^([<>])\1{6} |^={7}$/) {
+		bad_line("unresolved merge conflict", $_);
+	    }
+	}
+    }
+    exit($found_bad);
+'
diff -Nurp e2fsprogs-1.40.7/.git/hooks/pre-rebase e2fsprogs/.git/hooks/pre-rebase
--- e2fsprogs-1.40.7/.git/hooks/pre-rebase	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/hooks/pre-rebase	2008-02-29 11:23:49.000000000 +0000
@@ -0,0 +1,150 @@
+#!/bin/sh
+#
+# Copyright (c) 2006 Junio C Hamano
+#
+
+publish=next
+basebranch="$1"
+if test "$#" = 2
+then
+	topic="refs/heads/$2"
+else
+	topic=`git symbolic-ref HEAD`
+fi
+
+case "$basebranch,$topic" in
+master,refs/heads/??/*)
+	;;
+*)
+	exit 0 ;# we do not interrupt others.
+	;;
+esac
+
+# Now we are dealing with a topic branch being rebased
+# on top of master.  Is it OK to rebase it?
+
+# Is topic fully merged to master?
+not_in_master=`git-rev-list --pretty=oneline ^master "$topic"`
+if test -z "$not_in_master"
+then
+	echo >&2 "$topic is fully merged to master; better remove it."
+	exit 1 ;# we could allow it, but there is no point.
+fi
+
+# Is topic ever merged to next?  If so you should not be rebasing it.
+only_next_1=`git-rev-list ^master "^$topic" ${publish} | sort`
+only_next_2=`git-rev-list ^master           ${publish} | sort`
+if test "$only_next_1" = "$only_next_2"
+then
+	not_in_topic=`git-rev-list "^$topic" master`
+	if test -z "$not_in_topic"
+	then
+		echo >&2 "$topic is already up-to-date with master"
+		exit 1 ;# we could allow it, but there is no point.
+	else
+		exit 0
+	fi
+else
+	not_in_next=`git-rev-list --pretty=oneline ^${publish} "$topic"`
+	perl -e '
+		my $topic = $ARGV[0];
+		my $msg = "* $topic has commits already merged to public branch:\n";
+		my (%not_in_next) = map {
+			/^([0-9a-f]+) /;
+			($1 => 1);
+		} split(/\n/, $ARGV[1]);
+		for my $elem (map {
+				/^([0-9a-f]+) (.*)$/;
+				[$1 => $2];
+			} split(/\n/, $ARGV[2])) {
+			if (!exists $not_in_next{$elem->[0]}) {
+				if ($msg) {
+					print STDERR $msg;
+					undef $msg;
+				}
+				print STDERR " $elem->[1]\n";
+			}
+		}
+	' "$topic" "$not_in_next" "$not_in_master"
+	exit 1
+fi
+
+exit 0
+
+################################################################
+
+This sample hook safeguards topic branches that have been
+published from being rewound.
+
+The workflow assumed here is:
+
+ * Once a topic branch forks from "master", "master" is never
+   merged into it again (either directly or indirectly).
+
+ * Once a topic branch is fully cooked and merged into "master",
+   it is deleted.  If you need to build on top of it to correct
+   earlier mistakes, a new topic branch is created by forking at
+   the tip of the "master".  This is not strictly necessary, but
+   it makes it easier to keep your history simple.
+
+ * Whenever you need to test or publish your changes to topic
+   branches, merge them into "next" branch.
+
+The script, being an example, hardcodes the publish branch name
+to be "next", but it is trivial to make it configurable via
+$GIT_DIR/config mechanism.
+
+With this workflow, you would want to know:
+
+(1) ... if a topic branch has ever been merged to "next".  Young
+    topic branches can have stupid mistakes you would rather
+    clean up before publishing, and things that have not been
+    merged into other branches can be easily rebased without
+    affecting other people.  But once it is published, you would
+    not want to rewind it.
+
+(2) ... if a topic branch has been fully merged to "master".
+    Then you can delete it.  More importantly, you should not
+    build on top of it -- other people may already want to
+    change things related to the topic as patches against your
+    "master", so if you need further changes, it is better to
+    fork the topic (perhaps with the same name) afresh from the
+    tip of "master".
+
+Let's look at this example:
+
+		   o---o---o---o---o---o---o---o---o---o "next"
+		  /       /           /           /
+		 /   a---a---b A     /           /
+		/   /               /           /
+	       /   /   c---c---c---c B         /
+	      /   /   /             \         /
+	     /   /   /   b---b C     \       /
+	    /   /   /   /             \     /
+    ---o---o---o---o---o---o---o---o---o---o---o "master"
+
+
+A, B and C are topic branches.
+
+ * A has one fix since it was merged up to "next".
+
+ * B has finished.  It has been fully merged up to "master" and "next",
+   and is ready to be deleted.
+
+ * C has not merged to "next" at all.
+
+We would want to allow C to be rebased, refuse A, and encourage
+B to be deleted.
+
+To compute (1):
+
+	git-rev-list ^master ^topic next
+	git-rev-list ^master        next
+
+	if these match, topic has not merged in next at all.
+
+To compute (2):
+
+	git-rev-list master..topic
+
+	if this is empty, it is fully merged to "master".
diff -Nurp e2fsprogs-1.40.7/.git/hooks/update e2fsprogs/.git/hooks/update
--- e2fsprogs-1.40.7/.git/hooks/update	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/hooks/update	2008-02-29 11:23:49.000000000 +0000
@@ -0,0 +1,107 @@
+#!/bin/sh
+#
+# An example hook script to blocks unannotated tags from entering.
+# Called by git-receive-pack with arguments: refname sha1-old sha1-new
+#
+# To enable this hook, make this file executable by "chmod +x update".
+#
+# Config
+# ------
+# hooks.allowunannotated
+#   This boolean sets whether unannotated tags will be allowed into the
+#   repository.  By default they won't be.
+# hooks.allowdeletetag
+#   This boolean sets whether deleting tags will be allowed in the
+#   repository.  By default they won't be.
+# hooks.allowdeletebranch
+#   This boolean sets whether deleting branches will be allowed in the
+#   repository.  By default they won't be.
+#
+
+# --- Command line
+refname="$1"
+oldrev="$2"
+newrev="$3"
+
+# --- Safety check
+if [ -z "$GIT_DIR" ]; then
+	echo "Don't run this script from the command line." >&2
+	echo " (if you want, you could supply GIT_DIR then run" >&2
+	echo "  $0 <ref> <oldrev> <newrev>)" >&2
+	exit 1
+fi
+
+if [ -z "$refname" -o -z "$oldrev" -o -z "$newrev" ]; then
+	echo "Usage: $0 <ref> <oldrev> <newrev>" >&2
+	exit 1
+fi
+
+# --- Config
+allowunannotated=$(git config --bool hooks.allowunannotated)
+allowdeletebranch=$(git config --bool hooks.allowdeletebranch)
+allowdeletetag=$(git config --bool hooks.allowdeletetag)
+
+# check for no description
+projectdesc=$(sed -e '1q' "$GIT_DIR/description")
+if [ -z "$projectdesc" -o "$projectdesc" = "Unnamed repository; edit this file to name it for gitweb." ]; then
+	echo "*** Project description file hasn't been set" >&2
+	exit 1
+fi
+
+# --- Check types
+# if $newrev is 0000...0000, it's a commit to delete a ref.
+if [ "$newrev" = "0000000000000000000000000000000000000000" ]; then
+	newrev_type=delete
+else
+	newrev_type=$(git-cat-file -t $newrev)
+fi
+
+case "$refname","$newrev_type" in
+	refs/tags/*,commit)
+		# un-annotated tag
+		short_refname=${refname##refs/tags/}
+		if [ "$allowunannotated" != "true" ]; then
+			echo "*** The un-annotated tag, $short_refname, is not allowed in this repository" >&2
+			echo "*** Use 'git tag [ -a | -s ]' for tags you want to propagate." >&2
+			exit 1
+		fi
+		;;
+	refs/tags/*,delete)
+		# delete tag
+		if [ "$allowdeletetag" != "true" ]; then
+			echo "*** Deleting a tag is not allowed in this repository" >&2
+			exit 1
+		fi
+		;;
+	refs/tags/*,tag)
+		# annotated tag
+		;;
+	refs/heads/*,commit)
+		# branch
+		;;
+	refs/heads/*,delete)
+		# delete branch
+		if [ "$allowdeletebranch" != "true" ]; then
+			echo "*** Deleting a branch is not allowed in this repository" >&2
+			exit 1
+		fi
+		;;
+	refs/remotes/*,commit)
+		# tracking branch
+		;;
+	refs/remotes/*,delete)
+		# delete tracking branch
+		if [ "$allowdeletebranch" != "true" ]; then
+			echo "*** Deleting a tracking branch is not allowed in this repository" >&2
+			exit 1
+		fi
+		;;
+	*)
+		# Anything else (is there anything else?)
+		echo "*** Update hook: unknown type of update to ref $refname of type $newrev_type" >&2
+		exit 1
+		;;
+esac
+
+# --- Finished
+exit 0
Files e2fsprogs-1.40.7/.git/index and e2fsprogs/.git/index differ
diff -Nurp e2fsprogs-1.40.7/.git/info/exclude e2fsprogs/.git/info/exclude
--- e2fsprogs-1.40.7/.git/info/exclude	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/info/exclude	2008-02-29 11:23:49.000000000 +0000
@@ -0,0 +1,6 @@
+# git-ls-files --others --exclude-from=.git/info/exclude
+# Lines that start with '#' are comments.
+# For a project mostly in C, the following would be a good set of
+# exclude patterns (uncomment them if you want to use them):
+# *.[oa]
+# *~
Files e2fsprogs-1.40.7/.git/objects/pack/pack-93900079dc1c6df7c113b0270486ce3b588ea604.idx and e2fsprogs/.git/objects/pack/pack-93900079dc1c6df7c113b0270486ce3b588ea604.idx differ
diff -Nurp e2fsprogs-1.40.7/.git/objects/pack/pack-93900079dc1c6df7c113b0270486ce3b588ea604.keep e2fsprogs/.git/objects/pack/pack-93900079dc1c6df7c113b0270486ce3b588ea604.keep
--- e2fsprogs-1.40.7/.git/objects/pack/pack-93900079dc1c6df7c113b0270486ce3b588ea604.keep	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/objects/pack/pack-93900079dc1c6df7c113b0270486ce3b588ea604.keep	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+fetch-pack 14636 on sabayon
Files e2fsprogs-1.40.7/.git/objects/pack/pack-93900079dc1c6df7c113b0270486ce3b588ea604.pack and e2fsprogs/.git/objects/pack/pack-93900079dc1c6df7c113b0270486ce3b588ea604.pack differ
Files e2fsprogs-1.40.7/.git/objects/pack/pack-d0c2105139ec806049980dd432ec0622c39613cb.idx and e2fsprogs/.git/objects/pack/pack-d0c2105139ec806049980dd432ec0622c39613cb.idx differ
diff -Nurp e2fsprogs-1.40.7/.git/objects/pack/pack-d0c2105139ec806049980dd432ec0622c39613cb.keep e2fsprogs/.git/objects/pack/pack-d0c2105139ec806049980dd432ec0622c39613cb.keep
--- e2fsprogs-1.40.7/.git/objects/pack/pack-d0c2105139ec806049980dd432ec0622c39613cb.keep	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/objects/pack/pack-d0c2105139ec806049980dd432ec0622c39613cb.keep	2008-02-29 11:23:56.000000000 +0000
@@ -0,0 +1 @@
+fetch-pack 14533 on sabayon
Files e2fsprogs-1.40.7/.git/objects/pack/pack-d0c2105139ec806049980dd432ec0622c39613cb.pack and e2fsprogs/.git/objects/pack/pack-d0c2105139ec806049980dd432ec0622c39613cb.pack differ
diff -Nurp e2fsprogs-1.40.7/.git/refs/heads/master e2fsprogs/.git/refs/heads/master
--- e2fsprogs-1.40.7/.git/refs/heads/master	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/heads/master	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+107f291cdc9366717a9b2da66c8dcc3399b47409
diff -Nurp e2fsprogs-1.40.7/.git/refs/heads/origin e2fsprogs/.git/refs/heads/origin
--- e2fsprogs-1.40.7/.git/refs/heads/origin	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/heads/origin	2008-02-29 11:23:56.000000000 +0000
@@ -0,0 +1 @@
+107f291cdc9366717a9b2da66c8dcc3399b47409
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/APPLE_UUID_SNAP_1 e2fsprogs/.git/refs/tags/APPLE_UUID_SNAP_1
--- e2fsprogs-1.40.7/.git/refs/tags/APPLE_UUID_SNAP_1	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/APPLE_UUID_SNAP_1	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+031617e809092687b341b6c6d2e4fb060b7f33ef
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-0_5B e2fsprogs/.git/refs/tags/E2FSPROGS-0_5B
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-0_5B	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-0_5B	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+50e1e10fa0ac12a3e2a9d20a75ee9041873cda96
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-0_5C e2fsprogs/.git/refs/tags/E2FSPROGS-0_5C
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-0_5C	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-0_5C	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+19e24593c050fb4770cbb957a2355b8c33876187
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_01 e2fsprogs/.git/refs/tags/E2FSPROGS-1_01
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_01	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_01	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+3ecc171101b19ad1992b4cb8ab5ec3387b23e91c
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_02 e2fsprogs/.git/refs/tags/E2FSPROGS-1_02
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_02	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_02	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+126cf2f79e91807602159b5a7bb1d6c87ab6937d
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_03 e2fsprogs/.git/refs/tags/E2FSPROGS-1_03
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_03	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_03	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+7ab45802bd40694e9c9957a7aa00fab55b75de08
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_04 e2fsprogs/.git/refs/tags/E2FSPROGS-1_04
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_04	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_04	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+1962766ffbe23c5775d3e4eebb2c9d2dc387ff37
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_05 e2fsprogs/.git/refs/tags/E2FSPROGS-1_05
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_05	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_05	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+ef423288716bf9662b952eb5e694a54a5b077240
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_06 e2fsprogs/.git/refs/tags/E2FSPROGS-1_06
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_06	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_06	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+f45a038dbe59be10c4d6d58f1108f67a216192bc
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_07 e2fsprogs/.git/refs/tags/E2FSPROGS-1_07
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_07	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_07	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+e24b183b9f965ee80106e1012bc036b925aafa16
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_09 e2fsprogs/.git/refs/tags/E2FSPROGS-1_09
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_09	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_09	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+e1d2f77065c1d381cd7ce3733d8ed62cee48e4c0
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_10 e2fsprogs/.git/refs/tags/E2FSPROGS-1_10
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_10	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_10	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+dc2b896092635adc72ffe1bc0afb8f782ec735e4
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_11 e2fsprogs/.git/refs/tags/E2FSPROGS-1_11
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_11	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_11	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+00cb1c0277c90f0c70315f49c438be52b7b225c9
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_12 e2fsprogs/.git/refs/tags/E2FSPROGS-1_12
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_12	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_12	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+6e063672fc74c08e49f04bd04ff3804e98966e5c
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_13 e2fsprogs/.git/refs/tags/E2FSPROGS-1_13
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_13	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_13	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+74c13d28c6ebb2e8526058dc9fa638a1969d4716
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_15 e2fsprogs/.git/refs/tags/E2FSPROGS-1_15
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_15	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_15	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+bd1e9b7ca7e9e7b1ebdb9ec5f5f044754c97ef67
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_16 e2fsprogs/.git/refs/tags/E2FSPROGS-1_16
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_16	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_16	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+bac43be999ec23b5c4a2f958a9423dacba3419b6
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_17 e2fsprogs/.git/refs/tags/E2FSPROGS-1_17
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_17	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_17	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+b3ee3744c452c412b53325b7aadaa386106570b3
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_19 e2fsprogs/.git/refs/tags/E2FSPROGS-1_19
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_19	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_19	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+fea85526af96f3ffa7e1c39d3f29e9075b5ffb3b
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_20 e2fsprogs/.git/refs/tags/E2FSPROGS-1_20
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_20	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_20	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+75729d4d823c21b09e385ab43a1585fa29cd430b
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_21 e2fsprogs/.git/refs/tags/E2FSPROGS-1_21
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_21	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_21	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+22d4478036f9f1e0a14fd7b83d0140e0d0c27247
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_22 e2fsprogs/.git/refs/tags/E2FSPROGS-1_22
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_22	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_22	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+3adfccba5d170eed9929f3277cdd9cbc4ba7c88d
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_23 e2fsprogs/.git/refs/tags/E2FSPROGS-1_23
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_23	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_23	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+f27728adac8c8332313d84110f50c3568093b4a8
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_23-WIP-0720 e2fsprogs/.git/refs/tags/E2FSPROGS-1_23-WIP-0720
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_23-WIP-0720	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_23-WIP-0720	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+b170814bb0099de54b18014172f0b1ab234503cd
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_23-WIP-0722 e2fsprogs/.git/refs/tags/E2FSPROGS-1_23-WIP-0722
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_23-WIP-0722	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_23-WIP-0722	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+029326d6d1c228f49d4fbf7020c379d1fb452d78
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_23-WIP-0727 e2fsprogs/.git/refs/tags/E2FSPROGS-1_23-WIP-0727
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_23-WIP-0727	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_23-WIP-0727	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+36be564dc280c17234b4eb96a534df063a245ee9
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_24 e2fsprogs/.git/refs/tags/E2FSPROGS-1_24
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_24	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_24	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+71ba5aa12fc4863d081ec0ff43a2805ee03d7e6c
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_24a e2fsprogs/.git/refs/tags/E2FSPROGS-1_24a
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_24a	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_24a	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+761da73ad17a154cde85c8bc8b9125276272687e
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1.25 e2fsprogs/.git/refs/tags/E2FSPROGS-1.25
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1.25	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1.25	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+5ad8e7a6728d8950158f36e1ae2d6884dfd3526a
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_26 e2fsprogs/.git/refs/tags/E2FSPROGS-1_26
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_26	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_26	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+d166e24a5459991090a2ba836ed2f946649d8678
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_26-WIP-1224 e2fsprogs/.git/refs/tags/E2FSPROGS-1_26-WIP-1224
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_26-WIP-1224	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_26-WIP-1224	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+07b84e1e1e666e2f7f8c638638c64bd8daf90ac0
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_27 e2fsprogs/.git/refs/tags/E2FSPROGS-1_27
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_27	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_27	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+708d3970e8ec7bb2625088a8aca13cd8f52021ac
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1.27-WIP-0305 e2fsprogs/.git/refs/tags/E2FSPROGS-1.27-WIP-0305
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1.27-WIP-0305	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1.27-WIP-0305	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+045cf87226ad9a0a03dec2d18997095b3c15eb47
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_28 e2fsprogs/.git/refs/tags/E2FSPROGS-1_28
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_28	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_28	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+b44181e9cb05ce8234821e1235c6e2490a0b899c
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1.28-WIP-0626 e2fsprogs/.git/refs/tags/E2FSPROGS-1.28-WIP-0626
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1.28-WIP-0626	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1.28-WIP-0626	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+21fa6de989ad20b2db371f7a12007aa6894cc2f4
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1.28-WIP-0817 e2fsprogs/.git/refs/tags/E2FSPROGS-1.28-WIP-0817
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1.28-WIP-0817	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1.28-WIP-0817	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+f33666c1ec9878d26f0ba9122ebd5a823ba0d164
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_29 e2fsprogs/.git/refs/tags/E2FSPROGS-1_29
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_29	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_29	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+0a3a541509b39003445c50b879c0037f14ff2c70
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_30 e2fsprogs/.git/refs/tags/E2FSPROGS-1_30
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_30	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_30	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+feb2c31f0477f8df4e2ccf8391fb77e1f8b8a833
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1.30-WIP-0930 e2fsprogs/.git/refs/tags/E2FSPROGS-1.30-WIP-0930
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1.30-WIP-0930	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1.30-WIP-0930	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+a84f4ea9cddfc23745fb19fb1e5310b95e3e4dd7
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_31 e2fsprogs/.git/refs/tags/E2FSPROGS-1_31
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_31	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_31	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+cbc25bc70b90db04d132b763f051fd5b11d516cc
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_32 e2fsprogs/.git/refs/tags/E2FSPROGS-1_32
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_32	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_32	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+14737636d4c985ec58878d300416344cb5cf0260
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_33 e2fsprogs/.git/refs/tags/E2FSPROGS-1_33
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_33	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_33	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+e50fb59784ef81535fe56902c0b95db04b86f669
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_33-WIP-0306 e2fsprogs/.git/refs/tags/E2FSPROGS-1_33-WIP-0306
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_33-WIP-0306	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_33-WIP-0306	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+c46b7bda938b18089b2bce7b2be795f81c028aa9
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_33-WIP-0314 e2fsprogs/.git/refs/tags/E2FSPROGS-1_33-WIP-0314
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_33-WIP-0314	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_33-WIP-0314	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+d44ad6130002c73a502847cf49d7970844467d81
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_33-WIP-0316 e2fsprogs/.git/refs/tags/E2FSPROGS-1_33-WIP-0316
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_33-WIP-0316	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_33-WIP-0316	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+6d1e8c086cd9f0240c7d7d55503b175923ff6cc3
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_33-WIP-0325 e2fsprogs/.git/refs/tags/E2FSPROGS-1_33-WIP-0325
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_33-WIP-0325	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_33-WIP-0325	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+ac6e94c16c5466e0fae9f35a70a6c0b96e5df2d4
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_33-WIP-0330 e2fsprogs/.git/refs/tags/E2FSPROGS-1_33-WIP-0330
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_33-WIP-0330	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_33-WIP-0330	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+6f96325b1ed40509961873c334ae3fca9f29a45b
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_33-WIP-0414 e2fsprogs/.git/refs/tags/E2FSPROGS-1_33-WIP-0414
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_33-WIP-0414	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_33-WIP-0414	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+b00bc4dc6d6538fa29197980efc3c12dd5a6da27
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_34 e2fsprogs/.git/refs/tags/E2FSPROGS-1_34
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_34	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_34	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+25031795268ba03af313fe933357392d3eee1f2a
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_34-WIP-0521 e2fsprogs/.git/refs/tags/E2FSPROGS-1_34-WIP-0521
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_34-WIP-0521	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_34-WIP-0521	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+fd1f3c5eb87f600c8f8cb68dd94a98deea29ca0e
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_35 e2fsprogs/.git/refs/tags/E2FSPROGS-1_35
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_35	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_35	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+e55043f87678587a03895d9629efb1c5a659d392
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_35-WIP-0131 e2fsprogs/.git/refs/tags/E2FSPROGS-1_35-WIP-0131
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_35-WIP-0131	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_35-WIP-0131	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+8ff104f5ecb52127b0b3883e80b5fc2310ccac39
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_35-WIP-0801 e2fsprogs/.git/refs/tags/E2FSPROGS-1_35-WIP-0801
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_35-WIP-0801	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_35-WIP-0801	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+68ea43e0a62dc1b439b9d9f1b575578c71272919
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_35-WIP-0821 e2fsprogs/.git/refs/tags/E2FSPROGS-1_35-WIP-0821
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_35-WIP-0821	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_35-WIP-0821	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+91a7766ace2b9efc8bb65444784d7512dd628bdd
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_35-WIP-1207 e2fsprogs/.git/refs/tags/E2FSPROGS-1_35-WIP-1207
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_35-WIP-1207	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_35-WIP-1207	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+0003f99d418ce76d405b75c97f94b21540eaf3b6
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_36 e2fsprogs/.git/refs/tags/E2FSPROGS-1_36
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_36	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_36	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+674a8262e93b7db75588b2a43646c79b21599cfd
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_37 e2fsprogs/.git/refs/tags/E2FSPROGS-1_37
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_37	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_37	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+d4f28f9a6ac1d614aa5d9c24c152df10ee1a1eb6
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_38 e2fsprogs/.git/refs/tags/E2FSPROGS-1_38
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_38	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_38	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+f96a0c363b3dfda0da4c061b2ed0fb3d9b21d057
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_38-WIP-0509 e2fsprogs/.git/refs/tags/E2FSPROGS-1_38-WIP-0509
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_38-WIP-0509	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_38-WIP-0509	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+c5909ac7bd936fe0d33dedf82b79797414780858
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_38-WIP-0620 e2fsprogs/.git/refs/tags/E2FSPROGS-1_38-WIP-0620
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_38-WIP-0620	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_38-WIP-0620	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+a6b1bd7ba27d1003d1c17bb864ed46b45b94ac0c
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_39 e2fsprogs/.git/refs/tags/E2FSPROGS-1_39
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_39	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_39	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+604f1a91e56d33831714e51f1a556ddf7cbe5010
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1.39-WIP-0330 e2fsprogs/.git/refs/tags/E2FSPROGS-1.39-WIP-0330
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1.39-WIP-0330	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1.39-WIP-0330	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+1ce0683fec77575266c7baf13a2d468ee18422eb
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1.39-WIP-0409 e2fsprogs/.git/refs/tags/E2FSPROGS-1.39-WIP-0409
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1.39-WIP-0409	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1.39-WIP-0409	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+7aea126e85132efe957c3a66247233fe963e8afb
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1.39-WIP-1210 e2fsprogs/.git/refs/tags/E2FSPROGS-1.39-WIP-1210
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1.39-WIP-1210	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1.39-WIP-1210	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+c577b2a279f29b0147d31d35bc072fe22909ef9e
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1.39-WIP-1231 e2fsprogs/.git/refs/tags/E2FSPROGS-1.39-WIP-1231
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1.39-WIP-1231	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1.39-WIP-1231	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+cec7103d922f89156acf25055a249fad82ed0e7a
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_40 e2fsprogs/.git/refs/tags/E2FSPROGS-1_40
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_40	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_40	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+dc26a9d54d25336c32e4e1601bdbcb7f25fef028
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_40-WIP-1114 e2fsprogs/.git/refs/tags/E2FSPROGS-1_40-WIP-1114
--- e2fsprogs-1.40.7/.git/refs/tags/E2FSPROGS-1_40-WIP-1114	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/E2FSPROGS-1_40-WIP-1114	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+cfb38f98b1bdc2306381c36cbf4e1f2cac942972
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/PQ_SNAPSHOT_971103 e2fsprogs/.git/refs/tags/PQ_SNAPSHOT_971103
--- e2fsprogs-1.40.7/.git/refs/tags/PQ_SNAPSHOT_971103	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/PQ_SNAPSHOT_971103	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+0ea01da79c2228fc315488b342b08a4904d3c681
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/RESIZE2FS-1_03 e2fsprogs/.git/refs/tags/RESIZE2FS-1_03
--- e2fsprogs-1.40.7/.git/refs/tags/RESIZE2FS-1_03	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/RESIZE2FS-1_03	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+3e8ffcdfec5639cd5ab27f0b66ea025268f4f1b4
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/v1.40 e2fsprogs/.git/refs/tags/v1.40
--- e2fsprogs-1.40.7/.git/refs/tags/v1.40	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/v1.40	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+7a245922084167370eff18b5155b7bfe3f6b15bd
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/v1.40.1 e2fsprogs/.git/refs/tags/v1.40.1
--- e2fsprogs-1.40.7/.git/refs/tags/v1.40.1	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/v1.40.1	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+469ea888da9f2822c5d6c4519a5d00f9469a4f8d
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/v1.40.2 e2fsprogs/.git/refs/tags/v1.40.2
--- e2fsprogs-1.40.7/.git/refs/tags/v1.40.2	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/v1.40.2	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+83c54538c7829a4c5c6cbfafd38a441efff7dca7
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/v1.40.3 e2fsprogs/.git/refs/tags/v1.40.3
--- e2fsprogs-1.40.7/.git/refs/tags/v1.40.3	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/v1.40.3	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+ebc7933d4ff98ef46e719a509650e407fe875aa3
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/v1.40.4 e2fsprogs/.git/refs/tags/v1.40.4
--- e2fsprogs-1.40.7/.git/refs/tags/v1.40.4	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/v1.40.4	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+8d0d2bbb378d4f5460f0d19bbddf3efc79f9adb2
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/v1.40.5 e2fsprogs/.git/refs/tags/v1.40.5
--- e2fsprogs-1.40.7/.git/refs/tags/v1.40.5	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/v1.40.5	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+b8c4212dfac51d24c571759e0c4d76760698cf6f
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/v1.40.6 e2fsprogs/.git/refs/tags/v1.40.6
--- e2fsprogs-1.40.7/.git/refs/tags/v1.40.6	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/v1.40.6	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+ce56c139af3e493df831c92f637381482081ab6c
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/WIP-20010620 e2fsprogs/.git/refs/tags/WIP-20010620
--- e2fsprogs-1.40.7/.git/refs/tags/WIP-20010620	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/WIP-20010620	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+b006f361ed5e26005d0005b8d43ab9682fae4f9e
diff -Nurp e2fsprogs-1.40.7/.git/refs/tags/WIP-20011130 e2fsprogs/.git/refs/tags/WIP-20011130
--- e2fsprogs-1.40.7/.git/refs/tags/WIP-20011130	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.git/refs/tags/WIP-20011130	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+c618094bf68e83ae01b980ef270286e1955a51a6
diff -Nurp e2fsprogs-1.40.7/.hgignore e2fsprogs/.hgignore
--- e2fsprogs-1.40.7/.hgignore	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/.hgignore	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1,7 @@
+^autom4te.cache
+^build
+^FILES
+^core
+~$
+^.pc
+^patches
diff -Nurp e2fsprogs-1.40.7/lib/blkid/blkid.pc.in e2fsprogs/lib/blkid/blkid.pc.in
--- e2fsprogs-1.40.7/lib/blkid/blkid.pc.in	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/blkid/blkid.pc.in	2008-02-29 11:23:57.000000000 +0000
@@ -8,4 +8,5 @@ Description: Block device id library
 Version: @E2FSPROGS_VERSION@
 Requires: uuid @DEVMAPPER_REQ@
 Cflags: -I${includedir} 
-Libs: -L${libdir} -lblkid @DEVMAPPER_PC_LIBS@
+Libs: -L${libdir} -lblkid
+Libs.private: @DEVMAPPER_PC_LIBS@
diff -Nurp e2fsprogs-1.40.7/lib/blkid/devname.c e2fsprogs/lib/blkid/devname.c
--- e2fsprogs-1.40.7/lib/blkid/devname.c	2008-02-28 02:08:21.000000000 +0000
+++ e2fsprogs/lib/blkid/devname.c	2008-02-29 11:23:57.000000000 +0000
@@ -171,42 +171,37 @@ static int dm_device_has_dep(const dev_t
 	struct dm_deps *deps;
 	struct dm_info info;
 	unsigned int i;
-	int ret = 0;
 
 	task = dm_task_create(DM_DEVICE_DEPS);
 	if (!task)
-		goto out;
-
-	if (!dm_task_set_name(task, name))
-		goto out;
+		return 0;
 
-	if (!dm_task_run(task))
-		goto out;
+	dm_task_set_name(task, name);
+	dm_task_run(task);
+	dm_task_get_info(task, &info);
 
-	if (!dm_task_get_info(task, &info))
-		goto out;
+	if (!info.exists) {
+		dm_task_destroy(task);
+		return 0;
+	}
 
-	if  (!info.exists)
-		goto out;
-  
 	deps = dm_task_get_deps(task);
-	if (!deps || deps->count == 0)
-		goto out;
+	if (!deps || deps->count == 0) {
+		dm_task_destroy(task);
+		return 0;
+	}
 
 	for (i = 0; i < deps->count; i++) {
 		dev_t dep_dev = deps->device[i];
 
 		if (dev == dep_dev) {
-			ret = 1;
-			goto out;
+			dm_task_destroy(task);
+			return 1;
 		}
 	}
 
-out:
-	if (task)
-		dm_task_destroy(task);
-
-	return ret;
+	dm_task_destroy(task);
+	return 0;
 }
 
 static int dm_device_is_leaf(const dev_t dev)
@@ -219,16 +214,15 @@ static int dm_device_is_leaf(const dev_t
 	dm_log_init(dm_quiet_log);
 	task = dm_task_create(DM_DEVICE_LIST);
 	if (!task)
-		goto out;
-
+		return 1;
 	dm_log_init(0);
 
-	if (!dm_task_run(task))
-		goto out;
-
+	dm_task_run(task);
 	names = dm_task_get_names(task);
-	if (!names || !names->dev)
-		goto out;
+	if (!names || !names->dev) {
+		dm_task_destroy(task);
+		return 1;
+	}
 
 	n = 0;
 	do {
@@ -240,9 +234,7 @@ static int dm_device_is_leaf(const dev_t
 		next = names->next;
 	} while (next);
 
-out:
-	if (task)
-		dm_task_destroy(task);
+	dm_task_destroy(task);
 
 	return ret;
 }
@@ -255,25 +247,20 @@ static dev_t dm_get_devno(const char *na
 
 	task = dm_task_create(DM_DEVICE_INFO);
 	if (!task)
-		goto out;
-
-	if (!dm_task_set_name(task, name))
-		goto out;
+		return ret;
 
-	if (!dm_task_run(task))
-		goto out;
+	dm_task_set_name(task, name);
+	dm_task_run(task);
+	dm_task_get_info(task, &info);
 
-	if (!dm_task_get_info(task, &info))
-		goto out;
-
-	if (!info.exists)
-		goto out;
+	if (!info.exists) {
+		dm_task_destroy(task);
+		return ret;
+	}
 
 	ret = makedev(info.major, info.minor);
 
-out:
-	if (task)
-		dm_task_destroy(task);
+	dm_task_destroy(task);
 	
 	return ret;
 }
@@ -288,15 +275,15 @@ static void dm_probe_all(blkid_cache cac
 	dm_log_init(dm_quiet_log);
 	task = dm_task_create(DM_DEVICE_LIST);
 	if (!task)
-		goto out;
+		return;
 	dm_log_init(0);
 
-	if (!dm_task_run(task))
-		goto out;
-
+	dm_task_run(task);
 	names = dm_task_get_names(task);
-	if (!names || !names->dev)
-		goto out;
+	if (!names || !names->dev) {
+		dm_task_destroy(task);
+		return;
+	}
 
 	n = 0;
 	do {
@@ -324,9 +311,7 @@ try_next:
 		next = names->next;
 	} while (next);
 
-out:
-	if (task)
-		dm_task_destroy(task);
+	dm_task_destroy(task);
 }
 #endif /* HAVE_DEVMAPPER */
 
diff -Nurp e2fsprogs-1.40.7/lib/blkid/getsize.c e2fsprogs/lib/blkid/getsize.c
--- e2fsprogs-1.40.7/lib/blkid/getsize.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/blkid/getsize.c	2008-02-29 11:23:57.000000000 +0000
@@ -186,7 +186,7 @@ blkid_loff_t blkid_get_dev_size(int fd)
 #ifdef TEST_PROGRAM
 int main(int argc, char **argv)
 {
-	blkid_loff_t bytes;
+	long long bytes;
 	int	fd;
 
 	if (argc < 2) {
diff -Nurp e2fsprogs-1.40.7/lib/blkid/probe.c e2fsprogs/lib/blkid/probe.c
--- e2fsprogs-1.40.7/lib/blkid/probe.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/blkid/probe.c	2008-02-29 11:23:57.000000000 +0000
@@ -18,7 +18,6 @@
 #include <stdlib.h>
 #include <unistd.h>
 #include <fcntl.h>
-#include <ctype.h>
 #include <sys/types.h>
 #ifdef HAVE_SYS_STAT_H
 #include <sys/stat.h>
@@ -164,7 +163,7 @@ static void get_ext2_info(blkid_dev dev,
  * Check to see if a filesystem is in /proc/filesystems.
  * Returns 1 if found, 0 if not
  */
-static int fs_proc_check(const char *fs_name)
+int fs_proc_check(const char *fs_name)
 {
 	FILE	*f;
 	char	buf[80], *cp, *t;
@@ -201,7 +200,7 @@ static int fs_proc_check(const char *fs_
  * Check to see if a filesystem is available as a module
  * Returns 1 if found, 0 if not
  */
-static int check_for_modules(const char *fs_name)
+int check_for_modules(const char *fs_name)
 {
 	struct utsname	uts;
 	FILE		*f;
@@ -237,7 +236,7 @@ static int check_for_modules(const char 
 	return (0);
 }
 
-static int system_supports_ext4(void)
+static int system_supports_ext4()
 {
 	static time_t	last_check = 0;
 	static int	ret = -1;
@@ -250,7 +249,7 @@ static int system_supports_ext4(void)
 	return ret;
 }
 
-static int system_supports_ext4dev(void)
+static int system_supports_ext4dev()
 {
 	static time_t	last_check = 0;
 	static int	ret = -1;
@@ -779,6 +778,7 @@ static int probe_luks(struct blkid_probe
 		       unsigned char *buf)
 {
 	char uuid[40];
+
 	/* 168 is the offset to the 40 character uuid:
 	 * http://luks.endorphin.org/LUKS-on-disk-format.pdf */
 	strncpy(uuid, (char *) buf+168, 40);
@@ -1008,7 +1008,7 @@ static int probe_gfs2(struct blkid_probe
 	return 1;
 }
 
-static int probe_hfsplus(struct blkid_probe *probe __BLKID_ATTR((unused)),
+static int probe_hfsplus(struct blkid_probe *probe,
 			 struct blkid_magic *id __BLKID_ATTR((unused)),
 			 unsigned char *buf)
 {
@@ -1021,73 +1021,6 @@ static int probe_hfsplus(struct blkid_pr
 	return 1;
 }
 
-#define LVM2_LABEL_SIZE 512
-static unsigned int lvm2_calc_crc(const void *buf, uint size)
-{
-	static const uint crctab[] = {
-		0x00000000, 0x1db71064, 0x3b6e20c8, 0x26d930ac,
-		0x76dc4190, 0x6b6b51f4, 0x4db26158, 0x5005713c,
-		0xedb88320, 0xf00f9344, 0xd6d6a3e8, 0xcb61b38c,
-		0x9b64c2b0, 0x86d3d2d4, 0xa00ae278, 0xbdbdf21c
-	};
-	uint i, crc = 0xf597a6cf;
-	const __u8 *data = (const __u8 *) buf;
-
-	for (i = 0; i < size; i++) {
-		crc ^= *data++;
-		crc = (crc >> 4) ^ crctab[crc & 0xf];
-		crc = (crc >> 4) ^ crctab[crc & 0xf];
-	}
-	return crc;
-}
-
-static int probe_lvm2(struct blkid_probe *probe,
-			struct blkid_magic *id __BLKID_ATTR((unused)),
-			unsigned char *buf)
-{
-	int sector = (id->bim_kboff) << 1;;
-	struct lvm2_pv_label_header *label;
-	label = (struct lvm2_pv_label_header *)buf;
-	char *p, *q, uuid[40];
-	unsigned int i, b;
-
-	/* buf is at 0k or 1k offset; find label inside */
-	if (memcmp(buf, "LABELONE", 8) == 0) {
-		label = (struct lvm2_pv_label_header *)buf;
-	} else if (memcmp(buf + 512, "LABELONE", 8) == 0) {
-		label = (struct lvm2_pv_label_header *)(buf + 512);
-		sector++;
-	} else {
-		return 1;
-	}
-
-	if (blkid_le64(label->sector_xl) != (unsigned) sector) {
-		DBG(DEBUG_PROBE,
-		    printf("LVM2: label for sector %llu found at sector %d\n",
-			   blkid_le64(label->sector_xl), sector));
-		return 1;
-	}
-
-	if (lvm2_calc_crc(&label->offset_xl, LVM2_LABEL_SIZE -
-			  ((char *)&label->offset_xl - (char *)label)) !=
-			blkid_le32(label->crc_xl)) {
-		DBG(DEBUG_PROBE,
-		    printf("LVM2: label checksum incorrect at sector %d\n",
-			   sector));
-		return 1;
-	}
-
-	for (i=0, b=1, p=uuid, q= (char *) label->pv_uuid; i <= 32;
-	     i++, b <<= 1) {
-		if (b & 0x4444440)
-			*p++ = '-';
-		*p++ = *q++;
-	}
-
-	blkid_set_tag(probe->dev, "UUID", uuid, LVM2_ID_LEN+6);
-
-	return 0;
-}
 /*
  * BLKID_BLK_OFFS is at least as large as the highest bim_kboff defined
  * in the type_array table below + bim_kbalign.
@@ -1181,10 +1114,6 @@ static struct blkid_magic type_array[] =
   { "crypt_LUKS", 0,	 0,  6,	"LUKS\xba\xbe",		probe_luks },
   { "squashfs",	 0,	 0,  4,	"sqsh",			0 },
   { "squashfs",	 0,	 0,  4,	"hsqs",			0 },
-  { "lvm2pv",	 0,  0x218,  8, "LVM2 001",		probe_lvm2 },
-  { "lvm2pv",	 0,  0x018,  8, "LVM2 001",		probe_lvm2 },
-  { "lvm2pv",	 1,  0x018,  8, "LVM2 001",		probe_lvm2 },
-  { "lvm2pv",	 1,  0x218,  8, "LVM2 001",		probe_lvm2 },
   {   NULL,	 0,	 0,  0, NULL,			NULL }
 };
 
diff -Nurp e2fsprogs-1.40.7/lib/blkid/probe.h e2fsprogs/lib/blkid/probe.h
--- e2fsprogs-1.40.7/lib/blkid/probe.h	2008-02-28 02:08:21.000000000 +0000
+++ e2fsprogs/lib/blkid/probe.h	2008-02-29 11:23:57.000000000 +0000
@@ -531,20 +531,6 @@ struct hfs_mdb {
         __u16        embed_blockcount;
 } __attribute__((packed));
 
-/* this is lvm's label_header & pv_header combined. */
-
-#define LVM2_ID_LEN 32
-
-struct lvm2_pv_label_header {
-	/* label_header */
-	__u8	id[8];		/* LABELONE */
-	__u64	sector_xl;	/* Sector number of this label */
-	__u32	crc_xl;		/* From next field to end of sector */
-	__u32	offset_xl;	/* Offset from start of struct to contents */
-	__u8	type[8];	/* LVM2 001 */
-	/* pv_header */
-	__u8	pv_uuid[LVM2_ID_LEN];
-} __attribute__ ((packed));
 
 /*
  * Byte swap functions
diff -Nurp e2fsprogs-1.40.7/lib/blkid/test_probe.in e2fsprogs/lib/blkid/test_probe.in
--- e2fsprogs-1.40.7/lib/blkid/test_probe.in	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/blkid/test_probe.in	2008-02-29 11:23:57.000000000 +0000
@@ -8,7 +8,7 @@ if test "$TESTS"x = x ; then
 	done
 fi
 
-mkdir -p tests
+mkdir -p tests/tmp
 
 for i in $TESTS
 do
@@ -19,9 +19,9 @@ do
 		echo "non-existent"
 		continue
 	fi
-	bunzip2 < $SRCDIR/tests/$i.img.bz2 > /tmp/test.img.$$
-	./tst_probe /tmp/test.img.$$ > tests/$i.out
-	/bin/rm -f /tmp/test.img.$$ tests/$i.ok tests/$i.failed
+	bunzip2 < $SRCDIR/tests/$i.img.bz2 > tests/tmp/test.img.$$
+	./tst_probe tests/tmp/test.img.$$ > tests/$i.out
+	/bin/rm -f tests/tmp/test.img.$$ tests/$i.ok tests/$i.failed
 	cmp -s tests/$i.out $SRCDIR/tests/$i.results
 	if [ $? = 0 ];  then
 		echo ok
diff -Nurp e2fsprogs-1.40.7/lib/e2p/e2p.h e2fsprogs/lib/e2p/e2p.h
--- e2fsprogs-1.40.7/lib/e2p/e2p.h	2008-02-28 02:08:21.000000000 +0000
+++ e2fsprogs/lib/e2p/e2p.h	2008-02-29 11:23:57.000000000 +0000
@@ -7,9 +7,7 @@
 #define E2P_FEATURE_COMPAT	0
 #define E2P_FEATURE_INCOMPAT	1
 #define E2P_FEATURE_RO_INCOMPAT	2
-#define E2P_FEATURE_TYPE_MASK	0x03
 
-#define E2P_FEATURE_NEGATE_FLAG	0x80
 
 /* `options' for print_flags() */
 
@@ -36,9 +34,6 @@ int setversion (int fd, unsigned long ve
 const char *e2p_feature2string(int compat, unsigned int mask);
 int e2p_string2feature(char *string, int *compat, unsigned int *mask);
 int e2p_edit_feature(const char *str, __u32 *compat_array, __u32 *ok_array);
-int e2p_edit_feature2(const char *str, __u32 *compat_array, __u32 *ok_array,
-		      __u32 *clear_ok_array, int *type_err, 
-		      unsigned int *mask_err);
 
 int e2p_is_null_uuid(void *uu);
 void e2p_uuid_to_str(void *uu, char *out);
diff -Nurp e2fsprogs-1.40.7/lib/e2p/feature.c e2fsprogs/lib/e2p/feature.c
--- e2fsprogs-1.40.7/lib/e2p/feature.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/e2p/feature.c	2008-02-29 11:23:57.000000000 +0000
@@ -67,6 +67,8 @@ static struct feature feature_list[] = {
 			"extent" },
 	{	E2P_FEATURE_INCOMPAT, EXT4_FEATURE_INCOMPAT_64BIT,
 			"64bit" },
+	{       E2P_FEATURE_INCOMPAT, EXT4_FEATURE_INCOMPAT_FLEX_BG,
+                        "flex_bg"},
 	{	0, 0, 0 },
 };
 
@@ -161,12 +163,9 @@ static char *skip_over_word(char *cp)
 /*
  * Edit a feature set array as requested by the user.  The ok_array,
  * if set, allows the application to limit what features the user is
- * allowed to set or clear using this function.  If clear_ok_array is set, 
- * then use it tell whether or not it is OK to clear a filesystem feature.
+ * allowed to set or clear using this function.
  */
-int e2p_edit_feature2(const char *str, __u32 *compat_array, __u32 *ok_array,
-		      __u32 *clear_ok_array, int *type_err, 
-		      unsigned int *mask_err)
+int e2p_edit_feature(const char *str, __u32 *compat_array, __u32 *ok_array)
 {
 	char		*cp, *buf, *next;
 	int		neg;
@@ -174,14 +173,6 @@ int e2p_edit_feature2(const char *str, _
 	int		compat_type;
 	int		rc = 0;
 
-	if (!clear_ok_array)
-		clear_ok_array = ok_array;
-
-	if (type_err)
-		*type_err = 0;
-	if (mask_err)
-		*mask_err = 0;
-
 	buf = malloc(strlen(str)+1);
 	if (!buf)
 		return 1;
@@ -216,35 +207,15 @@ int e2p_edit_feature2(const char *str, _
 			rc = 1;
 			break;
 		}
-		if (neg) {
-			if (clear_ok_array && 
-			    !(clear_ok_array[compat_type] & mask)) {
-				rc = 1;
-				if (type_err)
-					*type_err = (compat_type | 
-						     E2P_FEATURE_NEGATE_FLAG);
-				if (mask_err)
-					*mask_err = mask;
-				break;
-			}
+		if (ok_array && !(ok_array[compat_type] & mask)) {
+			rc = 1;
+			break;
+		}
+		if (neg)
 			compat_array[compat_type] &= ~mask;
-		} else {
-			if (ok_array && !(ok_array[compat_type] & mask)) {
-				rc = 1;
-				if (type_err)
-					*type_err = compat_type;
-				if (mask_err)
-					*mask_err = mask;
-				break;
-			}
+		else
 			compat_array[compat_type] |= mask;
-		}
 	}
 	free(buf);
 	return rc;
 }
-
-int e2p_edit_feature(const char *str, __u32 *compat_array, __u32 *ok_array)
-{
-	return e2p_edit_feature2(str, compat_array, ok_array, 0, 0, 0);
-}
diff -Nurp e2fsprogs-1.40.7/lib/e2p/fgetflags.c e2fsprogs/lib/e2p/fgetflags.c
--- e2fsprogs-1.40.7/lib/e2p/fgetflags.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/e2p/fgetflags.c	2008-02-29 11:23:57.000000000 +0000
@@ -65,7 +65,7 @@ int fgetflags (const char * name, unsign
 #if HAVE_EXT2_IOCTLS
 	int fd, r, f, save_errno = 0;
 
-	if (!stat(name, &buf) &&
+	if (!lstat(name, &buf) &&
 	    !S_ISREG(buf.st_mode) && !S_ISDIR(buf.st_mode)) {
 		goto notsupp;
 	}
diff -Nurp e2fsprogs-1.40.7/lib/e2p/fsetflags.c e2fsprogs/lib/e2p/fsetflags.c
--- e2fsprogs-1.40.7/lib/e2p/fsetflags.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/e2p/fsetflags.c	2008-02-29 11:23:57.000000000 +0000
@@ -71,7 +71,7 @@ int fsetflags (const char * name, unsign
 #if HAVE_EXT2_IOCTLS
 	int fd, r, f, save_errno = 0;
 
-	if (!stat(name, &buf) &&
+	if (!lstat(name, &buf) &&
 	    !S_ISREG(buf.st_mode) && !S_ISDIR(buf.st_mode)) {
 		goto notsupp;
 	}
diff -Nurp e2fsprogs-1.40.7/lib/e2p/iod.c e2fsprogs/lib/e2p/iod.c
--- e2fsprogs-1.40.7/lib/e2p/iod.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/e2p/iod.c	2008-02-29 11:23:57.000000000 +0000
@@ -27,7 +27,7 @@ int iterate_on_dir (const char * dir_nam
 {
 	DIR * dir;
 	struct dirent *de, *dep;
-	int	max_len = -1, len;
+	int	max_len = -1, len, ret = 0;
 
 #if HAVE_PATHCONF && defined(_PC_NAME_MAX) 
 	max_len = pathconf(dir_name, _PC_NAME_MAX);
@@ -64,9 +64,10 @@ int iterate_on_dir (const char * dir_nam
 			len = max_len;
 #endif
 		memcpy(de, dep, len);
-		(*func) (dir_name, de, private);
+		if ((*func)(dir_name, de, private))
+			ret++;
 	}
 	free(de);
 	closedir(dir);
-	return 0;
+	return ret;
 }
diff -Nurp e2fsprogs-1.40.7/lib/e2p/ls.c e2fsprogs/lib/e2p/ls.c
--- e2fsprogs-1.40.7/lib/e2p/ls.c	2008-02-28 02:08:21.000000000 +0000
+++ e2fsprogs/lib/e2p/ls.c	2008-02-29 11:23:57.000000000 +0000
@@ -234,10 +234,10 @@ void list_super2(struct ext2_super_block
 	fprintf(f, "Inodes per group:         %u\n", sb->s_inodes_per_group);
 	fprintf(f, "Inode blocks per group:   %u\n", inode_blocks_per_group);
 	if (sb->s_raid_stride)
-		fprintf(f, "RAID stride:              %u\n",
+		fprintf(f, "Raid stride:              %u\n",
 			sb->s_raid_stride);
 	if (sb->s_raid_stripe_width)
-		fprintf(f, "RAID stripe width:        %u\n",
+		fprintf(f, "Raid stripe width:        %u\n",
 			sb->s_raid_stripe_width);
 	if (sb->s_first_meta_bg)
 		fprintf(f, "First meta block group:   %u\n",
diff -Nurp e2fsprogs-1.40.7/lib/et/com_err.texinfo e2fsprogs/lib/et/com_err.texinfo
--- e2fsprogs-1.40.7/lib/et/com_err.texinfo	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/et/com_err.texinfo	2008-02-29 11:23:57.000000000 +0000
@@ -19,11 +19,9 @@
 
 @ifinfo
 @dircategory Development
-@format
-START-INFO-DIR-ENTRY
+@direntry
 * Com_err: (com_err).   A Common Error Description Library for UNIX.
-END-INFO-DIR-ENTRY
-@end format
+@end direntry
 @end ifinfo
 
 @iftex
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/alloc.c e2fsprogs/lib/ext2fs/alloc.c
--- e2fsprogs-1.40.7/lib/ext2fs/alloc.c	2008-02-28 02:08:21.000000000 +0000
+++ e2fsprogs/lib/ext2fs/alloc.c	2008-02-29 11:23:57.000000000 +0000
@@ -134,6 +134,7 @@ errcode_t ext2fs_alloc_block(ext2_filsys
 	
 	ext2fs_block_alloc_stats(fs, block, +1);
 	*ret = block;
+	return 0;
 
 fail:
 	if (buf)
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/bitmaps.c e2fsprogs/lib/ext2fs/bitmaps.c
--- e2fsprogs-1.40.7/lib/ext2fs/bitmaps.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/bitmaps.c	2008-02-29 11:23:57.000000000 +0000
@@ -27,96 +27,31 @@
 #include "ext2_fs.h"
 #include "ext2fs.h"
 
-static errcode_t make_bitmap(__u32 start, __u32 end, __u32 real_end,
-			     const char *descr, char *init_map,
-			     ext2fs_generic_bitmap *ret)
-{
-	ext2fs_generic_bitmap	bitmap;
-	errcode_t		retval;
-	size_t			size;
-
-	retval = ext2fs_get_mem(sizeof(struct ext2fs_struct_generic_bitmap), 
-				&bitmap);
-	if (retval)
-		return retval;
-
-	bitmap->magic = EXT2_ET_MAGIC_GENERIC_BITMAP;
-	bitmap->fs = NULL;
-	bitmap->start = start;
-	bitmap->end = end;
-	bitmap->real_end = real_end;
-	bitmap->base_error_code = EXT2_ET_BAD_GENERIC_MARK;
-	if (descr) {
-		retval = ext2fs_get_mem(strlen(descr)+1, &bitmap->description);
-		if (retval) {
-			ext2fs_free_mem(&bitmap);
-			return retval;
-		}
-		strcpy(bitmap->description, descr);
-	} else
-		bitmap->description = 0;
-
-	size = (size_t) (((bitmap->real_end - bitmap->start) / 8) + 1);
-	retval = ext2fs_get_mem(size, &bitmap->bitmap);
-	if (retval) {
-		ext2fs_free_mem(&bitmap->description);
-		ext2fs_free_mem(&bitmap);
-		return retval;
-	}
-
-	if (init_map)
-		memcpy(bitmap->bitmap, init_map, size);
-	else
-		memset(bitmap->bitmap, 0, size);
-	*ret = bitmap;
-	return 0;
-}
-
-errcode_t ext2fs_allocate_generic_bitmap(__u32 start,
-					 __u32 end,
-					 __u32 real_end,
-					 const char *descr,
-					 ext2fs_generic_bitmap *ret)
+void ext2fs_free_inode_bitmap(ext2fs_inode_bitmap bitmap)
 {
-	return make_bitmap(start, end, real_end, descr, 0, ret);
+	ext2fs_free_generic_bitmap(bitmap);
+}
+
+void ext2fs_free_block_bitmap(ext2fs_block_bitmap bitmap)
+{
+	ext2fs_free_generic_bitmap(bitmap);
 }
 
 errcode_t ext2fs_copy_bitmap(ext2fs_generic_bitmap src,
 			     ext2fs_generic_bitmap *dest)
 {
-	errcode_t		retval;
-	ext2fs_generic_bitmap	new_map;
-
-	retval = make_bitmap(src->start, src->end, src->real_end,
-			     src->description, src->bitmap, &new_map);
-	if (retval)
-		return retval;
-	new_map->magic = src->magic;
-	new_map->fs = src->fs;
-	new_map->base_error_code = src->base_error_code;
-	*dest = new_map;
-	return 0;
+	return (ext2fs_copy_generic_bitmap(src, dest));
 }
 
 void ext2fs_set_bitmap_padding(ext2fs_generic_bitmap map)
 {
-	__u32	i, j;
-
-	/* Protect loop from wrap-around if map->real_end is maxed */
-	for (i=map->end+1, j = i - map->start; 
-	     i <= map->real_end && i > map->end; 
-	     i++, j++)
-		ext2fs_set_bit(j, map->bitmap);
-
-	return;
+	ext2fs_set_generic_bitmap_padding(map);
 }	
 
 errcode_t ext2fs_allocate_inode_bitmap(ext2_filsys fs,
 				       const char *descr,
 				       ext2fs_inode_bitmap *ret)
 {
-	ext2fs_inode_bitmap bitmap;
-	errcode_t	retval;
 	__u32		start, end, real_end;
 
 	EXT2_CHECK_MAGIC(fs, EXT2_ET_MAGIC_EXT2FS_FILSYS);
@@ -127,25 +62,15 @@ errcode_t ext2fs_allocate_inode_bitmap(e
 	end = fs->super->s_inodes_count;
 	real_end = (EXT2_INODES_PER_GROUP(fs->super) * fs->group_desc_count);
 
-	retval = ext2fs_allocate_generic_bitmap(start, end, real_end,
-						descr, &bitmap);
-	if (retval)
-		return retval;
-	
-	bitmap->magic = EXT2_ET_MAGIC_INODE_BITMAP;
-	bitmap->fs = fs;
-	bitmap->base_error_code = EXT2_ET_BAD_INODE_MARK;
-	
-	*ret = bitmap;
-	return 0;
+	return (ext2fs_make_generic_bitmap(EXT2_ET_MAGIC_INODE_BITMAP, fs,
+					   start, end, real_end,
+					   descr, 0, ret));
 }
 
 errcode_t ext2fs_allocate_block_bitmap(ext2_filsys fs,
 				       const char *descr,
 				       ext2fs_block_bitmap *ret)
 {
-	ext2fs_block_bitmap bitmap;
-	errcode_t	retval;
 	__u32		start, end, real_end;
 
 	EXT2_CHECK_MAGIC(fs, EXT2_ET_MAGIC_EXT2FS_FILSYS);
@@ -157,59 +82,102 @@ errcode_t ext2fs_allocate_block_bitmap(e
 	real_end = (EXT2_BLOCKS_PER_GROUP(fs->super)  
 		    * fs->group_desc_count)-1 + start;
 	
-	retval = ext2fs_allocate_generic_bitmap(start, end, real_end,
-						descr, &bitmap);
-	if (retval)
-		return retval;
-
-	bitmap->magic = EXT2_ET_MAGIC_BLOCK_BITMAP;
-	bitmap->fs = fs;
-	bitmap->base_error_code = EXT2_ET_BAD_BLOCK_MARK;
-	
-	*ret = bitmap;
-	return 0;
+	return (ext2fs_make_generic_bitmap(EXT2_ET_MAGIC_BLOCK_BITMAP, fs,
+					   start, end, real_end,
+					   descr, 0, ret));
 }
 
 errcode_t ext2fs_fudge_inode_bitmap_end(ext2fs_inode_bitmap bitmap,
 					ext2_ino_t end, ext2_ino_t *oend)
 {
-	EXT2_CHECK_MAGIC(bitmap, EXT2_ET_MAGIC_INODE_BITMAP);
-	
-	if (end > bitmap->real_end)
-		return EXT2_ET_FUDGE_INODE_BITMAP_END;
-	if (oend)
-		*oend = bitmap->end;
-	bitmap->end = end;
-	return 0;
+
+	return (ext2fs_fudge_generic_bitmap_end(bitmap,
+						EXT2_ET_MAGIC_INODE_BITMAP,
+						EXT2_ET_FUDGE_INODE_BITMAP_END,
+						end, oend));
 }
 
 errcode_t ext2fs_fudge_block_bitmap_end(ext2fs_block_bitmap bitmap,
 					blk_t end, blk_t *oend)
 {
-	EXT2_CHECK_MAGIC(bitmap, EXT2_ET_MAGIC_BLOCK_BITMAP);
-	
-	if (end > bitmap->real_end)
-		return EXT2_ET_FUDGE_BLOCK_BITMAP_END;
-	if (oend)
-		*oend = bitmap->end;
-	bitmap->end = end;
-	return 0;
+	return (ext2fs_fudge_generic_bitmap_end(bitmap,
+						EXT2_ET_MAGIC_BLOCK_BITMAP,
+						EXT2_ET_FUDGE_BLOCK_BITMAP_END,
+						end, oend));
 }
 
 void ext2fs_clear_inode_bitmap(ext2fs_inode_bitmap bitmap)
 {
-	if (!bitmap || (bitmap->magic != EXT2_ET_MAGIC_INODE_BITMAP))
-		return;
-
-	memset(bitmap->bitmap, 0,
-	       (size_t) (((bitmap->real_end - bitmap->start) / 8) + 1));
+	ext2fs_clear_generic_bitmap(bitmap);
 }
 
 void ext2fs_clear_block_bitmap(ext2fs_block_bitmap bitmap)
 {
-	if (!bitmap || (bitmap->magic != EXT2_ET_MAGIC_BLOCK_BITMAP))
-		return;
+	ext2fs_clear_generic_bitmap(bitmap);
+}
+
+errcode_t ext2fs_resize_inode_bitmap(__u32 new_end, __u32 new_real_end,
+				     ext2fs_inode_bitmap bmap)
+{
+	return (ext2fs_resize_generic_bitmap(EXT2_ET_MAGIC_INODE_BITMAP,
+					     new_end, new_real_end, bmap));
+}
+
+errcode_t ext2fs_resize_block_bitmap(__u32 new_end, __u32 new_real_end,
+				     ext2fs_block_bitmap bmap)
+{
+	return (ext2fs_resize_generic_bitmap(EXT2_ET_MAGIC_BLOCK_BITMAP,
+					     new_end, new_real_end, bmap));
+}
+
+errcode_t ext2fs_compare_block_bitmap(ext2fs_block_bitmap bm1,
+				      ext2fs_block_bitmap bm2)
+{
+	return (ext2fs_compare_generic_bitmap(EXT2_ET_MAGIC_BLOCK_BITMAP,
+					      EXT2_ET_NEQ_BLOCK_BITMAP,
+					      bm1, bm2));
+}
+
+errcode_t ext2fs_compare_inode_bitmap(ext2fs_inode_bitmap bm1,
+				      ext2fs_inode_bitmap bm2)
+{
+	return (ext2fs_compare_generic_bitmap(EXT2_ET_MAGIC_INODE_BITMAP,
+					      EXT2_ET_NEQ_INODE_BITMAP,
+					      bm1, bm2));
+}
+
+errcode_t ext2fs_set_inode_bitmap_range(ext2fs_inode_bitmap bmap,
+					ext2_ino_t start, unsigned int num,
+					void *in)
+{
+	return (ext2fs_set_generic_bitmap_range(bmap,
+						EXT2_ET_MAGIC_INODE_BITMAP,
+						start, num, in));
+}
+
+errcode_t ext2fs_get_inode_bitmap_range(ext2fs_inode_bitmap bmap,
+					ext2_ino_t start, unsigned int num,
+					void *out)
+{
+	return (ext2fs_get_generic_bitmap_range(bmap,
+						EXT2_ET_MAGIC_INODE_BITMAP,
+						start, num, out));
+}
 
-	memset(bitmap->bitmap, 0,
-	       (size_t) (((bitmap->real_end - bitmap->start) / 8) + 1));
+errcode_t ext2fs_set_block_bitmap_range(ext2fs_block_bitmap bmap,
+					blk_t start, unsigned int num,
+					void *in)
+{
+	return (ext2fs_set_generic_bitmap_range(bmap, 
+						EXT2_ET_MAGIC_BLOCK_BITMAP,
+						start, num, in));
+}
+
+errcode_t ext2fs_get_block_bitmap_range(ext2fs_block_bitmap bmap,
+					blk_t start, unsigned int num,
+					void *out)
+{
+	return (ext2fs_get_generic_bitmap_range(bmap,
+						EXT2_ET_MAGIC_BLOCK_BITMAP,
+						start, num, out));
 }
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/bitops.c e2fsprogs/lib/ext2fs/bitops.c
--- e2fsprogs-1.40.7/lib/ext2fs/bitops.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/bitops.c	2008-02-29 11:23:57.000000000 +0000
@@ -76,16 +76,3 @@ void ext2fs_warn_bitmap(errcode_t errcod
 		com_err(0, errcode, "#%lu", arg);
 #endif
 }
-
-void ext2fs_warn_bitmap2(ext2fs_generic_bitmap bitmap,
-			    int code, unsigned long arg)
-{
-#ifndef OMIT_COM_ERR
-	if (bitmap->description)
-		com_err(0, bitmap->base_error_code+code,
-			"#%lu for %s", arg, bitmap->description);
-	else
-		com_err(0, bitmap->base_error_code + code, "#%lu", arg);
-#endif
-}
-
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/bitops.h e2fsprogs/lib/ext2fs/bitops.h
--- e2fsprogs-1.40.7/lib/ext2fs/bitops.h	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/bitops.h	2008-02-29 11:23:57.000000000 +0000
@@ -104,11 +104,18 @@ extern int ext2fs_fast_test_block_bitmap
 					       blk_t block, int num);
 extern void ext2fs_set_bitmap_padding(ext2fs_generic_bitmap map);
 
-/* These two routines moved to gen_bitmap.c */
+/* These routines moved to gen_bitmap.c */
 extern int ext2fs_mark_generic_bitmap(ext2fs_generic_bitmap bitmap,
 					 __u32 bitno);
 extern int ext2fs_unmark_generic_bitmap(ext2fs_generic_bitmap bitmap,
 					   blk_t bitno);
+extern int ext2fs_test_generic_bitmap(ext2fs_generic_bitmap bitmap,
+				      blk_t bitno);
+extern int ext2fs_test_block_bitmap_range(ext2fs_block_bitmap bitmap,
+					  blk_t block, int num);
+extern __u32 ext2fs_get_generic_bitmap_start(ext2fs_generic_bitmap bitmap);
+extern __u32 ext2fs_get_generic_bitmap_end(ext2fs_generic_bitmap bitmap);
+
 /*
  * The inline routines themselves...
  * 
@@ -267,36 +274,6 @@ _INLINE_ int ext2fs_find_next_bit_set (v
 }
 #endif
 
-#ifdef EXT2FS_ENABLE_SWAPFS
-_INLINE_ __u32 ext2fs_swab32(__u32 val)
-{
-#ifdef EXT2FS_REQUIRE_486
-	__asm__("bswap %0" : "=r" (val) : "0" (val));
-#else
-	__asm__("xchgb %b0,%h0\n\t"	/* swap lower bytes	*/
-		"rorl $16,%0\n\t"	/* swap words		*/
-		"xchgb %b0,%h0"		/* swap higher bytes	*/
-		:"=q" (val)
-		: "0" (val));
-#endif
-	return val;
-}
-
-_INLINE_ __u16 ext2fs_swab16(__u16 val)
-{
-	__asm__("xchgb %b0,%h0"		/* swap bytes		*/ \
-		: "=q" (val) \
-		:  "0" (val)); \
-		return val;
-}
-
-_INLINE_ __u64 ext2fs_swab64(__u64 val)
-{
-	return (ext2fs_swab32(val >> 32) |
-		(((__u64)ext2fs_swab32(val & 0xFFFFFFFFUL)) << 32));
-}
-#endif
-
 #undef EXT2FS_ADDR
 
 #endif	/* i386 */
@@ -339,7 +316,7 @@ _INLINE_ int ext2fs_test_bit(unsigned in
 #endif /* __mc68000__ */
 
 
-#if !defined(_EXT2_HAVE_ASM_SWAB_) && defined(EXT2FS_ENABLE_SWAPFS)
+#if !defined(_EXT2_HAVE_ASM_SWAB_) && defined(WORDS_BIGENDIAN)
 
 _INLINE_ __u16 ext2fs_swab16(__u16 val)
 {
@@ -401,24 +378,10 @@ _INLINE_ int ext2fs_find_next_bit_set (v
 }
 #endif	
 
-_INLINE_ int ext2fs_test_generic_bitmap(ext2fs_generic_bitmap bitmap,
-					blk_t bitno);
-
-_INLINE_ int ext2fs_test_generic_bitmap(ext2fs_generic_bitmap bitmap,
-					blk_t bitno)
-{
-	if ((bitno < bitmap->start) || (bitno > bitmap->end)) {
-		ext2fs_warn_bitmap2(bitmap, EXT2FS_TEST_ERROR, bitno);
-		return 0;
-	}
-	return ext2fs_test_bit(bitno - bitmap->start, bitmap->bitmap);
-}
-
 _INLINE_ int ext2fs_mark_block_bitmap(ext2fs_block_bitmap bitmap,
 				       blk_t block)
 {
-	return ext2fs_mark_generic_bitmap((ext2fs_generic_bitmap)
-				       bitmap,
+	return ext2fs_mark_generic_bitmap((ext2fs_generic_bitmap) bitmap,
 					  block);
 }
 
@@ -460,197 +423,77 @@ _INLINE_ int ext2fs_test_inode_bitmap(ex
 _INLINE_ void ext2fs_fast_mark_block_bitmap(ext2fs_block_bitmap bitmap,
 					    blk_t block)
 {
-#ifdef EXT2FS_DEBUG_FAST_OPS
-	if ((block < bitmap->start) || (block > bitmap->end)) {
-		ext2fs_warn_bitmap(EXT2_ET_BAD_BLOCK_MARK, block,
-				   bitmap->description);
-		return;
-	}
-#endif	
-	ext2fs_fast_set_bit(block - bitmap->start, bitmap->bitmap);
+	ext2fs_mark_generic_bitmap((ext2fs_generic_bitmap) bitmap, block);
 }
 
 _INLINE_ void ext2fs_fast_unmark_block_bitmap(ext2fs_block_bitmap bitmap,
 					      blk_t block)
 {
-#ifdef EXT2FS_DEBUG_FAST_OPS
-	if ((block < bitmap->start) || (block > bitmap->end)) {
-		ext2fs_warn_bitmap(EXT2_ET_BAD_BLOCK_UNMARK,
-				   block, bitmap->description);
-		return;
-	}
-#endif
-	ext2fs_fast_clear_bit(block - bitmap->start, bitmap->bitmap);
+	ext2fs_unmark_generic_bitmap((ext2fs_generic_bitmap) bitmap, block);
 }
 
 _INLINE_ int ext2fs_fast_test_block_bitmap(ext2fs_block_bitmap bitmap,
 					    blk_t block)
 {
-#ifdef EXT2FS_DEBUG_FAST_OPS
-	if ((block < bitmap->start) || (block > bitmap->end)) {
-		ext2fs_warn_bitmap(EXT2_ET_BAD_BLOCK_TEST,
-				   block, bitmap->description);
-		return 0;
-	}
-#endif
-	return ext2fs_test_bit(block - bitmap->start, bitmap->bitmap);
+	return ext2fs_test_generic_bitmap((ext2fs_generic_bitmap) bitmap, 
+					  block);
 }
 
 _INLINE_ void ext2fs_fast_mark_inode_bitmap(ext2fs_inode_bitmap bitmap,
 					    ext2_ino_t inode)
 {
-#ifdef EXT2FS_DEBUG_FAST_OPS
-	if ((inode < bitmap->start) || (inode > bitmap->end)) {
-		ext2fs_warn_bitmap(EXT2_ET_BAD_INODE_MARK,
-				   inode, bitmap->description);
-		return;
-	}
-#endif
-	ext2fs_fast_set_bit(inode - bitmap->start, bitmap->bitmap);
+	ext2fs_mark_generic_bitmap((ext2fs_generic_bitmap) bitmap, inode);
 }
 
 _INLINE_ void ext2fs_fast_unmark_inode_bitmap(ext2fs_inode_bitmap bitmap,
 					      ext2_ino_t inode)
 {
-#ifdef EXT2FS_DEBUG_FAST_OPS
-	if ((inode < bitmap->start) || (inode > bitmap->end)) {
-		ext2fs_warn_bitmap(EXT2_ET_BAD_INODE_UNMARK,
-				   inode, bitmap->description);
-		return;
-	}
-#endif
-	ext2fs_fast_clear_bit(inode - bitmap->start, bitmap->bitmap);
+	ext2fs_unmark_generic_bitmap((ext2fs_generic_bitmap) bitmap, inode);
 }
 
 _INLINE_ int ext2fs_fast_test_inode_bitmap(ext2fs_inode_bitmap bitmap,
 					   ext2_ino_t inode)
 {
-#ifdef EXT2FS_DEBUG_FAST_OPS
-	if ((inode < bitmap->start) || (inode > bitmap->end)) {
-		ext2fs_warn_bitmap(EXT2_ET_BAD_INODE_TEST,
-				   inode, bitmap->description);
-		return 0;
-	}
-#endif
-	return ext2fs_test_bit(inode - bitmap->start, bitmap->bitmap);
+	return ext2fs_test_generic_bitmap((ext2fs_generic_bitmap) bitmap, 
+					  inode);
 }
 
 _INLINE_ blk_t ext2fs_get_block_bitmap_start(ext2fs_block_bitmap bitmap)
 {
-	return bitmap->start;
+	return ext2fs_get_generic_bitmap_start((ext2fs_generic_bitmap) bitmap);
 }
 
 _INLINE_ ext2_ino_t ext2fs_get_inode_bitmap_start(ext2fs_inode_bitmap bitmap)
 {
-	return bitmap->start;
+	return ext2fs_get_generic_bitmap_start((ext2fs_generic_bitmap) bitmap);
 }
 
 _INLINE_ blk_t ext2fs_get_block_bitmap_end(ext2fs_block_bitmap bitmap)
 {
-	return bitmap->end;
+	return ext2fs_get_generic_bitmap_end((ext2fs_generic_bitmap) bitmap);
 }
 
 _INLINE_ ext2_ino_t ext2fs_get_inode_bitmap_end(ext2fs_inode_bitmap bitmap)
 {
-	return bitmap->end;
-}
-
-_INLINE_ int ext2fs_test_block_bitmap_range(ext2fs_block_bitmap bitmap,
-					    blk_t block, int num)
-{
-	int	i;
-
-	if ((block < bitmap->start) || (block+num-1 > bitmap->end)) {
-		ext2fs_warn_bitmap(EXT2_ET_BAD_BLOCK_TEST,
-				   block, bitmap->description);
-		return 0;
-	}
-	for (i=0; i < num; i++) {
-		if (ext2fs_fast_test_block_bitmap(bitmap, block+i))
-			return 0;
-	}
-	return 1;
+	return ext2fs_get_generic_bitmap_end((ext2fs_generic_bitmap) bitmap);
 }
 
 _INLINE_ int ext2fs_fast_test_block_bitmap_range(ext2fs_block_bitmap bitmap,
 						 blk_t block, int num)
 {
-	int	i;
-
-#ifdef EXT2FS_DEBUG_FAST_OPS
-	if ((block < bitmap->start) || (block+num-1 > bitmap->end)) {
-		ext2fs_warn_bitmap(EXT2_ET_BAD_BLOCK_TEST,
-				   block, bitmap->description);
-		return 0;
-	}
-#endif
-	for (i=0; i < num; i++) {
-		if (ext2fs_fast_test_block_bitmap(bitmap, block+i))
-			return 0;
-	}
-	return 1;
-}
-
-_INLINE_ void ext2fs_mark_block_bitmap_range(ext2fs_block_bitmap bitmap,
-					     blk_t block, int num)
-{
-	int	i;
-	
-	if ((block < bitmap->start) || (block+num-1 > bitmap->end)) {
-		ext2fs_warn_bitmap(EXT2_ET_BAD_BLOCK_MARK, block,
-				   bitmap->description);
-		return;
-	}
-	for (i=0; i < num; i++)
-		ext2fs_fast_set_bit(block + i - bitmap->start, bitmap->bitmap);
+	return ext2fs_test_block_bitmap_range(bitmap, block, num);
 }
 
 _INLINE_ void ext2fs_fast_mark_block_bitmap_range(ext2fs_block_bitmap bitmap,
 						  blk_t block, int num)
 {
-	int	i;
-	
-#ifdef EXT2FS_DEBUG_FAST_OPS
-	if ((block < bitmap->start) || (block+num-1 > bitmap->end)) {
-		ext2fs_warn_bitmap(EXT2_ET_BAD_BLOCK_MARK, block,
-				   bitmap->description);
-		return;
-	}
-#endif	
-	for (i=0; i < num; i++)
-		ext2fs_fast_set_bit(block + i - bitmap->start, bitmap->bitmap);
-}
-
-_INLINE_ void ext2fs_unmark_block_bitmap_range(ext2fs_block_bitmap bitmap,
-					       blk_t block, int num)
-{
-	int	i;
-	
-	if ((block < bitmap->start) || (block+num-1 > bitmap->end)) {
-		ext2fs_warn_bitmap(EXT2_ET_BAD_BLOCK_UNMARK, block,
-				   bitmap->description);
-		return;
-	}
-	for (i=0; i < num; i++)
-		ext2fs_fast_clear_bit(block + i - bitmap->start, 
-				      bitmap->bitmap);
+	ext2fs_mark_block_bitmap_range(bitmap, block, num);
 }
 
 _INLINE_ void ext2fs_fast_unmark_block_bitmap_range(ext2fs_block_bitmap bitmap,
 						    blk_t block, int num)
 {
-	int	i;
-	
-#ifdef EXT2FS_DEBUG_FAST_OPS
-	if ((block < bitmap->start) || (block+num-1 > bitmap->end)) {
-		ext2fs_warn_bitmap(EXT2_ET_BAD_BLOCK_UNMARK, block,
-				   bitmap->description);
-		return;
-	}
-#endif	
-	for (i=0; i < num; i++)
-		ext2fs_fast_clear_bit(block + i - bitmap->start, 
-				      bitmap->bitmap);
+	ext2fs_unmark_block_bitmap_range(bitmap, block, num);
 }
 #undef _INLINE_
 #endif
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/block.c e2fsprogs/lib/ext2fs/block.c
--- e2fsprogs-1.40.7/lib/ext2fs/block.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/block.c	2008-02-29 11:23:57.000000000 +0000
@@ -36,6 +36,26 @@ struct block_context {
 	void	*priv_data;
 };
 
+#define check_for_ro_violation_return(ctx, ret)				\
+	do {								\
+		if (((ctx)->flags & BLOCK_FLAG_READ_ONLY) &&		\
+		    ((ret) & BLOCK_CHANGED)) {				\
+			(ctx)->errcode = EXT2_ET_RO_BLOCK_ITERATE;	\
+			ret |= BLOCK_ABORT | BLOCK_ERROR;		\
+			return ret;					\
+		}							\
+	} while (0)
+
+#define check_for_ro_violation_goto(ctx, ret, label)			\
+	do {								\
+		if (((ctx)->flags & BLOCK_FLAG_READ_ONLY) &&		\
+		    ((ret) & BLOCK_CHANGED)) {				\
+			(ctx)->errcode = EXT2_ET_RO_BLOCK_ITERATE;	\
+			ret |= BLOCK_ABORT | BLOCK_ERROR;		\
+			goto label;					\
+		}							\
+	} while (0)
+
 static int block_iterate_ind(blk_t *ind_block, blk_t ref_block,
 			     int ref_offset, struct block_context *ctx)
 {
@@ -49,6 +69,7 @@ static int block_iterate_ind(blk_t *ind_
 		ret = (*ctx->func)(ctx->fs, ind_block,
 				   BLOCK_COUNT_IND, ref_block,
 				   ref_offset, ctx->priv_data);
+	check_for_ro_violation_return(ctx, ret);
 	if (!*ind_block || (ret & BLOCK_ABORT)) {
 		ctx->bcount += limit;
 		return ret;
@@ -95,6 +116,7 @@ static int block_iterate_ind(blk_t *ind_
 			offset += sizeof(blk_t);
 		}
 	}
+	check_for_ro_violation_return(ctx, changed);
 	if (changed & BLOCK_CHANGED) {
 		ctx->errcode = ext2fs_write_ind_block(ctx->fs, *ind_block,
 						      ctx->ind_buf);
@@ -107,6 +129,7 @@ static int block_iterate_ind(blk_t *ind_
 		ret |= (*ctx->func)(ctx->fs, ind_block,
 				    BLOCK_COUNT_IND, ref_block,
 				    ref_offset, ctx->priv_data);
+	check_for_ro_violation_return(ctx, ret);
 	return ret;
 }
 	
@@ -123,6 +146,7 @@ static int block_iterate_dind(blk_t *din
 		ret = (*ctx->func)(ctx->fs, dind_block,
 				   BLOCK_COUNT_DIND, ref_block,
 				   ref_offset, ctx->priv_data);
+	check_for_ro_violation_return(ctx, ret);
 	if (!*dind_block || (ret & BLOCK_ABORT)) {
 		ctx->bcount += limit*limit;
 		return ret;
@@ -171,6 +195,7 @@ static int block_iterate_dind(blk_t *din
 			offset += sizeof(blk_t);
 		}
 	}
+	check_for_ro_violation_return(ctx, changed);
 	if (changed & BLOCK_CHANGED) {
 		ctx->errcode = ext2fs_write_ind_block(ctx->fs, *dind_block,
 						      ctx->dind_buf);
@@ -183,6 +208,7 @@ static int block_iterate_dind(blk_t *din
 		ret |= (*ctx->func)(ctx->fs, dind_block,
 				    BLOCK_COUNT_DIND, ref_block,
 				    ref_offset, ctx->priv_data);
+	check_for_ro_violation_return(ctx, ret);
 	return ret;
 }
 	
@@ -199,6 +225,7 @@ static int block_iterate_tind(blk_t *tin
 		ret = (*ctx->func)(ctx->fs, tind_block,
 				   BLOCK_COUNT_TIND, ref_block,
 				   ref_offset, ctx->priv_data);
+	check_for_ro_violation_return(ctx, ret);
 	if (!*tind_block || (ret & BLOCK_ABORT)) {
 		ctx->bcount += limit*limit*limit;
 		return ret;
@@ -247,6 +274,7 @@ static int block_iterate_tind(blk_t *tin
 			offset += sizeof(blk_t);
 		}
 	}
+	check_for_ro_violation_return(ctx, changed);
 	if (changed & BLOCK_CHANGED) {
 		ctx->errcode = ext2fs_write_ind_block(ctx->fs, *tind_block,
 						      ctx->tind_buf);
@@ -259,7 +287,7 @@ static int block_iterate_tind(blk_t *tin
 		ret |= (*ctx->func)(ctx->fs, tind_block,
 				    BLOCK_COUNT_TIND, ref_block,
 				    ref_offset, ctx->priv_data);
-	
+	check_for_ro_violation_return(ctx, ret);
 	return ret;
 }
 	
@@ -276,9 +304,7 @@ errcode_t ext2fs_block_iterate2(ext2_fil
 				void *priv_data)
 {
 	int	i;
-	int	got_inode = 0;
 	int	ret = 0;
-	blk_t	blocks[EXT2_N_BLOCKS];	/* directory data blocks */
 	struct ext2_inode inode;
 	errcode_t	retval;
 	struct block_context ctx;
@@ -286,23 +312,19 @@ errcode_t ext2fs_block_iterate2(ext2_fil
 
 	EXT2_CHECK_MAGIC(fs, EXT2_ET_MAGIC_EXT2FS_FILSYS);
 
+	ctx.errcode = ext2fs_read_inode(fs, ino, &inode);
+	if (ctx.errcode)
+		return ctx.errcode;
+
 	/*
 	 * Check to see if we need to limit large files
 	 */
 	if (flags & BLOCK_FLAG_NO_LARGE) {
-		ctx.errcode = ext2fs_read_inode(fs, ino, &inode);
-		if (ctx.errcode)
-			return ctx.errcode;
-		got_inode = 1;
 		if (!LINUX_S_ISDIR(inode.i_mode) &&
 		    (inode.i_size_high != 0))
 			return EXT2_ET_FILE_TOO_BIG;
 	}
 
-	retval = ext2fs_get_blocks(fs, ino, blocks);
-	if (retval)
-		return retval;
-
 	limit = fs->blocksize >> 2;
 
 	ctx.fs = fs;
@@ -325,10 +347,6 @@ errcode_t ext2fs_block_iterate2(ext2_fil
 	 */
 	if ((fs->super->s_creator_os == EXT2_OS_HURD) &&
 	    !(flags & BLOCK_FLAG_DATA_ONLY)) {
-		ctx.errcode = ext2fs_read_inode(fs, ino, &inode);
-		if (ctx.errcode)
-			goto abort_exit;
-		got_inode = 1;
 		if (inode.osd1.hurd1.h_i_translator) {
 			ret |= (*ctx.func)(fs,
 					   &inode.osd1.hurd1.h_i_translator,
@@ -336,36 +354,97 @@ errcode_t ext2fs_block_iterate2(ext2_fil
 					   0, 0, priv_data);
 			if (ret & BLOCK_ABORT)
 				goto abort_exit;
+			check_for_ro_violation_goto(&ctx, ret, abort_exit);
 		}
 	}
 	
+	if (inode.i_flags & EXT4_EXTENTS_FL) {
+		ext2_extent_handle_t	handle;
+		struct ext2fs_extent	extent;
+		e2_blkcnt_t		blockcnt;
+		blk_t			blk;
+		int			op = EXT2_EXTENT_ROOT;
+
+		if (!(flags & BLOCK_FLAG_READ_ONLY))
+			return EXT2_ET_EXTENT_NOT_SUPPORTED;
+
+		ctx.errcode = ext2fs_extent_open(fs, ino, &handle);
+		if (ctx.errcode)
+			goto abort_exit;
+
+		while (1) {
+			ctx.errcode = ext2fs_extent_get(handle, op, &extent);
+			if (ctx.errcode) {
+				if (ctx.errcode == EXT2_ET_EXTENT_NO_NEXT)
+					ctx.errcode = 0;
+				break;
+			}
+
+			op = EXT2_EXTENT_NEXT;
+			blk = extent.e_pblk;
+			if (!(extent.e_flags & EXT2_EXTENT_FLAGS_LEAF) &&
+			    !(ctx.flags & BLOCK_FLAG_DATA_ONLY) &&
+			    ((!(extent.e_flags &
+				EXT2_EXTENT_FLAGS_SECOND_VISIT) &&
+			      !(ctx.flags & BLOCK_FLAG_DEPTH_TRAVERSE)) ||
+			     ((extent.e_flags &
+			       EXT2_EXTENT_FLAGS_SECOND_VISIT) &&
+			      (ctx.flags & BLOCK_FLAG_DEPTH_TRAVERSE)))) {
+				ret |= (*ctx.func)(fs, &blk,
+						   -1, 0, 0, priv_data);
+				check_for_ro_violation_goto(&ctx, ret,
+							    extent_errout);
+				continue;
+			}
+			for (blockcnt = extent.e_lblk, i = 0;
+			     i < extent.e_len;
+			     blk++, blockcnt++, i++) {
+				ret |= (*ctx.func)(fs, &blk,
+						   blockcnt,
+						   0, 0, priv_data);
+				check_for_ro_violation_goto(&ctx, ret,
+							    extent_errout);
+				if (ret & BLOCK_ABORT) {
+					ext2fs_extent_free(handle);
+					goto abort_exit;
+				}
+			}
+		}
+
+	extent_errout:
+		ext2fs_extent_free(handle);
+		ret |= BLOCK_ERROR | BLOCK_ABORT;
+		goto abort_exit;
+	}
+
 	/*
 	 * Iterate over normal data blocks
 	 */
 	for (i = 0; i < EXT2_NDIR_BLOCKS ; i++, ctx.bcount++) {
-		if (blocks[i] || (flags & BLOCK_FLAG_APPEND)) {
-			ret |= (*ctx.func)(fs, &blocks[i],
+		if (inode.i_block[i] || (flags & BLOCK_FLAG_APPEND)) {
+			ret |= (*ctx.func)(fs, &inode.i_block[i],
 					    ctx.bcount, 0, i, priv_data);
 			if (ret & BLOCK_ABORT)
 				goto abort_exit;
 		}
 	}
-	if (*(blocks + EXT2_IND_BLOCK) || (flags & BLOCK_FLAG_APPEND)) {
-		ret |= block_iterate_ind(blocks + EXT2_IND_BLOCK,
+	check_for_ro_violation_goto(&ctx, ret, abort_exit);
+	if (inode.i_block[EXT2_IND_BLOCK] || (flags & BLOCK_FLAG_APPEND)) {
+		ret |= block_iterate_ind(&inode.i_block[EXT2_IND_BLOCK],
 					 0, EXT2_IND_BLOCK, &ctx);
 		if (ret & BLOCK_ABORT)
 			goto abort_exit;
 	} else
 		ctx.bcount += limit;
-	if (*(blocks + EXT2_DIND_BLOCK) || (flags & BLOCK_FLAG_APPEND)) {
-		ret |= block_iterate_dind(blocks + EXT2_DIND_BLOCK,
+	if (inode.i_block[EXT2_DIND_BLOCK] || (flags & BLOCK_FLAG_APPEND)) {
+		ret |= block_iterate_dind(&inode.i_block[EXT2_DIND_BLOCK],
 					  0, EXT2_DIND_BLOCK, &ctx);
 		if (ret & BLOCK_ABORT)
 			goto abort_exit;
 	} else
 		ctx.bcount += limit * limit;
-	if (*(blocks + EXT2_TIND_BLOCK) || (flags & BLOCK_FLAG_APPEND)) {
-		ret |= block_iterate_tind(blocks + EXT2_TIND_BLOCK,
+	if (inode.i_block[EXT2_TIND_BLOCK] || (flags & BLOCK_FLAG_APPEND)) {
+		ret |= block_iterate_tind(&inode.i_block[EXT2_TIND_BLOCK],
 					  0, EXT2_TIND_BLOCK, &ctx);
 		if (ret & BLOCK_ABORT)
 			goto abort_exit;
@@ -373,13 +452,6 @@ errcode_t ext2fs_block_iterate2(ext2_fil
 
 abort_exit:
 	if (ret & BLOCK_CHANGED) {
-		if (!got_inode) {
-			retval = ext2fs_read_inode(fs, ino, &inode);
-			if (retval)
-				return retval;
-		}
-		for (i=0; i < EXT2_N_BLOCKS; i++)
-			inode.i_block[i] = blocks[i];
 		retval = ext2fs_write_inode(fs, ino, &inode);
 		if (retval)
 			return retval;
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/bmap.c e2fsprogs/lib/ext2fs/bmap.c
--- e2fsprogs-1.40.7/lib/ext2fs/bmap.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/bmap.c	2008-02-29 11:23:57.000000000 +0000
@@ -14,6 +14,7 @@
 #if HAVE_UNISTD_H
 #include <unistd.h>
 #endif
+#include <errno.h>
 
 #include "ext2_fs.h"
 #include "ext2fs.h"
@@ -51,10 +52,8 @@ static _BMAP_INLINE_ errcode_t block_ind
 
 	if (flags & BMAP_SET) {
 		b = *ret_blk;
-#ifdef EXT2FS_ENABLE_SWAPFS
-		if ((fs->flags & EXT2_FLAG_SWAP_BYTES) ||
-		    (fs->flags & EXT2_FLAG_SWAP_BYTES_WRITE))
-			b = ext2fs_swab32(b);
+#ifdef WORDS_BIGENDIAN
+		b = ext2fs_swab32(b);
 #endif
 		((blk_t *) block_buf)[nr] = b;
 		return io_channel_write_blk(fs->io, ind, 1, block_buf);
@@ -62,10 +61,8 @@ static _BMAP_INLINE_ errcode_t block_ind
 
 	b = ((blk_t *) block_buf)[nr];
 
-#ifdef EXT2FS_ENABLE_SWAPFS
-	if ((fs->flags & EXT2_FLAG_SWAP_BYTES) ||
-	    (fs->flags & EXT2_FLAG_SWAP_BYTES_READ))
-		b = ext2fs_swab32(b);
+#ifdef WORDS_BIGENDIAN
+	b = ext2fs_swab32(b);
 #endif
 
 	if (!b && (flags & BMAP_ALLOC)) {
@@ -75,13 +72,11 @@ static _BMAP_INLINE_ errcode_t block_ind
 		if (retval)
 			return retval;
 
-#ifdef EXT2FS_ENABLE_SWAPFS
-		if ((fs->flags & EXT2_FLAG_SWAP_BYTES) ||
-		    (fs->flags & EXT2_FLAG_SWAP_BYTES_WRITE))
-			((blk_t *) block_buf)[nr] = ext2fs_swab32(b);
-		else
+#ifdef WORDS_BIGENDIAN
+		((blk_t *) block_buf)[nr] = ext2fs_swab32(b);
+#else
+		((blk_t *) block_buf)[nr] = b;
 #endif
-			((blk_t *) block_buf)[nr] = b;
 
 		retval = io_channel_write_blk(fs->io, ind, 1, block_buf);
 		if (retval)
@@ -134,13 +129,14 @@ static _BMAP_INLINE_ errcode_t block_tin
 	return retval;
 }
 
-errcode_t ext2fs_bmap(ext2_filsys fs, ext2_ino_t ino, struct ext2_inode *inode,
-		      char *block_buf, int bmap_flags, blk_t block,
-		      blk_t *phys_blk)
+errcode_t ext2fs_bmap2(ext2_filsys fs, ext2_ino_t ino, struct ext2_inode *inode,
+		       char *block_buf, int bmap_flags, blk64_t block,
+		       int *ret_flags, blk64_t *phys_blk)
 {
 	struct ext2_inode inode_buf;
+	ext2_extent_handle_t handle = 0;
 	blk_t addr_per_block;
-	blk_t	b;
+	blk_t	b, blk32;
 	char	*buf = 0;
 	errcode_t	retval = 0;
 	int		blocks_alloc = 0, inode_dirty = 0;
@@ -148,6 +144,9 @@ errcode_t ext2fs_bmap(ext2_filsys fs, ex
 	if (!(bmap_flags & BMAP_SET))
 		*phys_blk = 0;
 
+	if (ret_flags)
+		*ret_flags = 0;
+
 	/* Read inode structure if necessary */
 	if (!inode) {
 		retval = ext2fs_read_inode(fs, ino, &inode_buf);
@@ -157,6 +156,37 @@ errcode_t ext2fs_bmap(ext2_filsys fs, ex
 	}
 	addr_per_block = (blk_t) fs->blocksize >> 2;
 
+	if (inode->i_flags & EXT4_EXTENTS_FL) {
+		struct ext2fs_extent	extent;
+		int			offset;
+
+		if (bmap_flags & BMAP_SET) {
+			retval = EXT2_ET_EXTENT_NOT_SUPPORTED;
+			goto done;
+		}
+		retval = ext2fs_extent_open(fs, ino, &handle);
+		if (retval)
+			goto done;
+		retval = ext2fs_extent_goto(handle, block);
+		if (retval) {
+			/* If the extent is not found, return phys_blk = 0 */
+			if (retval == EXT2_ET_EXTENT_NOT_FOUND)
+				retval = 0;
+			goto done;
+		}
+		retval = ext2fs_extent_get(handle, EXT2_EXTENT_CURRENT, &extent);
+		if (retval)
+			goto done;
+		offset = block - extent.e_lblk;
+		if (block >= extent.e_lblk && (offset <= extent.e_len)) {
+			*phys_blk = extent.e_pblk + offset;
+			if (ret_flags && extent.e_flags & EXT2_EXTENT_FLAGS_UNINIT)
+				*ret_flags |= BMAP_RET_UNINIT;
+		}
+		retval = 0;
+		goto done;
+	}
+
 	if (!block_buf) {
 		retval = ext2fs_get_array(2, fs->blocksize, &buf);
 		if (retval)
@@ -167,10 +197,8 @@ errcode_t ext2fs_bmap(ext2_filsys fs, ex
 	if (block < EXT2_NDIR_BLOCKS) {
 		if (bmap_flags & BMAP_SET) {
 			b = *phys_blk;
-#ifdef EXT2FS_ENABLE_SWAPFS
-			if ((fs->flags & EXT2_FLAG_SWAP_BYTES) ||
-			    (fs->flags & EXT2_FLAG_SWAP_BYTES_READ))
-				b = ext2fs_swab32(b);
+#ifdef WORDS_BIGENDIAN
+			b = ext2fs_swab32(b);
 #endif
 			inode_bmap(inode, block) = b;
 			inode_dirty++;
@@ -193,6 +221,7 @@ errcode_t ext2fs_bmap(ext2_filsys fs, ex
 	
 	/* Indirect block */
 	block -= EXT2_NDIR_BLOCKS;
+	blk32 = *phys_blk;
 	if (block < addr_per_block) {
 		b = inode_bmap(inode, EXT2_IND_BLOCK);
 		if (!b) {
@@ -210,7 +239,9 @@ errcode_t ext2fs_bmap(ext2_filsys fs, ex
 			blocks_alloc++;
 		}
 		retval = block_ind_bmap(fs, bmap_flags, b, block_buf, 
-					&blocks_alloc, block, phys_blk);
+					&blocks_alloc, block, &blk32);
+		if (retval == 0)
+			*phys_blk = blk32;
 		goto done;
 	}
 	
@@ -233,7 +264,9 @@ errcode_t ext2fs_bmap(ext2_filsys fs, ex
 			blocks_alloc++;
 		}
 		retval = block_dind_bmap(fs, bmap_flags, b, block_buf, 
-					 &blocks_alloc, block, phys_blk);
+					 &blocks_alloc, block, &blk32);
+		if (retval == 0)
+			*phys_blk = blk32;
 		goto done;
 	}
 
@@ -255,10 +288,14 @@ errcode_t ext2fs_bmap(ext2_filsys fs, ex
 		blocks_alloc++;
 	}
 	retval = block_tind_bmap(fs, bmap_flags, b, block_buf, 
-				 &blocks_alloc, block, phys_blk);
+				 &blocks_alloc, block, &blk32);
+	if (retval == 0)
+		*phys_blk = blk32;
 done:
 	if (buf)
 		ext2fs_free_mem(&buf);
+	if (handle)
+		ext2fs_extent_free(handle);
 	if ((retval == 0) && (blocks_alloc || inode_dirty)) {
 		inode->i_blocks += (blocks_alloc * fs->blocksize) / 512;
 		retval = ext2fs_write_inode(fs, ino, inode);
@@ -266,5 +303,19 @@ done:
 	return retval;
 }
 
+errcode_t ext2fs_bmap(ext2_filsys fs, ext2_ino_t ino, struct ext2_inode *inode,
+		      char *block_buf, int bmap_flags, blk_t block,
+		      blk_t *phys_blk)
+{
+	errcode_t ret;
+	blk64_t	ret_blk;
 
-
+	ret = ext2fs_bmap2(fs, ino, inode, block_buf, bmap_flags, block,
+			    0, &ret_blk);
+	if (ret)
+		return ret;
+	if (ret_blk >= ((long long) 1 << 32))
+		return EOVERFLOW;
+	*phys_blk = ret_blk;
+	return 0;
+}
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/check_desc.c e2fsprogs/lib/ext2fs/check_desc.c
--- e2fsprogs-1.40.7/lib/ext2fs/check_desc.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/check_desc.c	2008-02-29 11:23:57.000000000 +0000
@@ -33,13 +33,16 @@ errcode_t ext2fs_check_desc(ext2_filsys 
 {
 	dgrp_t i;
 	blk_t first_block = fs->super->s_first_data_block;
-	blk_t last_block;
+	blk_t last_block = fs->super->s_blocks_count-1;
 
 	EXT2_CHECK_MAGIC(fs, EXT2_ET_MAGIC_EXT2FS_FILSYS);
 
 	for (i = 0; i < fs->group_desc_count; i++) {
-		first_block = ext2fs_group_first_block(fs, i);
-		last_block = ext2fs_group_last_block(fs, i);
+		if (!EXT2_HAS_INCOMPAT_FEATURE(fs->super,
+					       EXT4_FEATURE_INCOMPAT_FLEX_BG)) {
+			first_block = ext2fs_group_first_block(fs, i);
+			last_block = ext2fs_group_last_block(fs, i);
+		}
 
 		/*
 		 * Check to make sure block bitmap for group is
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/closefs.c e2fsprogs/lib/ext2fs/closefs.c
--- e2fsprogs-1.40.7/lib/ext2fs/closefs.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/closefs.c	2008-02-29 11:23:57.000000000 +0000
@@ -54,11 +54,10 @@ int ext2fs_super_and_bgd_loc(ext2_filsys
 {
 	blk_t	group_block, super_blk = 0, old_desc_blk = 0, new_desc_blk = 0;
 	unsigned int meta_bg, meta_bg_size;
-	int	numblocks, has_super;
-	int	old_desc_blocks;
+	blk_t	numblocks, old_desc_blocks;
+	int	has_super;
 
-	group_block = fs->super->s_first_data_block +
-		(group * fs->super->s_blocks_per_group);
+	group_block = ext2fs_group_first_block(fs, group);
 
 	if (fs->super->s_feature_incompat & EXT2_FEATURE_INCOMPAT_META_BG)
 		old_desc_blocks = fs->super->s_first_meta_bg;
@@ -81,7 +80,7 @@ int ext2fs_super_and_bgd_loc(ext2_filsys
 		super_blk = group_block;
 		numblocks--;
 	}
-	meta_bg_size = (fs->blocksize / sizeof (struct ext2_group_desc));
+	meta_bg_size = EXT2_DESC_PER_BLOCK(fs->super);
 	meta_bg = group / meta_bg_size;
 
 	if (!(fs->super->s_feature_incompat & EXT2_FEATURE_INCOMPAT_META_BG) ||
@@ -191,12 +190,11 @@ static errcode_t write_backup_super(ext2
 	
 	if (sgrp > ((1 << 16) - 1))
 		sgrp = (1 << 16) - 1;
-#ifdef EXT2FS_ENABLE_SWAPFS
-	if (fs->flags & EXT2_FLAG_SWAP_BYTES)
-		super_shadow->s_block_group_nr = ext2fs_swab16(sgrp);
-	else
+#ifdef WORDS_BIGENDIAN
+	super_shadow->s_block_group_nr = ext2fs_swab16(sgrp);
+#else
+	fs->super->s_block_group_nr = sgrp;
 #endif
-		fs->super->s_block_group_nr = sgrp;
 
 	return io_channel_write_blk(fs->io, group_block, -SUPERBLOCK_SIZE, 
 				    super_shadow);
@@ -222,28 +220,23 @@ errcode_t ext2fs_flush(ext2_filsys fs)
 
 	fs->super->s_wtime = fs->now ? fs->now : time(NULL);
 	fs->super->s_block_group_nr = 0;
-#ifdef EXT2FS_ENABLE_SWAPFS
-	if (fs->flags & EXT2_FLAG_SWAP_BYTES) {
-		retval = EXT2_ET_NO_MEMORY;
-		retval = ext2fs_get_mem(SUPERBLOCK_SIZE, &super_shadow);
-		if (retval)
-			goto errout;
-		retval = ext2fs_get_array(fs->blocksize, fs->desc_blocks,
-					&group_shadow);
-		if (retval)
-			goto errout;
-		memset(group_shadow, 0, (size_t) fs->blocksize *
-		       fs->desc_blocks);
-
-		/* swap the group descriptors */
-		for (j=0, s=fs->group_desc, t=group_shadow;
-		     j < fs->group_desc_count; j++, t++, s++) {
-			*t = *s;
-			ext2fs_swap_group_desc(t);
-		}
-	} else {
-		super_shadow = fs->super;
-		group_shadow = fs->group_desc;
+#ifdef WORDS_BIGENDIAN
+	retval = EXT2_ET_NO_MEMORY;
+	retval = ext2fs_get_mem(SUPERBLOCK_SIZE, &super_shadow);
+	if (retval)
+		goto errout;
+	retval = ext2fs_get_array(fs->desc_blocks, fs->blocksize, 
+				  &group_shadow);
+	if (retval)
+		goto errout;
+	memset(group_shadow, 0, (size_t) fs->blocksize *
+	       fs->desc_blocks);
+	
+	/* swap the group descriptors */
+	for (j=0, s=fs->group_desc, t=group_shadow;
+	     j < fs->group_desc_count; j++, t++, s++) {
+		*t = *s;
+		ext2fs_swap_group_desc(t);
 	}
 #else
 	super_shadow = fs->super;
@@ -257,11 +250,9 @@ errcode_t ext2fs_flush(ext2_filsys fs)
 	 */
 	fs->super->s_state &= ~EXT2_VALID_FS;
 	fs->super->s_feature_incompat &= ~EXT3_FEATURE_INCOMPAT_RECOVER;
-#ifdef EXT2FS_ENABLE_SWAPFS
-	if (fs->flags & EXT2_FLAG_SWAP_BYTES) {
-		*super_shadow = *fs->super;
-		ext2fs_swap_super(super_shadow);
-	}
+#ifdef WORDS_BIGENDIAN
+	*super_shadow = *fs->super;
+	ext2fs_swap_super(super_shadow);
 #endif
 
 	/*
@@ -336,11 +327,9 @@ write_primary_superblock_only:
 	fs->super->s_block_group_nr = 0;
 	fs->super->s_state = fs_state;
 	fs->super->s_feature_incompat = feature_incompat;
-#ifdef EXT2FS_ENABLE_SWAPFS
-	if (fs->flags & EXT2_FLAG_SWAP_BYTES) {
-		*super_shadow = *fs->super;
-		ext2fs_swap_super(super_shadow);
-	}
+#ifdef WORDS_BIGENDIAN
+	*super_shadow = *fs->super;
+	ext2fs_swap_super(super_shadow);
 #endif
 
 	retval = io_channel_flush(fs->io);
@@ -353,12 +342,12 @@ write_primary_superblock_only:
 	retval = io_channel_flush(fs->io);
 errout:
 	fs->super->s_state = fs_state;
-	if (fs->flags & EXT2_FLAG_SWAP_BYTES) {
-		if (super_shadow)
-			ext2fs_free_mem(&super_shadow);
-		if (group_shadow)
-			ext2fs_free_mem(&group_shadow);
-	}
+#ifdef WORDS_BIGENDIAN
+	if (super_shadow)
+		ext2fs_free_mem(&super_shadow);
+	if (group_shadow)
+		ext2fs_free_mem(&group_shadow);
+#endif
 	return retval;
 }
 
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/cmp_bitmaps.c e2fsprogs/lib/ext2fs/cmp_bitmaps.c
--- e2fsprogs-1.40.7/lib/ext2fs/cmp_bitmaps.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/cmp_bitmaps.c	1970-01-01 00:00:00.000000000 +0000
@@ -1,72 +0,0 @@
-/*
- * cmp_bitmaps.c --- routines to compare inode and block bitmaps.
- *
- * Copyright (C) 1995 Theodore Ts'o.
- *
- * %Begin-Header%
- * This file may be redistributed under the terms of the GNU Public
- * License.
- * %End-Header%
- */
-
-#include <stdio.h>
-#include <string.h>
-#if HAVE_UNISTD_H
-#include <unistd.h>
-#endif
-#include <fcntl.h>
-#include <time.h>
-#if HAVE_SYS_STAT_H
-#include <sys/stat.h>
-#endif
-#if HAVE_SYS_TYPES_H
-#include <sys/types.h>
-#endif
-
-#include "ext2_fs.h"
-#include "ext2fs.h"
-
-errcode_t ext2fs_compare_block_bitmap(ext2fs_block_bitmap bm1,
-				      ext2fs_block_bitmap bm2)
-{
-	blk_t	i;
-	
-	EXT2_CHECK_MAGIC(bm1, EXT2_ET_MAGIC_BLOCK_BITMAP);
-	EXT2_CHECK_MAGIC(bm2, EXT2_ET_MAGIC_BLOCK_BITMAP);
-
-	if ((bm1->start != bm2->start) ||
-	    (bm1->end != bm2->end) ||
-	    (memcmp(bm1->bitmap, bm2->bitmap,
-		    (size_t) (bm1->end - bm1->start)/8)))
-		return EXT2_ET_NEQ_BLOCK_BITMAP;
-
-	for (i = bm1->end - ((bm1->end - bm1->start) % 8); i <= bm1->end; i++)
-		if (ext2fs_fast_test_block_bitmap(bm1, i) !=
-		    ext2fs_fast_test_block_bitmap(bm2, i))
-			return EXT2_ET_NEQ_BLOCK_BITMAP;
-
-	return 0;
-}
-
-errcode_t ext2fs_compare_inode_bitmap(ext2fs_inode_bitmap bm1,
-				      ext2fs_inode_bitmap bm2)
-{
-	ext2_ino_t	i;
-	
-	EXT2_CHECK_MAGIC(bm1, EXT2_ET_MAGIC_INODE_BITMAP);
-	EXT2_CHECK_MAGIC(bm2, EXT2_ET_MAGIC_INODE_BITMAP);
-
-	if ((bm1->start != bm2->start) ||
-	    (bm1->end != bm2->end) ||
-	    (memcmp(bm1->bitmap, bm2->bitmap,
-		    (size_t) (bm1->end - bm1->start)/8)))
-		return EXT2_ET_NEQ_INODE_BITMAP;
-
-	for (i = bm1->end - ((bm1->end - bm1->start) % 8); i <= bm1->end; i++)
-		if (ext2fs_fast_test_inode_bitmap(bm1, i) !=
-		    ext2fs_fast_test_inode_bitmap(bm2, i))
-			return EXT2_ET_NEQ_INODE_BITMAP;
-
-	return 0;
-}
-
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/dirblock.c e2fsprogs/lib/ext2fs/dirblock.c
--- e2fsprogs-1.40.7/lib/ext2fs/dirblock.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/dirblock.c	2008-02-29 11:23:57.000000000 +0000
@@ -25,26 +25,21 @@ errcode_t ext2fs_read_dir_block2(ext2_fi
 	errcode_t	retval;
 	char		*p, *end;
 	struct ext2_dir_entry *dirent;
-	unsigned int	name_len, rec_len, do_swap;
+	unsigned int	name_len, rec_len;
 	
 
  	retval = io_channel_read_blk(fs->io, block, 1, buf);
 	if (retval)
 		return retval;
-#ifdef EXT2FS_ENABLE_SWAPFS
-	do_swap = (fs->flags & (EXT2_FLAG_SWAP_BYTES|
-				EXT2_FLAG_SWAP_BYTES_READ)) != 0;
-#endif
+
 	p = (char *) buf;
 	end = (char *) buf + fs->blocksize;
 	while (p < end-8) {
 		dirent = (struct ext2_dir_entry *) p;
-#ifdef EXT2FS_ENABLE_SWAPFS
-		if (do_swap) {
-			dirent->inode = ext2fs_swab32(dirent->inode);
-			dirent->rec_len = ext2fs_swab16(dirent->rec_len);
-			dirent->name_len = ext2fs_swab16(dirent->name_len);
-		}
+#ifdef WORDS_BIGENDIAN
+		dirent->inode = ext2fs_swab32(dirent->inode);
+		dirent->rec_len = ext2fs_swab16(dirent->rec_len);
+		dirent->name_len = ext2fs_swab16(dirent->name_len);
 #endif
 		name_len = dirent->name_len;
 #ifdef WORDS_BIGENDIAN
@@ -73,22 +68,12 @@ errcode_t ext2fs_read_dir_block(ext2_fil
 errcode_t ext2fs_write_dir_block2(ext2_filsys fs, blk_t block,
 				  void *inbuf, int flags EXT2FS_ATTR((unused)))
 {
-#ifdef EXT2FS_ENABLE_SWAPFS
-	int		do_swap = 0;
+#ifdef WORDS_BIGENDIAN
 	errcode_t	retval;
 	char		*p, *end;
 	char		*buf = 0;
 	struct ext2_dir_entry *dirent;
 
-	if ((fs->flags & EXT2_FLAG_SWAP_BYTES) ||
-	    (fs->flags & EXT2_FLAG_SWAP_BYTES_WRITE))
-		do_swap = 1;
-
-#ifndef WORDS_BIGENDIAN
-	if (!do_swap)
-		return io_channel_write_blk(fs->io, block, 1, (char *) inbuf);
-#endif
-
 	retval = ext2fs_get_mem(fs->blocksize, &buf);
 	if (retval)
 		return retval;
@@ -103,15 +88,12 @@ errcode_t ext2fs_write_dir_block2(ext2_f
 			return (EXT2_ET_DIR_CORRUPTED);
 		}
 		p += dirent->rec_len;
-		if (do_swap) {
-			dirent->inode = ext2fs_swab32(dirent->inode);
-			dirent->rec_len = ext2fs_swab16(dirent->rec_len);
-			dirent->name_len = ext2fs_swab16(dirent->name_len);
-		}
-#ifdef WORDS_BIGENDIAN 
+		dirent->inode = ext2fs_swab32(dirent->inode);
+		dirent->rec_len = ext2fs_swab16(dirent->rec_len);
+		dirent->name_len = ext2fs_swab16(dirent->name_len);
+
 		if (flags & EXT2_DIRBLOCK_V2_STRUCT)
 			dirent->name_len = ext2fs_swab16(dirent->name_len);
-#endif
 	}
  	retval = io_channel_write_blk(fs->io, block, 1, buf);
 	ext2fs_free_mem(&buf);
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/dir_iterate.c e2fsprogs/lib/ext2fs/dir_iterate.c
--- e2fsprogs-1.40.7/lib/ext2fs/dir_iterate.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/dir_iterate.c	2008-02-29 11:23:57.000000000 +0000
@@ -78,7 +78,7 @@ errcode_t ext2fs_dir_iterate2(ext2_filsy
 	ctx.func = func;
 	ctx.priv_data = priv_data;
 	ctx.errcode = 0;
-	retval = ext2fs_block_iterate2(fs, dir, 0, 0,
+	retval = ext2fs_block_iterate2(fs, dir, BLOCK_FLAG_READ_ONLY, 0,
 				       ext2fs_process_dir_block, &ctx);
 	if (!block_buf)
 		ext2fs_free_mem(&ctx.buf);
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/ext2_err.et.in e2fsprogs/lib/ext2fs/ext2_err.et.in
--- e2fsprogs-1.40.7/lib/ext2fs/ext2_err.et.in	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/ext2_err.et.in	2008-02-29 11:23:57.000000000 +0000
@@ -62,8 +62,8 @@ ec	EXT2_ET_MAGIC_E2IMAGE,
 ec	EXT2_ET_MAGIC_INODE_IO_CHANNEL,
 	"Wrong magic number for inode io_channel structure"
 
-ec	EXT2_ET_MAGIC_RESERVED_9,
-	"Wrong magic number --- RESERVED_9"
+ec	EXT2_ET_MAGIC_EXTENT_HANDLE,
+	"Wrong magic number for ext4 extent handle"
 
 ec	EXT2_ET_BAD_MAGIC,
 	"Bad magic number in super-block"
@@ -326,5 +326,81 @@ ec	EXT2_ET_TDB_ERR_NOEXIST,
 ec	EXT2_ET_TDB_ERR_RDONLY,
 	"TDB: Write not permitted"
 
-	end
+ec	EXT2_ET_RO_BLOCK_ITERATE,
+	"Attempt to modify a block mapping via a read-only block iterator"
+
+ec	EXT2_ET_MAGIC_EXTENT_PATH,
+	"Wrong magic number for ext4 extent saved path"
+
+ec	EXT2_ET_MAGIC_RESERVED_10,
+	"Wrong magic number --- RESERVED_10"
+
+ec	EXT2_ET_MAGIC_RESERVED_11,
+	"Wrong magic number --- RESERVED_11"
+
+ec	EXT2_ET_MAGIC_RESERVED_12,
+	"Wrong magic number --- RESERVED_12"
+
+ec	EXT2_ET_MAGIC_RESERVED_13,
+	"Wrong magic number --- RESERVED_13"
+
+ec	EXT2_ET_MAGIC_RESERVED_14,
+	"Wrong magic number --- RESERVED_14"
+
+ec	EXT2_ET_MAGIC_RESERVED_15,
+	"Wrong magic number --- RESERVED_15"
+
+ec	EXT2_ET_MAGIC_RESERVED_16,
+	"Wrong magic number --- RESERVED_16"
+
+ec	EXT2_ET_MAGIC_RESERVED_17,
+	"Wrong magic number --- RESERVED_17"
+
+ec	EXT2_ET_MAGIC_RESERVED_18,
+	"Wrong magic number --- RESERVED_18"
+
+ec	EXT2_ET_MAGIC_RESERVED_19,
+	"Wrong magic number --- RESERVED_19"
+
+ec	EXT2_ET_EXTENT_HEADER_BAD,
+	"Corrupt extent header"
 
+ec	EXT2_ET_EXTENT_INDEX_BAD,
+	"Corrupt extent index"
+
+ec	EXT2_ET_EXTENT_LEAF_BAD,
+	"Corrupt extent"
+
+ec	EXT2_ET_EXTENT_NO_SPACE,
+	"No free space in extent map"
+
+ec	EXT2_ET_INODE_NOT_EXTENT,
+	"Inode does not use extents"
+
+ec	EXT2_ET_EXTENT_NO_NEXT,
+	"No 'next' extent"
+
+ec	EXT2_ET_EXTENT_NO_PREV,
+	"No 'previous' extent"
+
+ec	EXT2_ET_EXTENT_NO_UP,
+	"No 'up' extent"
+
+ec	EXT2_ET_EXTENT_NO_DOWN,
+	"No 'down' extent"
+
+ec	EXT2_ET_NO_CURRENT_NODE,
+	"No current node"
+
+ec	EXT2_ET_OP_NOT_SUPPORTED,
+	"Ext2fs operation not supported"
+
+ec	EXT2_ET_CANT_INSERT_EXTENT,
+	"No room to insert extent in node"
+
+ec	EXT2_ET_EXTENT_NOT_FOUND,
+	"Extent not found"
+
+ec	EXT2_ET_EXTENT_NOT_SUPPORTED,
+	"Operation not supported for inodes containing extents"
+	end
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/ext2_fs.h e2fsprogs/lib/ext2fs/ext2_fs.h
--- e2fsprogs-1.40.7/lib/ext2fs/ext2_fs.h	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/ext2_fs.h	2008-02-29 11:23:57.000000000 +0000
@@ -217,6 +217,13 @@ struct ext2_dx_countlimit {
 /*
  * Macro-instructions used to manage group descriptors
  */
+#define EXT2_MIN_DESC_SIZE             32
+#define EXT2_MIN_DESC_SIZE_64BIT       64
+#define EXT2_MAX_DESC_SIZE             EXT2_MIN_BLOCK_SIZE
+#define EXT2_DESC_SIZE(s)                                                \
+       ((EXT2_SB(s)->s_feature_incompat & EXT4_FEATURE_INCOMPAT_64BIT) ? \
+	(s)->s_desc_size : EXT2_MIN_DESC_SIZE)
+
 #define EXT2_BLOCKS_PER_GROUP(s)	(EXT2_SB(s)->s_blocks_per_group)
 #define EXT2_INODES_PER_GROUP(s)	(EXT2_SB(s)->s_inodes_per_group)
 #define EXT2_INODES_PER_BLOCK(s)	(EXT2_BLOCK_SIZE(s)/EXT2_INODE_SIZE(s))
@@ -227,7 +234,7 @@ struct ext2_dx_countlimit {
 #define EXT2_DESC_PER_BLOCK(s)		(EXT2_SB(s)->s_desc_per_block)
 #define EXT2_DESC_PER_BLOCK_BITS(s)	(EXT2_SB(s)->s_desc_per_block_bits)
 #else
-#define EXT2_DESC_PER_BLOCK(s)		(EXT2_BLOCK_SIZE(s) / sizeof (struct ext2_group_desc))
+#define EXT2_DESC_PER_BLOCK(s)		(EXT2_BLOCK_SIZE(s) / EXT2_DESC_SIZE(s))
 #endif
 
 /*
@@ -319,9 +326,6 @@ struct ext2_inode {
 		struct {
 			__u32  h_i_translator;
 		} hurd1;
-		struct {
-			__u32  m_i_reserved1;
-		} masix1;
 	} osd1;				/* OS dependent 1 */
 	__u32	i_block[EXT2_N_BLOCKS];/* Pointers to blocks */
 	__u32	i_generation;	/* File version (for NFS) */
@@ -344,12 +348,6 @@ struct ext2_inode {
 			__u16	h_i_gid_high;
 			__u32	h_i_author;
 		} hurd2;
-		struct {
-			__u8	m_i_frag;	/* Fragment number */
-			__u8	m_i_fsize;	/* Fragment size */
-			__u16	m_pad1;
-			__u32	m_i_reserved2[2];
-		} masix2;
 	} osd2;				/* OS dependent 2 */
 };
 
@@ -375,9 +373,6 @@ struct ext2_inode_large {
 		struct {
 			__u32  h_i_translator;
 		} hurd1;
-		struct {
-			__u32  m_i_reserved1;
-		} masix1;
 	} osd1;				/* OS dependent 1 */
 	__u32	i_block[EXT2_N_BLOCKS];/* Pointers to blocks */
 	__u32	i_generation;	/* File version (for NFS) */
@@ -400,12 +395,6 @@ struct ext2_inode_large {
 			__u16	h_i_gid_high;
 			__u32	h_i_author;
 		} hurd2;
-		struct {
-			__u8	m_i_frag;	/* Fragment number */
-			__u8	m_i_fsize;	/* Fragment size */
-			__u16	m_pad1;
-			__u32	m_i_reserved2[2];
-		} masix2;
 	} osd2;				/* OS dependent 2 */
 	__u16	i_extra_isize;
 	__u16	i_pad1;
@@ -437,30 +426,13 @@ struct ext2_inode_large {
 #define i_gid_high	osd2.hurd2.h_i_gid_high
 #define i_author	osd2.hurd2.h_i_author
 
-#else
-#if defined(__masix__)
-
-#define i_reserved1	osd1.masix1.m_i_reserved1
-#define i_frag		osd2.masix2.m_i_frag
-#define i_fsize		osd2.masix2.m_i_fsize
-#define i_reserved2	osd2.masix2.m_i_reserved2
-
-#endif  /* __masix__ */
 #endif  /* __GNU__ */
 #endif	/* defined(__KERNEL__) || defined(__linux__) */
 
-#if defined(__masix__)
-#define inode_uid(inode)	((inode).i_uid)
-#define inode_gid(inode)	((inode).i_gid)
-#define ext2fs_set_i_uid_high(inode,x) (x)
-#define ext2fs_set_i_gid_high(inode,x) (x)
-
-#else
 #define inode_uid(inode)	((inode).i_uid | (inode).osd2.linux2.l_i_uid_high << 16)
 #define inode_gid(inode)	((inode).i_gid | (inode).osd2.linux2.l_i_gid_high << 16)
 #define ext2fs_set_i_uid_high(inode,x) ((inode).osd2.linux2.l_i_uid_high = (x))
 #define ext2fs_set_i_gid_high(inode,x) ((inode).osd2.linux2.l_i_gid_high = (x))
-#endif
 
 /*
  * File system states
@@ -598,7 +570,7 @@ struct ext2_super_block {
  */
 #define EXT2_OS_LINUX		0
 #define EXT2_OS_HURD		1
-#define EXT2_OS_MASIX		2
+#define EXT2_OBSO_OS_MASIX	2
 #define EXT2_OS_FREEBSD		3
 #define EXT2_OS_LITES		4
 
@@ -653,6 +625,7 @@ struct ext2_super_block {
 #define EXT3_FEATURE_INCOMPAT_EXTENTS		0x0040
 #define EXT4_FEATURE_INCOMPAT_64BIT		0x0080
 #define EXT4_FEATURE_INCOMPAT_MMP		0x0100
+#define EXT4_FEATURE_INCOMPAT_FLEX_BG		0x0200
 
 
 #define EXT2_FEATURE_COMPAT_SUPP	0
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/ext2fs.h e2fsprogs/lib/ext2fs/ext2fs.h
--- e2fsprogs-1.40.7/lib/ext2fs/ext2fs.h	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/ext2fs.h	2008-02-29 11:23:57.000000000 +0000
@@ -30,15 +30,6 @@ extern "C" {
 #endif
 
 /*
- * Build in support for byte-swapping filesystems if we the feature
- * has been configured or if we're being built on a CPU architecture
- * with a non-native byte order.
- */
-#if defined(ENABLE_SWAPFS) || defined(WORDS_BIGENDIAN)
-#define EXT2FS_ENABLE_SWAPFS
-#endif
-
-/*
  * Where the master copy of the superblock is located, and how big
  * superblocks are supposed to be.  We define SUPERBLOCK_SIZE because
  * the size of the superblock structure is not necessarily trustworthy
@@ -74,6 +65,7 @@ extern "C" {
 
 typedef __u32		ext2_ino_t;
 typedef __u32		blk_t;
+typedef __u64		blk64_t;
 typedef __u32		dgrp_t;
 typedef __u32		ext2_off_t;
 typedef __s64		e2_blkcnt_t;
@@ -83,10 +75,12 @@ typedef __u32		ext2_dirhash_t;
 #include "com_err.h"
 #include "ext2_io.h"
 #include "ext2_err.h"
+#include "ext2_ext_attr.h"
 #else
 #include <et/com_err.h>
 #include <ext2fs/ext2_io.h>
 #include <ext2fs/ext2_err.h>
+#include <ext2fs/ext2_ext_attr.h>
 #endif
 
 /*
@@ -100,17 +94,6 @@ typedef __u32		ext2_dirhash_t;
 
 typedef struct struct_ext2_filsys *ext2_filsys;
 
-struct ext2fs_struct_generic_bitmap {
-	errcode_t	magic;
-	ext2_filsys 	fs;
-	__u32		start, end;
-	__u32		real_end;
-	char	*	description;
-	char	*	bitmap;
-	errcode_t	base_error_code;
-	__u32		reserved[7];
-};
-
 #define EXT2FS_MARK_ERROR 	0
 #define EXT2FS_UNMARK_ERROR 	1
 #define EXT2FS_TEST_ERROR	2
@@ -188,7 +171,6 @@ typedef struct ext2_file *ext2_file_t;
 #define EXT2_FLAG_IMAGE_FILE		0x2000
 #define EXT2_FLAG_EXCLUSIVE		0x4000
 #define EXT2_FLAG_SOFTSUPP_FEATURES	0x8000
-#define EXT2_FLAG_NOFREE_ON_ERROR	0x10000
 
 /*
  * Special flag in the ext2 inode i_flag field that means that this is
@@ -279,6 +261,9 @@ struct struct_ext2_filsys {
  * BLOCK_FLAG_DATA_ONLY indicates that the iterator function should be
  * called for data blocks only.
  *
+ * BLOCK_FLAG_READ_ONLY is a promise by the caller that it will not 
+ * modify returned block number.
+ *
  * BLOCK_FLAG_NO_LARGE is for internal use only.  It informs
  * ext2fs_block_iterate2 that large files won't be accepted.
  */
@@ -286,6 +271,7 @@ struct struct_ext2_filsys {
 #define BLOCK_FLAG_HOLE		1
 #define BLOCK_FLAG_DEPTH_TRAVERSE	2
 #define BLOCK_FLAG_DATA_ONLY	4
+#define BLOCK_FLAG_READ_ONLY	8
 
 #define BLOCK_FLAG_NO_LARGE	0x1000
 
@@ -306,6 +292,65 @@ struct struct_ext2_filsys {
 #endif
 
 /*
+ * Generic (non-filesystem layout specific) extents structure
+ */
+
+#define EXT2_EXTENT_FLAGS_LEAF		0x0001
+#define EXT2_EXTENT_FLAGS_UNINIT	0x0002
+#define EXT2_EXTENT_FLAGS_SECOND_VISIT	0x0004
+
+struct ext2fs_extent {
+	blk64_t	e_pblk;		/* first physical block */
+	blk64_t	e_lblk;		/* first logical block extent covers */
+	__u32	e_len;		/* number of blocks covered by extent */
+	__u32	e_flags;	/* extent flags */
+};
+
+typedef struct ext2_extent_handle *ext2_extent_handle_t;
+typedef struct ext2_extent_path *ext2_extent_path_t;
+
+/*
+ * Flags used by ext2fs_extent_get()
+ */
+#define EXT2_EXTENT_CURRENT	0x0000
+#define EXT2_EXTENT_MOVE_MASK	0x000F
+#define EXT2_EXTENT_ROOT	0x0001
+#define EXT2_EXTENT_LAST_LEAF	0x0002
+#define EXT2_EXTENT_FIRST_SIB	0x0003
+#define EXT2_EXTENT_LAST_SIB	0x0004
+#define EXT2_EXTENT_NEXT_SIB	0x0005
+#define EXT2_EXTENT_PREV_SIB	0x0006
+#define EXT2_EXTENT_NEXT_LEAF	0x0007
+#define EXT2_EXTENT_PREV_LEAF	0x0008
+#define EXT2_EXTENT_NEXT	0x0009
+#define EXT2_EXTENT_PREV	0x000A
+#define EXT2_EXTENT_UP		0x000B
+#define EXT2_EXTENT_DOWN	0x000C
+#define EXT2_EXTENT_DOWN_AND_LAST 0x000D
+
+/*
+ * Flags used by ext2fs_extent_insert()
+ */
+
+#define EXT2_EXTENT_INSERT_AFTER  0x0001
+
+/*
+ * Data structure returned by ext2fs_extent_get_info()
+ */
+struct ext2_extent_info {
+	int		curr_entry;
+	int		curr_level;
+	int		num_entries;
+	int		max_entries;
+	int		max_depth;
+	int		bytes_avail;
+	blk64_t		max_lblk;
+	blk64_t		max_pblk;
+	__u32		max_len;
+	__u32		max_uninit_len;
+};
+
+/*
  * Flags for directory block reading and writing functions
  */
 #define EXT2_DIRBLOCK_V2_STRUCT	0x0001
@@ -411,6 +456,11 @@ typedef struct ext2_icount *ext2_icount_
 #define BMAP_SET	0x0002
 
 /*
+ * Returned flags from ext2fs_bmap
+ */
+#define BMAP_RET_UNINIT	0x0001
+
+/*
  * Flags for imager.c functions
  */
 #define IMAGER_FLAG_INODEMAP	1
@@ -427,7 +477,7 @@ typedef struct ext2_icount *ext2_icount_
 /*
  * For ext2 compression support
  */
-#define EXT2FS_COMPRESSED_BLKADDR ((blk_t) 0xffffffff)
+#define EXT2FS_COMPRESSED_BLKADDR ((blk_t) -1)
 #define HOLE_BLKADDR(_b) ((_b) == 0 || (_b) == EXT2FS_COMPRESSED_BLKADDR)
 
 /*
@@ -453,12 +503,16 @@ typedef struct ext2_icount *ext2_icount_
 					 EXT2_FEATURE_INCOMPAT_COMPRESSION|\
 					 EXT3_FEATURE_INCOMPAT_JOURNAL_DEV|\
 					 EXT2_FEATURE_INCOMPAT_META_BG|\
-					 EXT3_FEATURE_INCOMPAT_RECOVER)
+					 EXT3_FEATURE_INCOMPAT_RECOVER|\
+					 EXT3_FEATURE_INCOMPAT_EXTENTS|\
+					 EXT4_FEATURE_INCOMPAT_FLEX_BG)
 #else
 #define EXT2_LIB_FEATURE_INCOMPAT_SUPP	(EXT2_FEATURE_INCOMPAT_FILETYPE|\
 					 EXT3_FEATURE_INCOMPAT_JOURNAL_DEV|\
 					 EXT2_FEATURE_INCOMPAT_META_BG|\
-					 EXT3_FEATURE_INCOMPAT_RECOVER)
+					 EXT3_FEATURE_INCOMPAT_RECOVER|\
+					 EXT3_FEATURE_INCOMPAT_EXTENTS|\
+					 EXT4_FEATURE_INCOMPAT_FLEX_BG)
 #endif
 #define EXT2_LIB_FEATURE_RO_COMPAT_SUPP	(EXT2_FEATURE_RO_COMPAT_SPARSE_SUPER|\
 					 EXT2_FEATURE_RO_COMPAT_LARGE_FILE)
@@ -552,15 +606,14 @@ extern errcode_t ext2fs_update_bb_inode(
 					ext2_badblocks_list bb_list);
 
 /* bitmaps.c */
+extern void ext2fs_free_block_bitmap(ext2fs_block_bitmap bitmap);
+extern void ext2fs_free_inode_bitmap(ext2fs_inode_bitmap bitmap);
+extern errcode_t ext2fs_copy_bitmap(ext2fs_generic_bitmap src,
+				    ext2fs_generic_bitmap *dest);
 extern errcode_t ext2fs_write_inode_bitmap(ext2_filsys fs);
 extern errcode_t ext2fs_write_block_bitmap (ext2_filsys fs);
 extern errcode_t ext2fs_read_inode_bitmap (ext2_filsys fs);
 extern errcode_t ext2fs_read_block_bitmap(ext2_filsys fs);
-extern errcode_t ext2fs_allocate_generic_bitmap(__u32 start,
-						__u32 end,
-						__u32 real_end,
-						const char *descr,
-						ext2fs_generic_bitmap *ret);
 extern errcode_t ext2fs_allocate_block_bitmap(ext2_filsys fs,
 					      const char *descr,
 					      ext2fs_block_bitmap *ret);
@@ -575,6 +628,27 @@ extern void ext2fs_clear_inode_bitmap(ex
 extern void ext2fs_clear_block_bitmap(ext2fs_block_bitmap bitmap);
 extern errcode_t ext2fs_read_bitmaps(ext2_filsys fs);
 extern errcode_t ext2fs_write_bitmaps(ext2_filsys fs);
+extern errcode_t ext2fs_resize_inode_bitmap(__u32 new_end, __u32 new_real_end,
+					    ext2fs_inode_bitmap bmap);
+extern errcode_t ext2fs_resize_block_bitmap(__u32 new_end, __u32 new_real_end,
+					    ext2fs_block_bitmap bmap);
+extern errcode_t ext2fs_compare_block_bitmap(ext2fs_block_bitmap bm1,
+					     ext2fs_block_bitmap bm2);
+extern errcode_t ext2fs_compare_inode_bitmap(ext2fs_inode_bitmap bm1,
+					     ext2fs_inode_bitmap bm2);
+extern errcode_t ext2fs_set_inode_bitmap_range(ext2fs_inode_bitmap bmap,
+					ext2_ino_t start, unsigned int num,
+					void *in);
+extern errcode_t ext2fs_get_inode_bitmap_range(ext2fs_inode_bitmap bmap,
+					ext2_ino_t start, unsigned int num,
+					void *out);
+extern errcode_t ext2fs_set_block_bitmap_range(ext2fs_block_bitmap bmap,
+					blk_t start, unsigned int num,
+					void *in);
+extern errcode_t ext2fs_get_block_bitmap_range(ext2fs_block_bitmap bmap,
+					blk_t start, unsigned int num,
+					void *out);
+
 
 /* block.c */
 extern errcode_t ext2fs_block_iterate(ext2_filsys fs,
@@ -603,7 +677,10 @@ extern errcode_t ext2fs_bmap(ext2_filsys
 			     struct ext2_inode *inode, 
 			     char *block_buf, int bmap_flags,
 			     blk_t block, blk_t *phys_blk);
-
+extern errcode_t ext2fs_bmap2(ext2_filsys fs, ext2_ino_t ino, 
+			      struct ext2_inode *inode,
+			      char *block_buf, int bmap_flags, blk64_t block,
+			      int *ret_flags, blk64_t *phys_blk);
 
 #if 0
 /* bmove.c */
@@ -628,12 +705,6 @@ extern int ext2fs_super_and_bgd_loc(ext2
 				    int *ret_meta_bg);
 extern void ext2fs_update_dynamic_rev(ext2_filsys fs);
 
-/* cmp_bitmaps.c */
-extern errcode_t ext2fs_compare_block_bitmap(ext2fs_block_bitmap bm1,
-					     ext2fs_block_bitmap bm2);
-extern errcode_t ext2fs_compare_inode_bitmap(ext2fs_inode_bitmap bm1,
-					     ext2fs_inode_bitmap bm2);
-
 /* dblist.c */
 
 extern errcode_t ext2fs_get_num_dirs(ext2_filsys fs, ext2_ino_t *ret_num_dirs);
@@ -715,6 +786,8 @@ extern errcode_t ext2fs_dup_handle(ext2_
 extern errcode_t ext2fs_expand_dir(ext2_filsys fs, ext2_ino_t dir);
 
 /* ext_attr.c */
+extern __u32 ext2fs_ext_attr_hash_entry(struct ext2_ext_attr_entry *entry,
+					void *data);
 extern errcode_t ext2fs_read_ext_attr(ext2_filsys fs, blk_t block, void *buf);
 extern errcode_t ext2fs_write_ext_attr(ext2_filsys fs, blk_t block,
 				       void *buf);
@@ -722,6 +795,22 @@ extern errcode_t ext2fs_adjust_ea_refcou
 					   char *block_buf,
 					   int adjust, __u32 *newcount);
 
+/* extent.c */
+extern errcode_t ext2fs_extent_header_verify(void *ptr, int size);
+extern errcode_t ext2fs_extent_open(ext2_filsys fs, ext2_ino_t ino,
+				    ext2_extent_handle_t *handle);
+extern errcode_t ext2fs_extent_get(ext2_extent_handle_t handle,
+				   int flags, struct ext2fs_extent *extent);
+extern errcode_t ext2fs_extent_replace(ext2_extent_handle_t handle, int flags,
+				       struct ext2fs_extent *extent);
+extern errcode_t ext2fs_extent_insert(ext2_extent_handle_t handle, int flags,
+				      struct ext2fs_extent *extent);
+extern errcode_t ext2fs_extent_delete(ext2_extent_handle_t handle, int flags);
+extern errcode_t ext2fs_extent_get_info(ext2_extent_handle_t handle,
+					struct ext2_extent_info *info);
+extern errcode_t ext2fs_extent_goto(ext2_extent_handle_t handle,
+				    blk64_t blk);
+
 /* fileio.c */
 extern errcode_t ext2fs_file_open2(ext2_filsys fs, ext2_ino_t ino,
 				   struct ext2_inode *inode,
@@ -751,13 +840,47 @@ extern errcode_t ext2fs_sync_device(int 
 
 /* freefs.c */
 extern void ext2fs_free(ext2_filsys fs);
-extern void ext2fs_free_generic_bitmap(ext2fs_inode_bitmap bitmap);
-extern void ext2fs_free_block_bitmap(ext2fs_block_bitmap bitmap);
-extern void ext2fs_free_inode_bitmap(ext2fs_inode_bitmap bitmap);
 extern void ext2fs_free_dblist(ext2_dblist dblist);
 extern void ext2fs_badblocks_list_free(ext2_badblocks_list bb);
 extern void ext2fs_u32_list_free(ext2_u32_list bb);
 
+/* gen_bitmap.c */
+extern void ext2fs_free_generic_bitmap(ext2fs_inode_bitmap bitmap);
+extern errcode_t ext2fs_make_generic_bitmap(errcode_t magic, ext2_filsys fs, 
+					    __u32 start, __u32 end, 
+					    __u32 real_end,
+					    const char *descr, char *init_map,
+					    ext2fs_generic_bitmap *ret);
+extern errcode_t ext2fs_allocate_generic_bitmap(__u32 start,
+						__u32 end,
+						__u32 real_end,
+						const char *descr,
+						ext2fs_generic_bitmap *ret);
+extern errcode_t ext2fs_copy_generic_bitmap(ext2fs_generic_bitmap src,
+					    ext2fs_generic_bitmap *dest);
+extern void ext2fs_clear_generic_bitmap(ext2fs_generic_bitmap bitmap);
+extern errcode_t ext2fs_fudge_generic_bitmap_end(ext2fs_inode_bitmap bitmap,
+						 errcode_t magic, 
+						 errcode_t neq,
+						 ext2_ino_t end, 
+						 ext2_ino_t *oend);
+extern void ext2fs_set_generic_bitmap_padding(ext2fs_generic_bitmap map);
+extern errcode_t ext2fs_resize_generic_bitmap(errcode_t magic,
+					      __u32 new_end,
+					      __u32 new_real_end,
+					      ext2fs_generic_bitmap bmap);
+extern errcode_t ext2fs_compare_generic_bitmap(errcode_t magic, errcode_t neq,
+					       ext2fs_generic_bitmap bm1,
+					       ext2fs_generic_bitmap bm2);
+extern errcode_t ext2fs_get_generic_bitmap_range(ext2fs_generic_bitmap bmap,
+						 errcode_t magic,
+						 __u32 start, __u32 num,
+						 void *out);
+extern errcode_t ext2fs_set_generic_bitmap_range(ext2fs_generic_bitmap bmap,
+						 errcode_t magic,
+						 __u32 start, __u32 num,
+						 void *in);
+
 /* getsize.c */
 extern errcode_t ext2fs_get_device_size(const char *file, int blocksize,
 					blk_t *retblocks);
@@ -928,20 +1051,13 @@ extern errcode_t ext2fs_read_bb_FILE(ext
 /* res_gdt.c */
 extern errcode_t ext2fs_create_resize_inode(ext2_filsys fs);
 
-/* rs_bitmap.c */
-extern errcode_t ext2fs_resize_generic_bitmap(__u32 new_end,
-					      __u32 new_real_end,
-					      ext2fs_generic_bitmap bmap);
-extern errcode_t ext2fs_resize_inode_bitmap(__u32 new_end, __u32 new_real_end,
-					    ext2fs_inode_bitmap bmap);
-extern errcode_t ext2fs_resize_block_bitmap(__u32 new_end, __u32 new_real_end,
-					    ext2fs_block_bitmap bmap);
-extern errcode_t ext2fs_copy_bitmap(ext2fs_generic_bitmap src,
-				    ext2fs_generic_bitmap *dest);
-
 /* swapfs.c */
 extern void ext2fs_swap_ext_attr(char *to, char *from, int bufsize, 
 				 int has_header);
+extern void ext2fs_swap_ext_attr_header(struct ext2_ext_attr_header *to_header,
+					struct ext2_ext_attr_header *from_hdr);
+extern void ext2fs_swap_ext_attr_entry(struct ext2_ext_attr_entry *to_entry,
+				       struct ext2_ext_attr_entry *from_entry);
 extern void ext2fs_swap_super(struct ext2_super_block * super);
 extern void ext2fs_swap_group_desc(struct ext2_group_desc *gdp);
 extern void ext2fs_swap_inode_full(ext2_filsys fs, struct ext2_inode_large *t,
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/ext2_io.h e2fsprogs/lib/ext2fs/ext2_io.h
--- e2fsprogs-1.40.7/lib/ext2fs/ext2_io.h	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/ext2_io.h	2008-02-29 11:23:57.000000000 +0000
@@ -26,6 +26,7 @@ ext2_loff_t ext2fs_llseek (int, ext2_lof
 
 typedef struct struct_io_manager *io_manager;
 typedef struct struct_io_channel *io_channel;
+typedef struct struct_io_stats *io_stats;
 
 #define CHANNEL_FLAGS_WRITETHROUGH	0x01
 
@@ -55,6 +56,13 @@ struct struct_io_channel {
 	void		*app_data;
 };
 
+struct struct_io_stats {
+	int			num_fields;
+	int			reserved;
+	unsigned long long	bytes_read;
+	unsigned long long	bytes_written;
+};
+
 struct struct_io_manager {
 	errcode_t magic;
 	const char *name;
@@ -70,6 +78,7 @@ struct struct_io_manager {
 				int count, const void *data);
 	errcode_t (*set_option)(io_channel channel, const char *option, 
 				const char *arg);
+	errcode_t (*get_stats)(io_channel channel, io_stats *io_stats);
 	int		reserved[14];
 };
 
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/ext3_extents.h e2fsprogs/lib/ext2fs/ext3_extents.h
--- e2fsprogs-1.40.7/lib/ext2fs/ext3_extents.h	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/ext3_extents.h	2008-02-29 11:23:57.000000000 +0000
@@ -126,6 +126,26 @@ struct ext3_ext_path {
 #define EXT_MAX_BLOCK	0xffffffff
 #define EXT_CACHE_MARK	0xffff
 
+/*
+ * EXT_INIT_MAX_LEN is the maximum number of blocks we can have in an
+ * initialized extent. This is 2^15 and not (2^16 - 1), since we use the
+ * MSB of ee_len field in the extent datastructure to signify if this
+ * particular extent is an initialized extent or an uninitialized (i.e.
+ * preallocated).
+ * EXT_UNINIT_MAX_LEN is the maximum number of blocks we can have in an
+ * uninitialized extent.
+ * If ee_len is <= 0x8000, it is an initialized extent. Otherwise, it is an
+ * uninitialized one. In other words, if MSB of ee_len is set, it is an
+ * uninitialized extent with only one special scenario when ee_len = 0x8000.
+ * In this case we can not have an uninitialized extent of zero length and
+ * thus we make it as a special case of initialized extent with 0x8000 length.
+ * This way we get better extent-to-group alignment for initialized extents.
+ * Hence, the maximum number of blocks we can have in an *initialized*
+ * extent is 2^15 (32768) and in an *uninitialized* extent is 2^15-1 (32767).
+ */
+#define EXT_INIT_MAX_LEN	(1UL << 15)
+#define EXT_UNINIT_MAX_LEN	(EXT_INIT_MAX_LEN - 1)
+
 
 #define EXT_FIRST_EXTENT(__hdr__) \
 	((struct ext3_extent *) (((char *) (__hdr__)) +		\
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/ext_attr.c e2fsprogs/lib/ext2fs/ext_attr.c
--- e2fsprogs-1.40.7/lib/ext2fs/ext_attr.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/ext_attr.c	2008-02-29 11:23:57.000000000 +0000
@@ -23,6 +23,43 @@
 
 #include "ext2fs.h"
 
+#define NAME_HASH_SHIFT 5
+#define VALUE_HASH_SHIFT 16
+
+/*
+ * ext2_xattr_hash_entry()
+ *
+ * Compute the hash of an extended attribute.
+ */
+__u32 ext2fs_ext_attr_hash_entry(struct ext2_ext_attr_entry *entry, void *data)
+{
+	__u32 hash = 0;
+	char *name = ((char *) entry) + sizeof(struct ext2_ext_attr_entry);
+	int n;
+
+	for (n = 0; n < entry->e_name_len; n++) {
+		hash = (hash << NAME_HASH_SHIFT) ^
+		       (hash >> (8*sizeof(hash) - NAME_HASH_SHIFT)) ^
+		       *name++;
+	}
+
+	/* The hash needs to be calculated on the data in little-endian. */
+	if (entry->e_value_block == 0 && entry->e_value_size != 0) {
+		__u32 *value = (__u32 *)data;
+		for (n = (entry->e_value_size + EXT2_EXT_ATTR_ROUND) >>
+			 EXT2_EXT_ATTR_PAD_BITS; n; n--) {
+			hash = (hash << VALUE_HASH_SHIFT) ^
+			       (hash >> (8*sizeof(hash) - VALUE_HASH_SHIFT)) ^
+			       ext2fs_le32_to_cpu(*value++);
+		}
+	}
+
+	return hash;
+}
+
+#undef NAME_HASH_SHIFT
+#undef VALUE_HASH_SHIFT
+
 errcode_t ext2fs_read_ext_attr(ext2_filsys fs, blk_t block, void *buf)
 {
 	errcode_t	retval;
@@ -30,10 +67,8 @@ errcode_t ext2fs_read_ext_attr(ext2_fils
  	retval = io_channel_read_blk(fs->io, block, 1, buf);
 	if (retval)
 		return retval;
-#ifdef EXT2FS_ENABLE_SWAPFS
-	if ((fs->flags & (EXT2_FLAG_SWAP_BYTES|
-			  EXT2_FLAG_SWAP_BYTES_READ)) != 0)
-		ext2fs_swap_ext_attr(buf, buf, fs->blocksize, 1);
+#ifdef WORDS_BIGENDIAN
+	ext2fs_swap_ext_attr(buf, buf, fs->blocksize, 1);
 #endif
 	return 0;
 }
@@ -44,17 +79,15 @@ errcode_t ext2fs_write_ext_attr(ext2_fil
 	char		*write_buf;
 	char		*buf = NULL;
 
-#ifdef EXT2FS_ENABLE_SWAPFS
-	if ((fs->flags & EXT2_FLAG_SWAP_BYTES) ||
-	    (fs->flags & EXT2_FLAG_SWAP_BYTES_WRITE)) {
-		retval = ext2fs_get_mem(fs->blocksize, &buf);
-		if (retval)
-			return retval;
-		write_buf = buf;
-		ext2fs_swap_ext_attr(buf, inbuf, fs->blocksize, 1);
-	} else
+#ifdef WORDS_BIGENDIAN
+	retval = ext2fs_get_mem(fs->blocksize, &buf);
+	if (retval)
+		return retval;
+	write_buf = buf;
+	ext2fs_swap_ext_attr(buf, inbuf, fs->blocksize, 1);
+#else
+	write_buf = (char *) inbuf;
 #endif
-		write_buf = (char *) inbuf;
  	retval = io_channel_write_blk(fs->io, block, 1, write_buf);
 	if (buf)
 		ext2fs_free_mem(&buf);
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/extent.c e2fsprogs/lib/ext2fs/extent.c
--- e2fsprogs-1.40.7/lib/ext2fs/extent.c	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/lib/ext2fs/extent.c	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1,1144 @@
+/*
+ * extent.c --- routines to implement extents support
+ *
+ * Copyright (C) 2007 Theodore Ts'o.
+ *
+ * %Begin-Header%
+ * This file may be redistributed under the terms of the GNU Public
+ * License.
+ * %End-Header%
+ */
+
+#include <stdio.h>
+#include <string.h>
+#if HAVE_UNISTD_H
+#include <unistd.h>
+#endif
+#if HAVE_ERRNO_H
+#include <errno.h>
+#endif
+#if HAVE_SYS_STAT_H
+#include <sys/stat.h>
+#endif
+#if HAVE_SYS_TYPES_H
+#include <sys/types.h>
+#endif
+
+#include "ext2_fs.h"
+#include "ext2fsP.h"
+#include "e2image.h"
+#include "ss/ss.h"
+
+/*
+ * Definitions to be dropped in lib/ext2fs/ext2fs.h
+ */
+
+/*
+ * Private definitions
+ */
+
+struct extent_path {
+	char		*buf;
+	int		entries;
+	int		max_entries;
+	int		left;
+	int		visit_num;
+	int		flags;
+	blk64_t		end_blk;
+	void		*curr;
+};
+
+
+struct ext2_extent_handle {
+	errcode_t		magic;
+	ext2_filsys		fs;
+	ext2_ino_t 		ino;
+	struct ext2_inode	*inode;
+	int			type;
+	int			level;
+	int			max_depth;
+	struct extent_path	*path;
+};
+
+struct ext2_extent_path {
+	errcode_t		magic;
+	int			leaf_height;
+	blk64_t			lblk;
+};
+
+/*
+ *  Useful Debugging stuff
+ */
+
+#ifdef DEBUG
+static void dbg_show_header(struct ext3_extent_header *eh)
+{
+	printf("header: magic=%x entries=%u max=%u depth=%u generation=%u\n",
+	       eh->eh_magic, eh->eh_entries, eh->eh_max, eh->eh_depth,
+	       eh->eh_generation);
+}
+
+static void dbg_show_index(struct ext3_extent_idx *ix)
+{
+	printf("index: block=%u leaf=%u leaf_hi=%u unused=%u\n",
+	       ix->ei_block, ix->ei_leaf, ix->ei_leaf_hi, ix->ei_unused);
+}
+
+static void dbg_show_extent(struct ext3_extent *ex)
+{
+	printf("extent: block=%u-%u len=%u start=%u start_hi=%u\n",
+	       ex->ee_block, ex->ee_block + ex->ee_len - 1,
+	       ex->ee_len, ex->ee_start, ex->ee_start_hi);
+}
+
+static void dbg_print_extent(char *desc, struct ext2fs_extent *extent)
+{
+	if (desc)
+		printf("%s: ", desc);
+	printf("extent: lblk %llu--%llu, len %lu, pblk %llu, flags: ",
+	       extent->e_lblk, extent->e_lblk + extent->e_len - 1,
+	       extent->e_len, extent->e_pblk);
+	if (extent->e_flags & EXT2_EXTENT_FLAGS_LEAF)
+		fputs("LEAF ", stdout);
+	if (extent->e_flags & EXT2_EXTENT_FLAGS_UNINIT)
+		fputs("UNINIT ", stdout);
+	if (extent->e_flags & EXT2_EXTENT_FLAGS_SECOND_VISIT)
+		fputs("2ND_VISIT ", stdout);
+	if (!extent->e_flags)
+		fputs("(none)", stdout);
+	fputc('\n', stdout);
+
+}
+
+#define dbg_printf(fmt, args...) printf(fmt, ## args)
+#else
+#define dbg_show_header(eh) do { } while (0)
+#define dbg_show_index(ix) do { } while (0)
+#define dbg_show_extent(ex) do { } while (0)
+#define dbg_print_extent(desc, ex) do { } while (0)
+#define dbg_printf(fmt, args...) do { } while (0)
+#endif
+
+/*
+ * Verify the extent header as being sane
+ */
+errcode_t ext2fs_extent_header_verify(void *ptr, int size)
+{
+	int eh_max, entry_size;
+	struct ext3_extent_header *eh = ptr;
+
+	dbg_show_header(eh);
+	if (ext2fs_le16_to_cpu(eh->eh_magic) != EXT3_EXT_MAGIC)
+		return EXT2_ET_EXTENT_HEADER_BAD;
+	if (ext2fs_le16_to_cpu(eh->eh_entries) > ext2fs_le16_to_cpu(eh->eh_max))
+		return EXT2_ET_EXTENT_HEADER_BAD;
+	if (eh->eh_depth == 0)
+		entry_size = sizeof(struct ext3_extent);
+	else
+		entry_size = sizeof(struct ext3_extent_idx);
+
+	eh_max = (size - sizeof(*eh)) / entry_size;
+	/* Allow two extent-sized items at the end of the block, for
+	 * ext4_extent_tail with checksum in the future. */
+	if ((ext2fs_le16_to_cpu(eh->eh_max) > eh_max) || 
+	    (ext2fs_le16_to_cpu(eh->eh_max) < (eh_max - 2)))
+		return EXT2_ET_EXTENT_HEADER_BAD;
+
+	return 0;
+}
+
+
+/*
+ * Begin functions to handle an inode's extent information
+ */
+
+extern void ext2fs_extent_free(ext2_extent_handle_t handle)
+{
+	int			i;
+
+	if (!handle)
+		return;
+
+	if (handle->inode)
+		ext2fs_free_mem(&handle->inode);
+	if (handle->path) {
+		for (i=1; i < handle->max_depth; i++) {
+			if (handle->path[i].buf)
+				ext2fs_free_mem(&handle->path[i].buf);
+		}
+	}
+	ext2fs_free_mem(&handle);
+}
+
+extern errcode_t ext2fs_extent_open(ext2_filsys fs, ext2_ino_t ino,
+				    ext2_extent_handle_t *ret_handle)
+{
+	struct ext2_extent_handle	*handle;
+	errcode_t			retval;
+	int				isize = EXT2_INODE_SIZE(fs->super);
+	struct ext3_extent_header	*eh;
+	struct ext3_extent_idx		*ix;
+
+	EXT2_CHECK_MAGIC(fs, EXT2_ET_MAGIC_EXT2FS_FILSYS);
+
+	if ((ino == 0) || (ino > fs->super->s_inodes_count))
+		return EXT2_ET_BAD_INODE_NUM;
+
+	retval = ext2fs_get_mem(sizeof(struct ext2_extent_handle), &handle);
+	if (retval)
+		return retval;
+	memset(handle, 0, sizeof(struct ext2_extent_handle));
+
+	retval = ext2fs_get_mem(isize, &handle->inode);
+	if (retval)
+		goto errout;
+
+	handle->ino = ino;
+	handle->fs = fs;
+
+	retval = ext2fs_read_inode_full(fs, ino, handle->inode, isize);
+	if (retval)
+		goto errout;
+
+	if (!(handle->inode->i_flags & EXT4_EXTENTS_FL))
+		return EXT2_ET_INODE_NOT_EXTENT;
+
+	eh = (struct ext3_extent_header *) &handle->inode->i_block;
+
+	retval = ext2fs_extent_header_verify(eh, sizeof(handle->inode->i_block));
+	if (retval)
+		return (retval);
+
+	handle->max_depth = ext2fs_le16_to_cpu(eh->eh_depth);
+	handle->type = ext2fs_le16_to_cpu(eh->eh_magic);
+
+	retval = ext2fs_get_mem(((handle->max_depth+1) *
+				 sizeof(struct extent_path)),
+				&handle->path);
+	memset(handle->path, 0,
+	       (handle->max_depth+1) * sizeof(struct extent_path));
+	handle->path[0].buf = (char *) handle->inode->i_block;
+
+	handle->path[0].left = handle->path[0].entries =
+		ext2fs_le16_to_cpu(eh->eh_entries);
+	handle->path[0].max_entries = ext2fs_le16_to_cpu(eh->eh_max);
+	handle->path[0].curr = 0;
+	handle->path[0].end_blk =
+		((((__u64) handle->inode->i_size_high << 32) +
+		  handle->inode->i_size + (fs->blocksize - 1))
+		 >> EXT2_BLOCK_SIZE_BITS(fs->super));
+	handle->path[0].visit_num = 1;
+	handle->level = 0;
+	handle->magic = EXT2_ET_MAGIC_EXTENT_HANDLE;
+
+	*ret_handle = handle;
+	return 0;
+
+errout:
+	ext2fs_extent_free(handle);
+	return retval;
+}
+
+/*
+ * This function is responsible for (optionally) moving through the
+ * extent tree and then returning the current extent
+ */
+errcode_t ext2fs_extent_get(ext2_extent_handle_t handle,
+			    int flags, struct ext2fs_extent *extent)
+{
+	struct extent_path	*path, *newpath;
+	struct ext3_extent_header	*eh;
+	struct ext3_extent_idx		*ix = 0;
+	struct ext3_extent		*ex;
+	errcode_t			retval;
+	blk_t				blk;
+	blk64_t				end_blk;
+	int				orig_op, op;
+
+	EXT2_CHECK_MAGIC(handle, EXT2_ET_MAGIC_EXTENT_HANDLE);
+
+	if (!handle->path)
+		return EXT2_ET_NO_CURRENT_NODE;
+
+	orig_op = op = flags & EXT2_EXTENT_MOVE_MASK;
+
+retry:
+	path = handle->path + handle->level;
+	if ((orig_op == EXT2_EXTENT_NEXT) ||
+	    (orig_op == EXT2_EXTENT_NEXT_LEAF)) {
+		if (handle->level < handle->max_depth) {
+			/* interior node */
+			if (path->visit_num == 0) {
+				path->visit_num++;
+				op = EXT2_EXTENT_DOWN;
+			} else if (path->left > 0)
+				op = EXT2_EXTENT_NEXT_SIB;
+			else if (handle->level > 0)
+				op = EXT2_EXTENT_UP;
+			else
+				return EXT2_ET_EXTENT_NO_NEXT;
+		} else {
+			/* leaf node */
+			if (path->left > 0)
+				op = EXT2_EXTENT_NEXT_SIB;
+			else if (handle->level > 0)
+				op = EXT2_EXTENT_UP;
+			else
+				return EXT2_ET_EXTENT_NO_NEXT;
+		}
+		if (op != EXT2_EXTENT_NEXT_SIB) {
+			dbg_printf("<<<< OP = %s\n",
+			       (op == EXT2_EXTENT_DOWN) ? "down" :
+			       ((op == EXT2_EXTENT_UP) ? "up" : "unknown"));
+		}
+	}
+
+	if ((orig_op == EXT2_EXTENT_PREV) ||
+	    (orig_op == EXT2_EXTENT_PREV_LEAF)) {
+		if (handle->level < handle->max_depth) {
+			/* interior node */
+			if (path->visit_num > 0 ) {
+				/* path->visit_num = 0; */
+				op = EXT2_EXTENT_DOWN_AND_LAST;
+			} else if (path->left < path->entries-1)
+				op = EXT2_EXTENT_PREV_SIB;
+			else if (handle->level > 0)
+				op = EXT2_EXTENT_UP;
+			else
+				return EXT2_ET_EXTENT_NO_PREV;
+		} else {
+			/* leaf node */
+			if (path->left < path->entries-1)
+				op = EXT2_EXTENT_PREV_SIB;
+			else if (handle->level > 0)
+				op = EXT2_EXTENT_UP;
+			else
+				return EXT2_ET_EXTENT_NO_PREV;
+		}
+		if (op != EXT2_EXTENT_PREV_SIB) {
+			dbg_printf("<<<< OP = %s\n",
+			       (op == EXT2_EXTENT_DOWN_AND_LAST) ? "down/last" :
+			       ((op == EXT2_EXTENT_UP) ? "up" : "unknown"));
+		}
+	}
+
+	if (orig_op == EXT2_EXTENT_LAST_LEAF) {
+		if ((handle->level < handle->max_depth) &&
+		    (path->left == 0))
+			op = EXT2_EXTENT_DOWN;
+		else
+			op = EXT2_EXTENT_LAST_SIB;
+		dbg_printf("<<<< OP = %s\n",
+			   (op == EXT2_EXTENT_DOWN) ? "down" : "last_sib");
+	}
+
+	switch (op) {
+	case EXT2_EXTENT_CURRENT:
+		ix = path->curr;
+		break;
+	case EXT2_EXTENT_ROOT:
+		handle->level = 0;
+		path = handle->path + handle->level;
+	case EXT2_EXTENT_FIRST_SIB:
+		path->left = path->entries;
+		path->curr = 0;
+	case EXT2_EXTENT_NEXT_SIB:
+		if (path->left <= 0)
+			return EXT2_ET_EXTENT_NO_NEXT;
+		if (path->curr) {
+			ix = path->curr;
+			ix++;
+		} else {
+			eh = (struct ext3_extent_header *) path->buf;
+			ix = EXT_FIRST_INDEX(eh);
+		}
+		path->left--;
+		path->curr = ix;
+		path->visit_num = 0;
+		break;
+	case EXT2_EXTENT_PREV_SIB:
+		if (!path->curr ||
+		    path->left+1 >= path->entries)
+			return EXT2_ET_EXTENT_NO_PREV;
+		ix = path->curr;
+		ix--;
+		path->curr = ix;
+		path->left++;
+		if (handle->level < handle->max_depth)
+			path->visit_num = 1;
+		break;
+	case EXT2_EXTENT_LAST_SIB:
+		eh = (struct ext3_extent_header *) path->buf;
+		path->curr = EXT_LAST_EXTENT(eh);
+		ix = path->curr;
+		path->left = 0;
+		path->visit_num = 0;
+		break;
+	case EXT2_EXTENT_UP:
+		if (handle->level <= 0)
+			return EXT2_ET_EXTENT_NO_UP;
+		handle->level--;
+		path--;
+		ix = path->curr;
+		if ((orig_op == EXT2_EXTENT_PREV) ||
+		    (orig_op == EXT2_EXTENT_PREV_LEAF))
+			path->visit_num = 0;
+		break;
+	case EXT2_EXTENT_DOWN:
+	case EXT2_EXTENT_DOWN_AND_LAST:
+		if (!path->curr ||(handle->level >= handle->max_depth))
+			return EXT2_ET_EXTENT_NO_DOWN;
+
+		ix = path->curr;
+		newpath = path + 1;
+		if (!newpath->buf) {
+			retval = ext2fs_get_mem(handle->fs->blocksize,
+						&newpath->buf);
+			if (retval)
+				return retval;
+		}
+		blk = ext2fs_le32_to_cpu(ix->ei_leaf) +
+			((__u64) ext2fs_le16_to_cpu(ix->ei_leaf_hi));
+		if ((handle->fs->flags & EXT2_FLAG_IMAGE_FILE) &&
+		    (handle->fs->io != handle->fs->image_io))
+			memset(newpath->buf, 0, handle->fs->blocksize);
+		else {
+			retval = io_channel_read_blk(handle->fs->io,
+						     blk, 1, newpath->buf);
+			if (retval)
+				return retval;
+		}
+		handle->level++;
+
+		eh = (struct ext3_extent_header *) newpath->buf;
+
+		retval = ext2fs_extent_header_verify(eh, handle->fs->blocksize);
+		if (retval)
+			return retval;
+
+		newpath->left = newpath->entries =
+			ext2fs_le16_to_cpu(eh->eh_entries);
+		newpath->max_entries = ext2fs_le16_to_cpu(eh->eh_max);
+
+		if (path->left > 0) {
+			ix++;
+			newpath->end_blk = ext2fs_le32_to_cpu(ix->ei_block);
+		} else
+			newpath->end_blk = path->end_blk;
+
+		path = newpath;
+		if (op == EXT2_EXTENT_DOWN) {
+			ix = EXT_FIRST_INDEX((struct ext3_extent_header *) eh);
+			path->curr = ix;
+			path->left = path->entries - 1;
+			path->visit_num = 0;
+		} else {
+			ix = EXT_LAST_INDEX((struct ext3_extent_header *) eh);
+			path->curr = ix;
+			path->left = 0;
+			if (handle->level < handle->max_depth)
+				path->visit_num = 1;
+		}
+
+		dbg_printf("Down to level %d/%d, end_blk=%llu\n",
+			   handle->level, handle->max_depth,
+			   path->end_blk);
+
+		break;
+	default:
+		return EXT2_ET_OP_NOT_SUPPORTED;
+	}
+
+	if (!ix)
+		return EXT2_ET_NO_CURRENT_NODE;
+
+	extent->e_flags = 0;
+
+	if (handle->level == handle->max_depth) {
+		ex = (struct ext3_extent *) ix;
+
+		extent->e_pblk = ext2fs_le32_to_cpu(ex->ee_start) +
+			((__u64) ext2fs_le16_to_cpu(ex->ee_start_hi) << 32);
+		extent->e_lblk = ext2fs_le32_to_cpu(ex->ee_block);
+		extent->e_len = ext2fs_le16_to_cpu(ex->ee_len);
+		extent->e_flags = EXT2_EXTENT_FLAGS_LEAF;
+		if (extent->e_len > EXT_INIT_MAX_LEN) {
+			extent->e_len -= EXT_INIT_MAX_LEN;
+			extent->e_flags = EXT2_EXTENT_FLAGS_UNINIT;
+		}
+	} else {
+		extent->e_pblk = ext2fs_le32_to_cpu(ix->ei_leaf) +
+			((__u64) ext2fs_le16_to_cpu(ix->ei_leaf_hi) << 32);
+		extent->e_lblk = ext2fs_le32_to_cpu(ix->ei_block);
+		if (path->left > 0) {
+			ix++;
+			end_blk = ext2fs_le32_to_cpu(ix->ei_block);
+		} else
+			end_blk = path->end_blk;
+
+		extent->e_len = end_blk - extent->e_lblk;
+	}
+	if (path->visit_num)
+		extent->e_flags |= EXT2_EXTENT_FLAGS_SECOND_VISIT;
+
+	if (((orig_op == EXT2_EXTENT_NEXT_LEAF) ||
+	     (orig_op == EXT2_EXTENT_PREV_LEAF)) &&
+	    (handle->level != handle->max_depth))
+		goto retry;
+
+	if ((orig_op == EXT2_EXTENT_LAST_LEAF) &&
+	    ((handle->level != handle->max_depth) ||
+	     (path->left != 0)))
+		goto retry;
+
+	return 0;
+}
+
+static errcode_t update_path(ext2_extent_handle_t handle)
+{
+	struct extent_path		*path;
+	blk64_t				blk;
+	errcode_t			retval;
+	struct ext3_extent_idx		*ix;
+
+	if (handle->level == 0) {
+		retval = ext2fs_write_inode_full(handle->fs, handle->ino,
+			   handle->inode, EXT2_INODE_SIZE(handle->fs->super));
+	} else {
+		ix = handle->path[handle->level - 1].curr;
+		blk = ext2fs_le32_to_cpu(ix->ei_leaf) +
+			((__u64) ext2fs_le16_to_cpu(ix->ei_leaf_hi) << 32);
+
+		retval = io_channel_write_blk(handle->fs->io,
+				      blk, 1, handle->path[handle->level].buf);
+	}
+	return retval;
+}
+
+errcode_t ext2fs_extent_save_path(ext2_extent_handle_t handle,
+				  ext2_extent_path_t *ret_path)
+{
+	ext2_extent_path_t	save_path;
+	struct ext2fs_extent	extent;
+	struct ext2_extent_info	info;
+	errcode_t		retval;
+
+	retval = ext2fs_extent_get(handle, EXT2_EXTENT_CURRENT, &extent);
+	if (retval)
+		return retval;
+
+	retval = ext2fs_extent_get_info(handle, &info);
+	if (retval)
+		return retval;
+
+	retval = ext2fs_get_mem(sizeof(struct ext2_extent_path), &save_path);
+	if (retval)
+		return retval;
+	memset(save_path, 0, sizeof(struct ext2_extent_path));
+
+	save_path->magic = EXT2_ET_MAGIC_EXTENT_PATH;
+	save_path->leaf_height = info.max_depth - info.curr_level - 1;
+	save_path->lblk = extent.e_lblk;
+
+	*ret_path = save_path;
+	return 0;
+}
+
+errcode_t ext2fs_extent_free_path(ext2_extent_path_t path)
+{
+	EXT2_CHECK_MAGIC(path, EXT2_ET_MAGIC_EXTENT_PATH);
+
+	ext2fs_free_mem(&path);
+	return 0;
+}
+
+static errcode_t extent_goto(ext2_extent_handle_t handle,
+			     int leaf_level, blk64_t blk)
+{
+	struct ext2fs_extent	extent, next;
+	errcode_t		retval;
+
+	retval = ext2fs_extent_get(handle, EXT2_EXTENT_ROOT, &extent);
+	if (retval)
+		return retval;
+
+	dbg_print_extent("root", &extent);
+	while (1) {
+		if (handle->level - leaf_level == handle->max_depth) {
+			if ((blk >= extent.e_lblk) &&
+			    (blk < extent.e_lblk + extent.e_len))
+				return 0;
+			if (blk < extent.e_lblk)
+				return EXT2_ET_EXTENT_NOT_FOUND;
+			retval = ext2fs_extent_get(handle,
+						   EXT2_EXTENT_NEXT_SIB,
+						   &extent);
+			if (retval == EXT2_ET_EXTENT_NO_NEXT)
+				return EXT2_ET_EXTENT_NOT_FOUND;
+			if (retval)
+				return retval;
+			continue;
+		}
+
+		retval = ext2fs_extent_get(handle, EXT2_EXTENT_NEXT_SIB,
+					   &extent);
+		if (retval == EXT2_ET_EXTENT_NO_NEXT)
+			goto go_down;
+		if (retval)
+			return retval;
+
+		dbg_print_extent("next", &extent);
+		if (blk == extent.e_lblk)
+			goto go_down;
+		if (blk > extent.e_lblk)
+			continue;
+
+		retval = ext2fs_extent_get(handle, EXT2_EXTENT_PREV_SIB,
+					   &extent);
+		if (retval)
+			return retval;
+
+		dbg_print_extent("prev", &extent);
+
+	go_down:
+		retval = ext2fs_extent_get(handle, EXT2_EXTENT_DOWN,
+					   &extent);
+		if (retval)
+			return retval;
+
+		dbg_print_extent("down", &extent);
+	}
+}
+
+errcode_t ext2fs_extent_goto(ext2_extent_handle_t handle,
+			     blk64_t blk)
+{
+	return extent_goto(handle, 0, blk);
+}
+
+errcode_t ext2fs_extent_replace(ext2_extent_handle_t handle, int flags,
+				struct ext2fs_extent *extent)
+{
+	struct extent_path		*path;
+	struct ext3_extent_idx		*ix;
+	struct ext3_extent		*ex;
+
+	EXT2_CHECK_MAGIC(handle, EXT2_ET_MAGIC_EXTENT_HANDLE);
+
+	if (!(handle->fs->flags & EXT2_FLAG_RW))
+		return EXT2_ET_RO_FILSYS;
+
+	if (!handle->path)
+		return EXT2_ET_NO_CURRENT_NODE;
+
+	path = handle->path + handle->level;
+	if (!path->curr)
+		return EXT2_ET_NO_CURRENT_NODE;
+
+	if (handle->level == handle->max_depth) {
+		ex = path->curr;
+
+		ex->ee_block = ext2fs_cpu_to_le32(extent->e_lblk);
+		ex->ee_start = ext2fs_cpu_to_le32(extent->e_pblk & 0xFFFFFFFF);
+		ex->ee_start_hi = ext2fs_cpu_to_le16(extent->e_pblk >> 32);
+		ex->ee_len = ext2fs_cpu_to_le16(extent->e_len);
+	} else {
+		ix = path->curr;
+
+		ix->ei_leaf = ext2fs_cpu_to_le32(extent->e_pblk & 0xFFFFFFFF);
+		ix->ei_leaf_hi = ext2fs_cpu_to_le16(extent->e_pblk >> 32);
+		ix->ei_block = ext2fs_cpu_to_le32(extent->e_lblk);
+		ix->ei_unused = 0;
+	}
+	update_path(handle);
+	return 0;
+}
+
+errcode_t ext2fs_extent_insert(ext2_extent_handle_t handle, int flags,
+				      struct ext2fs_extent *extent)
+{
+	struct extent_path		*path;
+	struct ext3_extent_idx		*ix;
+	struct ext3_extent_header	*eh;
+	errcode_t			retval;
+
+	EXT2_CHECK_MAGIC(handle, EXT2_ET_MAGIC_EXTENT_HANDLE);
+
+	if (!(handle->fs->flags & EXT2_FLAG_RW))
+		return EXT2_ET_RO_FILSYS;
+
+	if (!handle->path)
+		return EXT2_ET_NO_CURRENT_NODE;
+
+	path = handle->path + handle->level;
+
+	if (path->entries >= path->max_entries)
+		return EXT2_ET_CANT_INSERT_EXTENT;
+
+	eh = (struct ext3_extent_header *) path->buf;
+	if (path->curr) {
+		ix = path->curr;
+		if (flags & EXT2_EXTENT_INSERT_AFTER) {
+			ix++;
+			path->left--;
+		}
+	} else
+		ix = EXT_FIRST_INDEX(eh);
+
+	path->curr = ix;
+
+	if (path->left > 0)
+		memmove(ix + 1, ix,
+			path->left * sizeof(struct ext3_extent_idx));
+	path->left++;
+	path->entries++;
+
+	eh = (struct ext3_extent_header *) path->buf;
+	eh->eh_entries = ext2fs_cpu_to_le16(path->entries);
+
+	retval = ext2fs_extent_replace(handle, 0, extent);
+	if (retval)
+		goto errout;
+
+	retval = update_path(handle);
+	if (retval)
+		goto errout;
+
+	return 0;
+
+errout:
+	ext2fs_extent_delete(handle, 0);
+	return retval;
+}
+
+errcode_t ext2fs_extent_delete(ext2_extent_handle_t handle, int flags)
+{
+	struct extent_path		*path;
+	char 				*cp;
+	struct ext3_extent_header	*eh;
+	errcode_t			retval;
+
+	EXT2_CHECK_MAGIC(handle, EXT2_ET_MAGIC_EXTENT_HANDLE);
+
+	if (!(handle->fs->flags & EXT2_FLAG_RW))
+		return EXT2_ET_RO_FILSYS;
+
+	if (!handle->path)
+		return EXT2_ET_NO_CURRENT_NODE;
+
+	path = handle->path + handle->level;
+	if (!path->curr)
+		return EXT2_ET_NO_CURRENT_NODE;
+
+	cp = path->curr;
+
+	if (path->left) {
+		memmove(cp, cp + sizeof(struct ext3_extent_idx),
+			path->left * sizeof(struct ext3_extent_idx));
+		path->left--;
+	}
+	path->entries--;
+	if (path->entries == 0)
+		path->curr = 0;
+
+	eh = (struct ext3_extent_header *) path->buf;
+	eh->eh_entries = ext2fs_cpu_to_le16(path->entries);
+
+	retval = update_path(handle);
+
+	return retval;
+}
+
+errcode_t ext2fs_extent_get_info(ext2_extent_handle_t handle,
+				 struct ext2_extent_info *info)
+{
+	struct extent_path		*path;
+	struct ext3_extent_idx		*ix;
+	struct ext3_extent		*ex;
+
+	EXT2_CHECK_MAGIC(handle, EXT2_ET_MAGIC_EXTENT_HANDLE);
+
+	memset(info, 0, sizeof(struct ext2_extent_info));
+
+	path = handle->path + handle->level;
+	if (path) {
+		if (path->curr)
+			info->curr_entry = ((char *) path->curr - path->buf) /
+				sizeof(struct ext3_extent_idx);
+		else
+			info->curr_entry = 0;
+		info->num_entries = path->entries;
+		info->max_entries = path->max_entries;
+		info->bytes_avail = (path->max_entries - path->entries) *
+			sizeof(struct ext3_extent);
+	}
+
+	info->curr_level = handle->level;
+	info->max_depth = handle->max_depth;
+	info->max_lblk = ((__u64) 1 << 32) - 1;
+	info->max_pblk = ((__u64) 1 << 48) - 1;
+	info->max_len = (1UL << 15);
+	info->max_uninit_len = (1UL << 15) - 1;
+
+	return 0;
+}
+
+#ifdef DEBUG
+
+#include "debugfs.h"
+
+/*
+ * Hook in new commands into debugfs
+ */
+char *debug_prog_name = "tst_extents";
+extern ss_request_table extent_cmds;
+ss_request_table *extra_cmds = &extent_cmds;
+
+ext2_ino_t	current_ino = 0;
+ext2_extent_handle_t current_handle;
+
+void do_inode(int argc, char *argv[])
+{
+	ext2_ino_t	inode;
+	int		i;
+	struct ext3_extent_header *eh;
+	errcode_t retval;
+
+	if (check_fs_open(argv[0]))
+		return;
+
+	if (argc == 1) {
+		if (current_ino)
+			printf("Current inode is %d\n", current_ino);
+		else
+			printf("No current inode\n");
+		return;
+	}
+
+	if (common_inode_args_process(argc, argv, &inode, 0)) {
+		return;
+	}
+
+	current_ino = 0;
+
+	retval = ext2fs_extent_open(current_fs, inode, &current_handle);
+	if (retval) {
+		com_err(argv[1], retval, "while opening extent handle");
+		return;
+	}
+
+	current_ino = inode;
+
+	printf("Loaded inode %d\n", current_ino);
+
+	return;
+}
+
+void generic_goto_node(char *cmd_name, int op)
+{
+	struct ext2fs_extent	extent;
+	errcode_t		retval;
+
+	if (check_fs_open(cmd_name))
+		return;
+
+	if (!current_handle) {
+		com_err(cmd_name, 0, "Extent handle not open");
+		return;
+	}
+
+	retval = ext2fs_extent_get(current_handle, op, &extent);
+	if (retval) {
+		com_err(cmd_name, retval, 0);
+		return;
+	}
+	dbg_print_extent(0, &extent);
+}
+
+void do_current_node(int argc, char *argv[])
+{
+	generic_goto_node(argv[0], EXT2_EXTENT_CURRENT);
+}
+
+void do_root_node(int argc, char *argv[])
+{
+	generic_goto_node(argv[0], EXT2_EXTENT_ROOT);
+}
+
+void do_last_leaf(int argc, char *argv[])
+{
+	generic_goto_node(argv[0], EXT2_EXTENT_LAST_LEAF);
+}
+
+void do_first_sib(int argc, char *argv[])
+{
+	generic_goto_node(argv[0], EXT2_EXTENT_FIRST_SIB);
+}
+
+void do_last_sib(int argc, char *argv[])
+{
+	generic_goto_node(argv[0], EXT2_EXTENT_LAST_SIB);
+}
+
+void do_next_sib(int argc, char *argv[])
+{
+	generic_goto_node(argv[0], EXT2_EXTENT_NEXT_SIB);
+}
+
+void do_prev_sib(int argc, char *argv[])
+{
+	generic_goto_node(argv[0], EXT2_EXTENT_PREV_SIB);
+}
+
+void do_next_leaf(int argc, char *argv[])
+{
+	generic_goto_node(argv[0], EXT2_EXTENT_NEXT_LEAF);
+}
+
+void do_prev_leaf(int argc, char *argv[])
+{
+	generic_goto_node(argv[0], EXT2_EXTENT_PREV_LEAF);
+}
+
+void do_next(int argc, char *argv[])
+{
+	generic_goto_node(argv[0], EXT2_EXTENT_NEXT);
+}
+
+void do_prev(int argc, char *argv[])
+{
+	generic_goto_node(argv[0], EXT2_EXTENT_PREV);
+}
+
+void do_up(int argc, char *argv[])
+{
+	generic_goto_node(argv[0], EXT2_EXTENT_UP);
+}
+
+void do_down(int argc, char *argv[])
+{
+	generic_goto_node(argv[0], EXT2_EXTENT_DOWN);
+}
+
+void do_delete_node(int argc, char *argv[])
+{
+	errcode_t	retval;
+	int		err;
+
+	if (check_fs_read_write(argv[0]))
+		return;
+
+	retval = ext2fs_extent_delete(current_handle, 0);
+	if (retval) {
+		com_err(argv[0], retval, 0);
+		return;
+	}
+	do_current_node(argc, argv);
+}
+
+void do_replace_node(int argc, char *argv[])
+{
+	errcode_t	retval;
+	struct ext2fs_extent extent;
+	int err;
+
+	if (check_fs_read_write(argv[0]))
+		return;
+
+	if (argc != 4) {
+		fprintf(stderr, "usage: %s <lblk> <len> <pblk>\n", argv[0]);
+		return;
+	}
+
+	extent.e_lblk = parse_ulong(argv[1], argv[0],
+				    "logical block", &err);
+	if (err)
+		return;
+
+	extent.e_len = parse_ulong(argv[2], argv[0],
+				    "logical block", &err);
+	if (err)
+		return;
+
+	extent.e_pblk = parse_ulong(argv[3], argv[0],
+				    "logical block", &err);
+	if (err)
+		return;
+
+	retval = ext2fs_extent_replace(current_handle, 0, &extent);
+	if (retval) {
+		com_err(argv[0], retval, 0);
+		return;
+	}
+	do_current_node(argc, argv);
+}
+
+void do_insert_node(int argc, char *argv[])
+{
+	errcode_t	retval;
+	struct ext2fs_extent extent;
+	char *cmd;
+	int err;
+	int flags = 0;
+
+	if (check_fs_read_write(argv[0]))
+		return;
+
+	cmd = argv[0];
+
+	if (argc > 2 && !strcmp(argv[1], "--after")) {
+		argc--;
+		argv++;
+		flags |= EXT2_EXTENT_INSERT_AFTER;
+	}
+
+	if (argc != 4) {
+		fprintf(stderr, "usage: %s <lblk> <len> <pblk>\n", cmd);
+		return;
+	}
+
+	extent.e_lblk = parse_ulong(argv[1], cmd,
+				    "logical block", &err);
+	if (err)
+		return;
+
+	extent.e_len = parse_ulong(argv[2], cmd,
+				    "length", &err);
+	if (err)
+		return;
+
+	extent.e_pblk = parse_ulong(argv[3], cmd,
+				    "pysical block", &err);
+	if (err)
+		return;
+
+	retval = ext2fs_extent_insert(current_handle, flags, &extent);
+	if (retval) {
+		com_err(cmd, retval, 0);
+		return;
+	}
+	do_current_node(argc, argv);
+}
+
+void do_print_all(int argc, char **argv)
+{
+	struct ext2fs_extent	extent;
+	errcode_t		retval;
+	errcode_t		end_err = EXT2_ET_EXTENT_NO_NEXT;
+	int			op = EXT2_EXTENT_NEXT;
+	int			first_op = EXT2_EXTENT_ROOT;
+
+
+	if (check_fs_open(argv[0]))
+		return;
+
+	if (!current_handle) {
+		com_err(argv[0], 0, "Extent handle not open");
+		return;
+	}
+
+	if (argc > 2) {
+	print_usage:
+		fprintf(stderr,
+			"Usage: %s [--leaf-only|--reverse|--reverse-leaf]\n",
+			argv[0]);
+		return;
+	}
+
+	if (argc == 2) {
+		if (!strcmp(argv[1], "--leaf-only"))
+			op = EXT2_EXTENT_NEXT_LEAF;
+		else if (!strcmp(argv[1], "--reverse")) {
+			op = EXT2_EXTENT_PREV;
+			first_op = EXT2_EXTENT_LAST_LEAF;
+			end_err = EXT2_ET_EXTENT_NO_PREV;
+		} else if (!strcmp(argv[1], "--reverse-leaf")) {
+			op = EXT2_EXTENT_PREV_LEAF;
+			first_op = EXT2_EXTENT_LAST_LEAF;
+			end_err = EXT2_ET_EXTENT_NO_PREV;
+		} else
+			  goto print_usage;
+	}
+
+	retval = ext2fs_extent_get(current_handle, first_op, &extent);
+	if (retval) {
+		com_err(argv[0], retval, 0);
+		return;
+	}
+	dbg_print_extent(0, &extent);
+
+	while (1) {
+		retval = ext2fs_extent_get(current_handle, op, &extent);
+		if (retval == end_err)
+			break;
+
+		if (retval) {
+			com_err(argv[0], retval, 0);
+			return;
+		}
+		dbg_print_extent(0, &extent);
+	}
+}
+
+void do_info(int argc, char **argv)
+{
+	struct ext2_extent_info	info;
+	errcode_t		retval;
+
+	if (check_fs_open(argv[0]))
+		return;
+
+	if (!current_handle) {
+		com_err(argv[0], 0, "Extent handle not open");
+		return;
+	}
+
+	retval = ext2fs_extent_get_info(current_handle, &info);
+	if (retval) {
+		com_err(argv[0], retval, 0);
+		return;
+	}
+
+	printf("Current handle location: %d/%d (max: %d, bytes %d), level %d/%d\n",
+	       info.curr_entry, info.num_entries, info.max_entries,
+	       info.bytes_avail, info.curr_level, info.max_depth);
+	printf("\tmax lblk: %llu, max pblk: %llu\n", info.max_lblk,
+	       info.max_pblk);
+	printf("\tmax_len: %u, max_uninit_len: %u\n", info.max_len,
+	       info.max_uninit_len);
+}
+
+void do_goto_block(int argc, char **argv)
+{
+	struct ext2fs_extent	extent;
+	errcode_t		retval;
+	int			op = EXT2_EXTENT_NEXT_LEAF;
+	blk_t			blk;
+
+	if (check_fs_open(argv[0]))
+		return;
+
+	if (!current_handle) {
+		com_err(argv[0], 0, "Extent handle not open");
+		return;
+	}
+
+	if (argc != 2) {
+		fprintf(stderr, "%s block\n", argv[0]);
+		return;
+	}
+
+	if (strtoblk(argv[0], argv[1], &blk))
+		return;
+
+	retval = ext2fs_extent_goto(current_handle, (blk64_t) blk);
+	if (retval) {
+		com_err(argv[0], retval, "while trying to go to block %lu",
+			blk);
+		return;
+	}
+
+	generic_goto_node(argv[0], EXT2_EXTENT_CURRENT);
+}
+#endif
+
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/extent_dbg.ct e2fsprogs/lib/ext2fs/extent_dbg.ct
--- e2fsprogs-1.40.7/lib/ext2fs/extent_dbg.ct	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/lib/ext2fs/extent_dbg.ct	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1,68 @@
+#
+# Copyright (C) 1993 Theodore Ts'o.  This file may be redistributed
+# under the terms of the GNU Public License.
+#
+command_table extent_cmds;
+
+request do_inode, "Open an inode",
+	inode;
+
+request do_current_node, "Current extent node",
+	current_node, current;
+
+request do_root_node, "Goto root extent",
+	root_node, root;
+
+request do_last_leaf, "Goto last leaf",
+	last_leaf;
+
+request do_first_sib, "Goto first sibling",
+	first_sibling, first_sib;
+
+request do_last_sib, "Goto last sibling",
+	last_sibling, last_sib;
+
+request do_next_sib, "Goto next sibling",
+	next_sibling, next_sib, ns;
+
+request do_prev_sib, "Goto previous sibling",
+	prev_sibling, prev_sib, ps;
+
+request do_next_leaf, "Goto next leaf",
+	next_leaf, nl;
+
+request do_prev_leaf, "Goto previous leaf",
+	prev_leaf, pl;
+
+request do_next, "Goto next node",
+	next, n;
+
+request do_prev, "Goto previous node",
+	previous, prev, p;
+
+request do_up, "Up node",
+	up_node, up, u;
+
+request do_down, "Down node",
+	down_node, down, d;
+
+request do_delete_node, "Delete node",
+	delete_node, delete;
+
+request do_insert_node, "Insert node",
+	insert_node, insert;
+
+request do_replace_node, "Insert node",
+	replace_node, replace;
+
+request do_print_all, "Iterate over all nodes and print them",
+	print_all, all;
+
+request do_goto_block, "Goto extent containing specified block",
+	goto_block, goto;
+
+request do_info, "Print extent info",
+	info;
+
+end;
+
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/freefs.c e2fsprogs/lib/ext2fs/freefs.c
--- e2fsprogs-1.40.7/lib/ext2fs/freefs.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/freefs.c	2008-02-29 11:23:57.000000000 +0000
@@ -58,41 +58,6 @@ void ext2fs_free(ext2_filsys fs)
 	ext2fs_free_mem(&fs);
 }
 
-void ext2fs_free_generic_bitmap(ext2fs_inode_bitmap bitmap)
-{
-	if (!bitmap || (bitmap->magic != EXT2_ET_MAGIC_GENERIC_BITMAP))
-		return;
-
-	bitmap->magic = 0;
-	if (bitmap->description) {
-		ext2fs_free_mem(&bitmap->description);
-		bitmap->description = 0;
-	}
-	if (bitmap->bitmap) {
-		ext2fs_free_mem(&bitmap->bitmap);
-		bitmap->bitmap = 0;
-	}
-	ext2fs_free_mem(&bitmap);
-}
-
-void ext2fs_free_inode_bitmap(ext2fs_inode_bitmap bitmap)
-{
-	if (!bitmap || (bitmap->magic != EXT2_ET_MAGIC_INODE_BITMAP))
-		return;
-
-	bitmap->magic = EXT2_ET_MAGIC_GENERIC_BITMAP;
-	ext2fs_free_generic_bitmap(bitmap);
-}
-
-void ext2fs_free_block_bitmap(ext2fs_block_bitmap bitmap)
-{
-	if (!bitmap || (bitmap->magic != EXT2_ET_MAGIC_BLOCK_BITMAP))
-		return;
-
-	bitmap->magic = EXT2_ET_MAGIC_GENERIC_BITMAP;
-	ext2fs_free_generic_bitmap(bitmap);
-}
-
 /*
  * Free the inode cache structure
  */
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/gen_bitmap.c e2fsprogs/lib/ext2fs/gen_bitmap.c
--- e2fsprogs-1.40.7/lib/ext2fs/gen_bitmap.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/gen_bitmap.c	2008-02-29 11:23:57.000000000 +0000
@@ -1,5 +1,5 @@
 /*
- * gen_bitmap.c --- Generic bitmap routines that used to be inlined.
+ * gen_bitmap.c --- Generic (32-bit) bitmap routines
  * 
  * Copyright (C) 2001 Theodore Ts'o.
  *
@@ -27,6 +27,144 @@
 #include "ext2_fs.h"
 #include "ext2fs.h"
 
+struct ext2fs_struct_generic_bitmap {
+	errcode_t	magic;
+	ext2_filsys 	fs;
+	__u32		start, end;
+	__u32		real_end;
+	char	*	description;
+	char	*	bitmap;
+	errcode_t	base_error_code;
+	__u32		reserved[7];
+};
+
+/* 
+ * Used by previously inlined function, so we have to export this and
+ * not change the function signature
+ */
+void ext2fs_warn_bitmap2(ext2fs_generic_bitmap bitmap,
+			    int code, unsigned long arg)
+{
+#ifndef OMIT_COM_ERR
+	if (bitmap->description)
+		com_err(0, bitmap->base_error_code+code,
+			"#%lu for %s", arg, bitmap->description);
+	else
+		com_err(0, bitmap->base_error_code + code, "#%lu", arg);
+#endif
+}
+
+static errcode_t check_magic(ext2fs_generic_bitmap bitmap)
+{
+	if (!bitmap || !((bitmap->magic == EXT2_ET_MAGIC_GENERIC_BITMAP) ||
+			 (bitmap->magic == EXT2_ET_MAGIC_INODE_BITMAP) ||
+			 (bitmap->magic == EXT2_ET_MAGIC_BLOCK_BITMAP)))
+		return EXT2_ET_MAGIC_GENERIC_BITMAP;
+	return 0;
+}
+
+errcode_t ext2fs_make_generic_bitmap(errcode_t magic, ext2_filsys fs, 
+				     __u32 start, __u32 end, __u32 real_end,
+				     const char *descr, char *init_map,
+				     ext2fs_generic_bitmap *ret)
+{
+	ext2fs_generic_bitmap	bitmap;
+	errcode_t		retval;
+	size_t			size;
+
+	retval = ext2fs_get_mem(sizeof(struct ext2fs_struct_generic_bitmap), 
+				&bitmap);
+	if (retval)
+		return retval;
+
+	bitmap->magic = magic;
+	bitmap->fs = fs;
+	bitmap->start = start;
+	bitmap->end = end;
+	bitmap->real_end = real_end;
+	switch (magic) {
+	case EXT2_ET_MAGIC_INODE_BITMAP:
+		bitmap->base_error_code = EXT2_ET_BAD_INODE_MARK;
+		break;
+	case EXT2_ET_MAGIC_BLOCK_BITMAP:
+		bitmap->base_error_code = EXT2_ET_BAD_BLOCK_MARK;
+		break;
+	default:
+		bitmap->base_error_code = EXT2_ET_BAD_GENERIC_MARK;
+	}
+	if (descr) {
+		retval = ext2fs_get_mem(strlen(descr)+1, &bitmap->description);
+		if (retval) {
+			ext2fs_free_mem(&bitmap);
+			return retval;
+		}
+		strcpy(bitmap->description, descr);
+	} else
+		bitmap->description = 0;
+
+	size = (size_t) (((bitmap->real_end - bitmap->start) / 8) + 1);
+	retval = ext2fs_get_mem(size, &bitmap->bitmap);
+	if (retval) {
+		ext2fs_free_mem(&bitmap->description);
+		ext2fs_free_mem(&bitmap);
+		return retval;
+	}
+
+	if (init_map)
+		memcpy(bitmap->bitmap, init_map, size);
+	else
+		memset(bitmap->bitmap, 0, size);
+	*ret = bitmap;
+	return 0;
+}
+
+errcode_t ext2fs_allocate_generic_bitmap(__u32 start,
+					 __u32 end,
+					 __u32 real_end,
+					 const char *descr,
+					 ext2fs_generic_bitmap *ret)
+{
+	return ext2fs_make_generic_bitmap(EXT2_ET_MAGIC_GENERIC_BITMAP, 0, 
+					  start, end, real_end, descr, 0, ret);
+}
+
+errcode_t ext2fs_copy_generic_bitmap(ext2fs_generic_bitmap src,
+				     ext2fs_generic_bitmap *dest)
+{
+	return (ext2fs_make_generic_bitmap(src->magic, src->fs,
+					   src->start, src->end, 
+					   src->real_end,
+					   src->description, src->bitmap,
+					   dest));
+}
+
+void ext2fs_free_generic_bitmap(ext2fs_inode_bitmap bitmap)
+{
+	if (check_magic(bitmap))
+		return;
+
+	bitmap->magic = 0;
+	if (bitmap->description) {
+		ext2fs_free_mem(&bitmap->description);
+		bitmap->description = 0;
+	}
+	if (bitmap->bitmap) {
+		ext2fs_free_mem(&bitmap->bitmap);
+		bitmap->bitmap = 0;
+	}
+	ext2fs_free_mem(&bitmap);
+}
+
+int ext2fs_test_generic_bitmap(ext2fs_generic_bitmap bitmap,
+					blk_t bitno)
+{
+	if ((bitno < bitmap->start) || (bitno > bitmap->end)) {
+		ext2fs_warn_bitmap2(bitmap, EXT2FS_TEST_ERROR, bitno);
+		return 0;
+	}
+	return ext2fs_test_bit(bitno - bitmap->start, bitmap->bitmap);
+}
+
 int ext2fs_mark_generic_bitmap(ext2fs_generic_bitmap bitmap,
 					 __u32 bitno)
 {
@@ -46,3 +184,191 @@ int ext2fs_unmark_generic_bitmap(ext2fs_
 	}
 	return ext2fs_clear_bit(bitno - bitmap->start, bitmap->bitmap);
 }
+
+__u32 ext2fs_get_generic_bitmap_start(ext2fs_generic_bitmap bitmap)
+{
+	return bitmap->start;
+}
+
+__u32 ext2fs_get_generic_bitmap_end(ext2fs_generic_bitmap bitmap)
+{
+	return bitmap->end;
+}
+
+void ext2fs_clear_generic_bitmap(ext2fs_generic_bitmap bitmap)
+{
+	if (check_magic(bitmap))
+		return;
+
+	memset(bitmap->bitmap, 0,
+	       (size_t) (((bitmap->real_end - bitmap->start) / 8) + 1));
+}
+
+errcode_t ext2fs_fudge_generic_bitmap_end(ext2fs_inode_bitmap bitmap,
+					  errcode_t magic, errcode_t neq,
+					  ext2_ino_t end, ext2_ino_t *oend)
+{
+	EXT2_CHECK_MAGIC(bitmap, magic);
+	
+	if (end > bitmap->real_end)
+		return neq;
+	if (oend)
+		*oend = bitmap->end;
+	bitmap->end = end;
+	return 0;
+}
+
+errcode_t ext2fs_resize_generic_bitmap(errcode_t magic,
+				       __u32 new_end, __u32 new_real_end,
+				       ext2fs_generic_bitmap bmap)
+{
+	errcode_t	retval;
+	size_t		size, new_size;
+	__u32		bitno;
+
+	if (!bmap || (bmap->magic != magic))
+		return magic;
+
+	/*
+	 * If we're expanding the bitmap, make sure all of the new
+	 * parts of the bitmap are zero.
+	 */
+	if (new_end > bmap->end) {
+		bitno = bmap->real_end;
+		if (bitno > new_end)
+			bitno = new_end;
+		for (; bitno > bmap->end; bitno--)
+			ext2fs_clear_bit(bitno - bmap->start, bmap->bitmap);
+	}
+	if (new_real_end == bmap->real_end) {
+		bmap->end = new_end;
+		return 0;
+	}
+	
+	size = ((bmap->real_end - bmap->start) / 8) + 1;
+	new_size = ((new_real_end - bmap->start) / 8) + 1;
+
+	if (size != new_size) {
+		retval = ext2fs_resize_mem(size, new_size, &bmap->bitmap);
+		if (retval)
+			return retval;
+	}
+	if (new_size > size)
+		memset(bmap->bitmap + size, 0, new_size - size);
+
+	bmap->end = new_end;
+	bmap->real_end = new_real_end;
+	return 0;
+}
+
+errcode_t ext2fs_compare_generic_bitmap(errcode_t magic, errcode_t neq,
+					ext2fs_generic_bitmap bm1,
+					ext2fs_generic_bitmap bm2)
+{
+	blk_t	i;
+	
+	if (!bm1 || bm1->magic != magic)
+		return magic;
+	if (!bm2 || bm2->magic != magic)
+		return magic;
+
+	if ((bm1->start != bm2->start) ||
+	    (bm1->end != bm2->end) ||
+	    (memcmp(bm1->bitmap, bm2->bitmap,
+		    (size_t) (bm1->end - bm1->start)/8)))
+		return neq;
+
+	for (i = bm1->end - ((bm1->end - bm1->start) % 8); i <= bm1->end; i++)
+		if (ext2fs_fast_test_block_bitmap(bm1, i) !=
+		    ext2fs_fast_test_block_bitmap(bm2, i))
+			return neq;
+
+	return 0;
+}
+
+void ext2fs_set_generic_bitmap_padding(ext2fs_generic_bitmap map)
+{
+	__u32	i, j;
+
+	/* Protect loop from wrap-around if map->real_end is maxed */
+	for (i=map->end+1, j = i - map->start; 
+	     i <= map->real_end && i > map->end; 
+	     i++, j++)
+		ext2fs_set_bit(j, map->bitmap);
+}
+
+errcode_t ext2fs_get_generic_bitmap_range(ext2fs_generic_bitmap bmap,
+					  errcode_t magic,
+					  __u32 start, __u32 num,
+					  void *out)
+{
+	if (!bmap || (bmap->magic != magic))
+		return magic;
+
+	if ((start < bmap->start) || (start+num-1 > bmap->real_end))
+		return EXT2_ET_INVALID_ARGUMENT;
+
+	memcpy(out, bmap->bitmap + (start >> 3), (num+7) >> 3);
+	return 0;
+}
+
+errcode_t ext2fs_set_generic_bitmap_range(ext2fs_generic_bitmap bmap,
+					  errcode_t magic,
+					  __u32 start, __u32 num,
+					  void *in)
+{
+	if (!bmap || (bmap->magic != magic))
+		return magic;
+
+	if ((start < bmap->start) || (start+num-1 > bmap->real_end))
+		return EXT2_ET_INVALID_ARGUMENT;
+
+	memcpy(bmap->bitmap + (start >> 3), in, (num+7) >> 3);
+	return 0;
+}
+
+int ext2fs_test_block_bitmap_range(ext2fs_block_bitmap bitmap,
+				   blk_t block, int num)
+{
+	int	i;
+
+	if ((block < bitmap->start) || (block+num-1 > bitmap->real_end)) {
+		ext2fs_warn_bitmap(EXT2_ET_BAD_BLOCK_TEST,
+				   block, bitmap->description);
+		return 0;
+	}
+	for (i=0; i < num; i++) {
+		if (ext2fs_fast_test_block_bitmap(bitmap, block+i))
+			return 0;
+	}
+	return 1;
+}
+
+void ext2fs_mark_block_bitmap_range(ext2fs_block_bitmap bitmap,
+				    blk_t block, int num)
+{
+	int	i;
+	
+	if ((block < bitmap->start) || (block+num-1 > bitmap->end)) {
+		ext2fs_warn_bitmap(EXT2_ET_BAD_BLOCK_MARK, block,
+				   bitmap->description);
+		return;
+	}
+	for (i=0; i < num; i++)
+		ext2fs_fast_set_bit(block + i - bitmap->start, bitmap->bitmap);
+}
+
+void ext2fs_unmark_block_bitmap_range(ext2fs_block_bitmap bitmap,
+					       blk_t block, int num)
+{
+	int	i;
+	
+	if ((block < bitmap->start) || (block+num-1 > bitmap->end)) {
+		ext2fs_warn_bitmap(EXT2_ET_BAD_BLOCK_UNMARK, block,
+				   bitmap->description);
+		return;
+	}
+	for (i=0; i < num; i++)
+		ext2fs_fast_clear_bit(block + i - bitmap->start, 
+				      bitmap->bitmap);
+}
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/imager.c e2fsprogs/lib/ext2fs/imager.c
--- e2fsprogs-1.40.7/lib/ext2fs/imager.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/imager.c	2008-02-29 11:23:57.000000000 +0000
@@ -277,11 +277,12 @@ errout:
  */
 errcode_t ext2fs_image_bitmap_write(ext2_filsys fs, int fd, int flags)
 {
-	char		*ptr;
-	int		c, size;
-	char		zero_buf[1024];
-	ssize_t		actual;
-	errcode_t	retval;
+	ext2fs_generic_bitmap	bmap;
+	errcode_t		err, retval;
+	ssize_t			actual;
+	__u32			itr, cnt, size;
+	int			c, total_size;
+	char			buf[1024];
 
 	if (flags & IMAGER_FLAG_INODEMAP) {
 		if (!fs->inode_map) {
@@ -289,7 +290,10 @@ errcode_t ext2fs_image_bitmap_write(ext2
 			if (retval)
 				return retval;
 		}
-		ptr = fs->inode_map->bitmap;
+		bmap = fs->inode_map;
+		err = EXT2_ET_MAGIC_INODE_BITMAP;
+		itr = 1;
+		cnt = EXT2_INODES_PER_GROUP(fs->super) * fs->group_desc_count;
 		size = (EXT2_INODES_PER_GROUP(fs->super) / 8);
 	} else {
 		if (!fs->block_map) {
@@ -297,43 +301,51 @@ errcode_t ext2fs_image_bitmap_write(ext2
 			if (retval)
 				return retval;
 		}
-		ptr = fs->block_map->bitmap;
+		bmap = fs->block_map;
+		err = EXT2_ET_MAGIC_BLOCK_BITMAP;
+		itr = fs->super->s_first_data_block;
+		cnt = EXT2_BLOCKS_PER_GROUP(fs->super) * fs->group_desc_count;
 		size = EXT2_BLOCKS_PER_GROUP(fs->super) / 8;
 	}
-	size = size * fs->group_desc_count;
+	total_size = size * fs->group_desc_count;
 
-	actual = write(fd, ptr, size);
-	if (actual == -1) {
-		retval = errno;
-		goto errout;
+	while (cnt > 0) {
+		size = sizeof(buf);
+		if (size > (cnt >> 3))
+			size = (cnt >> 3);
+
+		retval = ext2fs_get_generic_bitmap_range(bmap, 
+				 err, itr, size << 3, buf);
+		if (retval)
+			return retval;
+
+		actual = write(fd, buf, size);
+		if (actual == -1)
+			return errno;
+		if (actual != (int) size)
+			return EXT2_ET_SHORT_READ;
+		
+		itr += size << 3;
+		cnt -= size << 3;
 	}
-	if (actual != size) {
-		retval = EXT2_ET_SHORT_WRITE;
-		goto errout;
-	}
-	size = size % fs->blocksize;
-	memset(zero_buf, 0, sizeof(zero_buf));
+
+	size = total_size % fs->blocksize;
+	memset(buf, 0, sizeof(buf));
 	if (size) {
 		size = fs->blocksize - size;
 		while (size) {
 			c = size;
-			if (c > (int) sizeof(zero_buf))
-				c = sizeof(zero_buf);
-			actual = write(fd, zero_buf, c);
-			if (actual == -1) {
-				retval = errno;
-				goto errout;
-			}
-			if (actual != c) {
-				retval = EXT2_ET_SHORT_WRITE;
-				goto errout;
-			}
+			if (c > (int) sizeof(buf))
+				c = sizeof(buf);
+			actual = write(fd, buf, c);
+			if (actual == -1)
+				return errno;
+			if (actual != c)
+				return EXT2_ET_SHORT_WRITE;
 			size -= c;
 		}
 	}
-	retval = 0;
-errout:
-	return (retval);
+	return 0;
 }
 
 
@@ -342,10 +354,12 @@ errout:
  */
 errcode_t ext2fs_image_bitmap_read(ext2_filsys fs, int fd, int flags)
 {
-	char		*ptr, *buf = 0;
-	int		size;
-	ssize_t		actual;
-	errcode_t	retval;
+	ext2fs_generic_bitmap	bmap;
+	errcode_t		err, retval;
+	__u32			itr, cnt;
+	char			buf[1024];
+	unsigned int		size;
+	ssize_t			actual;
 
 	if (flags & IMAGER_FLAG_INODEMAP) {
 		if (!fs->inode_map) {
@@ -353,7 +367,10 @@ errcode_t ext2fs_image_bitmap_read(ext2_
 			if (retval)
 				return retval;
 		}
-		ptr = fs->inode_map->bitmap;
+		bmap = fs->inode_map;
+		err = EXT2_ET_MAGIC_INODE_BITMAP;
+		itr = 1;
+		cnt = EXT2_INODES_PER_GROUP(fs->super) * fs->group_desc_count;
 		size = (EXT2_INODES_PER_GROUP(fs->super) / 8);
 	} else {
 		if (!fs->block_map) {
@@ -361,29 +378,31 @@ errcode_t ext2fs_image_bitmap_read(ext2_
 			if (retval)
 				return retval;
 		}
-		ptr = fs->block_map->bitmap;
+		bmap = fs->block_map;
+		err = EXT2_ET_MAGIC_BLOCK_BITMAP;
+		itr = fs->super->s_first_data_block;
+		cnt = EXT2_BLOCKS_PER_GROUP(fs->super) * fs->group_desc_count;
 		size = EXT2_BLOCKS_PER_GROUP(fs->super) / 8;
 	}
-	size = size * fs->group_desc_count;
 
-	buf = malloc(size);
-	if (!buf)
-		return ENOMEM;
-
-	actual = read(fd, buf, size);
-	if (actual == -1) {
-		retval = errno;
-		goto errout;
-	}
-	if (actual != size) {
-		retval = EXT2_ET_SHORT_WRITE;
-		goto errout;
+	while (cnt > 0) {
+		size = sizeof(buf);
+		if (size > (cnt >> 3))
+			size = (cnt >> 3);
+
+		actual = read(fd, buf, size);
+		if (actual == -1)
+			return errno;
+		if (actual != (int) size)
+			return EXT2_ET_SHORT_READ;
+
+		retval = ext2fs_set_generic_bitmap_range(bmap, 
+				 err, itr, size << 3, buf);
+		if (retval)
+			return retval;
+
+		itr += size << 3;
+		cnt -= size << 3;
 	}
-	memcpy(ptr, buf, size);
-	
-	retval = 0;
-errout:
-	if (buf)
-		free(buf);
-	return (retval);
+	return 0;
 }
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/ind_block.c e2fsprogs/lib/ext2fs/ind_block.c
--- e2fsprogs-1.40.7/lib/ext2fs/ind_block.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/ind_block.c	2008-02-29 11:23:57.000000000 +0000
@@ -34,12 +34,10 @@ errcode_t ext2fs_read_ind_block(ext2_fil
 		if (retval)
 			return retval;
 	}
-#ifdef EXT2FS_ENABLE_SWAPFS
-	if (fs->flags & (EXT2_FLAG_SWAP_BYTES | EXT2_FLAG_SWAP_BYTES_READ)) {
-		block_nr = (blk_t *) buf;
-		for (i = 0; i < limit; i++, block_nr++)
-			*block_nr = ext2fs_swab32(*block_nr);
-	}
+#ifdef WORDS_BIGENDIAN
+	block_nr = (blk_t *) buf;
+	for (i = 0; i < limit; i++, block_nr++)
+		*block_nr = ext2fs_swab32(*block_nr);
 #endif
 	return 0;
 }
@@ -53,12 +51,10 @@ errcode_t ext2fs_write_ind_block(ext2_fi
 	if (fs->flags & EXT2_FLAG_IMAGE_FILE)
 		return 0;
 
-#ifdef EXT2FS_ENABLE_SWAPFS
-	if (fs->flags & (EXT2_FLAG_SWAP_BYTES | EXT2_FLAG_SWAP_BYTES_WRITE)) {
-		block_nr = (blk_t *) buf;
-		for (i = 0; i < limit; i++, block_nr++)
-			*block_nr = ext2fs_swab32(*block_nr);
-	}
+#ifdef WORDS_BIGENDIAN
+	block_nr = (blk_t *) buf;
+	for (i = 0; i < limit; i++, block_nr++)
+		*block_nr = ext2fs_swab32(*block_nr);
 #endif
 	return io_channel_write_blk(fs->io, blk, 1, buf);
 }
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/initialize.c e2fsprogs/lib/ext2fs/initialize.c
--- e2fsprogs-1.40.7/lib/ext2fs/initialize.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/initialize.c	2008-02-29 11:23:57.000000000 +0000
@@ -67,7 +67,7 @@ static unsigned int calc_reserved_gdt_bl
 {
 	struct ext2_super_block *sb = fs->super;
 	unsigned long bpg = sb->s_blocks_per_group;
-	unsigned int gdpb = fs->blocksize / sizeof(struct ext2_group_desc);
+	unsigned int gdpb = EXT2_DESC_PER_BLOCK(sb);
 	unsigned long max_blocks = 0xffffffff;
 	unsigned long rsv_groups;
 	unsigned int rsv_gdb;
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/inode.c e2fsprogs/lib/ext2fs/inode.c
--- e2fsprogs-1.40.7/lib/ext2fs/inode.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/inode.c	2008-02-29 11:23:57.000000000 +0000
@@ -453,32 +453,28 @@ errcode_t ext2fs_get_next_inode_full(ext
 		scan->ptr += scan->inode_size - extra_bytes;
 		scan->bytes_left -= scan->inode_size - extra_bytes;
 
-#ifdef EXT2FS_ENABLE_SWAPFS
+#ifdef WORDS_BIGENDIAN
 		memset(inode, 0, bufsize);
-		if ((scan->fs->flags & EXT2_FLAG_SWAP_BYTES) ||
-		    (scan->fs->flags & EXT2_FLAG_SWAP_BYTES_READ))
-			ext2fs_swap_inode_full(scan->fs, 
-				(struct ext2_inode_large *) inode,
-				(struct ext2_inode_large *) scan->temp_buffer, 
-				0, bufsize);
-		else
+		ext2fs_swap_inode_full(scan->fs, 
+			       (struct ext2_inode_large *) inode,
+			       (struct ext2_inode_large *) scan->temp_buffer, 
+			       0, bufsize);
+#else
+		*inode = *((struct ext2_inode *) scan->temp_buffer);
 #endif
-			*inode = *((struct ext2_inode *) scan->temp_buffer);
 		if (scan->scan_flags & EXT2_SF_BAD_EXTRA_BYTES)
 			retval = EXT2_ET_BAD_BLOCK_IN_INODE_TABLE;
 		scan->scan_flags &= ~EXT2_SF_BAD_EXTRA_BYTES;
 	} else {
-#ifdef EXT2FS_ENABLE_SWAPFS
+#ifdef WORDS_BIGENDIAN
 		memset(inode, 0, bufsize);
-		if ((scan->fs->flags & EXT2_FLAG_SWAP_BYTES) ||
-		    (scan->fs->flags & EXT2_FLAG_SWAP_BYTES_READ))
-			ext2fs_swap_inode_full(scan->fs, 
+		ext2fs_swap_inode_full(scan->fs, 
 				(struct ext2_inode_large *) inode,
 				(struct ext2_inode_large *) scan->ptr,
 				0, bufsize);
-		else
+#else
+		memcpy(inode, scan->ptr, bufsize);
 #endif
-			memcpy(inode, scan->ptr, bufsize);
 		scan->ptr += scan->inode_size;
 		scan->bytes_left -= scan->inode_size;
 		if (scan->scan_flags & EXT2_SF_BAD_INODE_BLK)
@@ -583,12 +579,10 @@ errcode_t ext2fs_read_inode_full(ext2_fi
 		block_nr++;
 	}
 
-#ifdef EXT2FS_ENABLE_SWAPFS
-	if ((fs->flags & EXT2_FLAG_SWAP_BYTES) ||
-	    (fs->flags & EXT2_FLAG_SWAP_BYTES_READ))
-		ext2fs_swap_inode_full(fs, (struct ext2_inode_large *) inode, 
-				       (struct ext2_inode_large *) inode, 
-				       0, bufsize);
+#ifdef WORDS_BIGENDIAN
+	ext2fs_swap_inode_full(fs, (struct ext2_inode_large *) inode, 
+			       (struct ext2_inode_large *) inode, 
+			       0, bufsize);
 #endif
 
 	/* Update the inode cache */
@@ -657,16 +651,14 @@ errcode_t ext2fs_write_inode_full(ext2_f
 		w_inode = &temp_inode;
 	memset(w_inode, 0, length);
 
-#ifdef EXT2FS_ENABLE_SWAPFS
-	if ((fs->flags & EXT2_FLAG_SWAP_BYTES) ||
-	    (fs->flags & EXT2_FLAG_SWAP_BYTES_WRITE))
-		ext2fs_swap_inode_full(fs, w_inode, 
-				       (struct ext2_inode_large *) inode, 
-				       1, bufsize);
-	else
+#ifdef WORDS_BIGENDIAN
+	ext2fs_swap_inode_full(fs, w_inode, 
+			       (struct ext2_inode_large *) inode, 
+			       1, bufsize);
+#else
+	memcpy(w_inode, inode, bufsize);
 #endif
-		memcpy(w_inode, inode, bufsize);
-	
+
 	group = (ino - 1) / EXT2_INODES_PER_GROUP(fs->super);
 	offset = ((ino - 1) % EXT2_INODES_PER_GROUP(fs->super)) *
 		EXT2_INODE_SIZE(fs->super);
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/ismounted.c e2fsprogs/lib/ext2fs/ismounted.c
--- e2fsprogs-1.40.7/lib/ext2fs/ismounted.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/ismounted.c	2008-02-29 11:23:57.000000000 +0000
@@ -251,10 +251,8 @@ static int is_swap_device(const char *fi
 	if (!(f = fopen("/proc/swaps", "r")))
 		return 0;
 	/* Skip the first line */
-	fgets(buf, sizeof(buf), f);
-	while (!feof(f)) {
-		if (!fgets(buf, sizeof(buf), f))
-			break;
+	if (fgets(buf, sizeof(buf), f))
+	while (fgets(buf, sizeof(buf), f)) {
 		if ((cp = strchr(buf, ' ')) != NULL)
 			*cp = 0;
 		if ((cp = strchr(buf, '\t')) != NULL)
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/Makefile.in e2fsprogs/lib/ext2fs/Makefile.in
--- e2fsprogs-1.40.7/lib/ext2fs/Makefile.in	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/Makefile.in	2008-02-29 11:23:57.000000000 +0000
@@ -7,10 +7,12 @@ INSTALL = @INSTALL@
 
 @MCONFIG@
 
-@DEBUGFS_CMT@DEBUGFS_LIB_OBJS = bb_compat.o cmp_bitmaps.o fileio.o \
+@DEBUGFS_CMT@DEBUGFS_LIB_OBJS = bb_compat.o fileio.o \
 @DEBUGFS_CMT@	inode_io.o namei.o write_bb_file.o 
 
-@RESIZER_CMT@RESIZE_LIB_OBJS = rs_bitmap.o dupfs.o test_io.o 
+MK_CMDS=	_SS_DIR_OVERRIDE=../ss ../ss/mk_cmds
+
+@RESIZER_CMT@RESIZE_LIB_OBJS = dupfs.o test_io.o 
 
 @IMAGER_CMT@E2IMAGE_LIB_OBJS = imager.o
 
@@ -35,6 +37,7 @@ OBJS= $(DEBUGFS_LIB_OBJS) $(RESIZE_LIB_O
 	dir_iterate.o \
 	expanddir.o \
 	ext_attr.o \
+	extent.o \
 	finddev.o \
 	flushb.o \
 	freefs.o \
@@ -82,7 +85,6 @@ SRCS= ext2_err.c \
 	$(srcdir)/bmap.c \
 	$(srcdir)/check_desc.c \
 	$(srcdir)/closefs.c \
-	$(srcdir)/cmp_bitmaps.c \
 	$(srcdir)/dblist.c \
 	$(srcdir)/dblist_dir.c \
 	$(srcdir)/dirblock.c \
@@ -91,6 +93,7 @@ SRCS= ext2_err.c \
 	$(srcdir)/dupfs.c \
 	$(srcdir)/expanddir.c \
 	$(srcdir)/ext_attr.c \
+	$(srcdir)/extent.c \
 	$(srcdir)/fileio.c \
 	$(srcdir)/finddev.c \
 	$(srcdir)/flushb.c \
@@ -120,21 +123,20 @@ SRCS= ext2_err.c \
 	$(srcdir)/read_bb.c \
 	$(srcdir)/read_bb_file.c \
 	$(srcdir)/res_gdt.c \
-	$(srcdir)/rs_bitmap.c \
 	$(srcdir)/rw_bitmaps.c \
 	$(srcdir)/swapfs.c \
 	$(srcdir)/tdb.c \
 	$(srcdir)/test_io.c \
-	$(srcdir)/unix_io.c \
-	$(srcdir)/unlink.c \
-	$(srcdir)/valid_blk.c \
-	$(srcdir)/version.c \
-	$(srcdir)/write_bb_file.c \
 	$(srcdir)/tst_badblocks.c \
 	$(srcdir)/tst_bitops.c \
 	$(srcdir)/tst_byteswap.c \
 	$(srcdir)/tst_getsize.c \
-	$(srcdir)/tst_iscan.c
+	$(srcdir)/tst_iscan.c \
+	$(srcdir)/unix_io.c \
+	$(srcdir)/unlink.c \
+	$(srcdir)/valid_blk.c \
+	$(srcdir)/version.c \
+	$(srcdir)/write_bb_file.c
 
 HFILES= bitops.h ext2fs.h ext2_io.h ext2_fs.h ext2_ext_attr.h ext3_extents.h \
 	tdb.h
@@ -187,12 +189,12 @@ ext2fs.pc: $(srcdir)/ext2fs.pc.in $(top_
 	@echo "	CONFIG.STATUS $@"
 	@cd $(top_builddir); CONFIG_FILES=lib/ext2fs/ext2fs.pc ./config.status
 
-tst_badblocks: tst_badblocks.o freefs.o \
+tst_badblocks: tst_badblocks.o freefs.o bitmaps.o rw_bitmaps.o \
 		read_bb_file.o write_bb_file.o badblocks.o 
 	@echo "	LD $@"
 	@$(CC) -o tst_badblocks tst_badblocks.o freefs.o \
-		read_bb_file.o write_bb_file.o badblocks.o \
-		inline.o bitops.o gen_bitmap.o $(LIBCOM_ERR)
+		read_bb_file.o write_bb_file.o badblocks.o rw_bitmaps.o \
+		inline.o bitops.o gen_bitmap.o bitmaps.o $(LIBCOM_ERR)
 
 tst_icount: icount.c initialize.o  $(STATIC_LIBEXT2FS)
 	@echo "	LD $@"
@@ -241,16 +243,76 @@ ext2_tdbtool: tdbtool.o
 	@echo "	LD $@"
 	@$(CC) -o ext2_tdbtool tdbtool.o tdb.o
 
+extent_dbg.c: $(srcdir)/extent_dbg.ct
+	@echo "	MK_CMDS $<"
+	@$(MK_CMDS) $(srcdir)/extent_dbg.ct
+
+debug_cmds.c debug_cmds.h: $(top_srcdir)/debugfs/debug_cmds.ct
+	@echo "	MK_CMDS $<@"
+	@$(MK_CMDS) $(top_srcdir)/debugfs/debug_cmds.ct
+
+DEBUG_OBJS= debug_cmds.o debugfs.o util.o ncheck.o icheck.o ls.o \
+	lsdel.o dump.o set_fields.o logdump.o htree.o unused.o
+
+debugfs.o: $(top_srcdir)/debugfs/debugfs.c
+	@echo "	CC $<"
+	@$(CC) $(ALL_CFLAGS) -c $< -o $@
+
+util.o: $(top_srcdir)/debugfs/util.c
+	@echo "	CC $<"
+	@$(CC) $(ALL_CFLAGS) -c $< -o $@
+
+ncheck.o: $(top_srcdir)/debugfs/ncheck.c
+	@echo "	CC $<"
+	@$(CC) $(ALL_CFLAGS) -c $< -o $@
+
+icheck.o: $(top_srcdir)/debugfs/icheck.c
+	@echo "	CC $<"
+	@$(CC) $(ALL_CFLAGS) -c $< -o $@
+
+ls.o: $(top_srcdir)/debugfs/ls.c
+	@echo "	CC $<"
+	@$(CC) $(ALL_CFLAGS) -c $< -o $@
+
+lsdel.o: $(top_srcdir)/debugfs/lsdel.c
+	@echo "	CC $<"
+	@$(CC) $(ALL_CFLAGS) -c $< -o $@
+
+dump.o: $(top_srcdir)/debugfs/dump.c
+	@echo "	CC $<"
+	@$(CC) $(ALL_CFLAGS) -c $< -o $@
+
+set_fields.o: $(top_srcdir)/debugfs/set_fields.c
+	@echo "	CC $<"
+	@$(CC) $(ALL_CFLAGS) -c $< -o $@
+
+logdump.o: $(top_srcdir)/debugfs/logdump.c
+	@echo "	CC $<"
+	@$(CC) $(ALL_CFLAGS) -c $< -o $@
+
+htree.o: $(top_srcdir)/debugfs/htree.c
+	@echo "	CC $<"
+	@$(CC) $(ALL_CFLAGS) -c $< -o $@
+
+unused.o: $(top_srcdir)/debugfs/unused.c
+	@echo "	CC $<"
+	@$(CC) $(ALL_CFLAGS) -c $< -o $@
+
+tst_extents: $(srcdir)/extent.c extent_dbg.c $(DEBUG_OBJS) $(LIBSS) $(LIBE2P) $(DEPLIBUUID) $(DEPLIBBLKID)
+	@echo "	LD $@"
+	@$(CC) -o tst_extents $(srcdir)/extent.c extent_dbg.c \
+		$(ALL_CFLAGS) -DDEBUG $(DEBUG_OBJS) $(LIBSS) $(LIBE2P) \
+		$(LIBUUID) $(STATIC_LIBEXT2FS) $(LIBBLKID) $(LIBCOM_ERR) \
+		-I $(top_srcdir)/debugfs
+
 mkjournal: mkjournal.c $(STATIC_LIBEXT2FS)
 	@echo "	LD $@"
 	@$(CC) -o mkjournal $(srcdir)/mkjournal.c -DDEBUG $(STATIC_LIBEXT2FS) $(LIBCOM_ERR) $(ALL_CFLAGS)
 
-check:: tst_bitops tst_badblocks tst_iscan @SWAPFS_CMT@ tst_byteswap \
-	tst_types tst_icount tst_super_size
+check:: tst_bitops tst_badblocks tst_iscan tst_types tst_icount tst_super_size
 	LD_LIBRARY_PATH=$(LIB) DYLD_LIBRARY_PATH=$(LIB) ./tst_bitops
 	LD_LIBRARY_PATH=$(LIB) DYLD_LIBRARY_PATH=$(LIB) ./tst_badblocks
 	LD_LIBRARY_PATH=$(LIB) DYLD_LIBRARY_PATH=$(LIB) ./tst_iscan
-@SWAPFS_CMT@	LD_LIBRARY_PATH=$(LIB) DYLD_LIBRARY_PATH=$(LIB) ./tst_byteswap
 	LD_LIBRARY_PATH=$(LIB) DYLD_LIBRARY_PATH=$(LIB) ./tst_types
 	LD_LIBRARY_PATH=$(LIB) DYLD_LIBRARY_PATH=$(LIB) ./tst_icount
 	LD_LIBRARY_PATH=$(LIB) DYLD_LIBRARY_PATH=$(LIB) ./tst_super_size
@@ -286,7 +348,7 @@ clean::
 		tst_badblocks tst_iscan ext2_err.et ext2_err.c ext2_err.h \
 		tst_byteswap tst_ismounted tst_getsize tst_sectgetsize \
 		tst_bitops tst_types tst_icount tst_super_size \
-		ext2_tdbtool mkjournal \
+		ext2_tdbtool mkjournal debug_cmds.c \
 		../libext2fs.a ../libext2fs_p.a ../libext2fs_chk.a
 
 mostlyclean:: clean
@@ -361,10 +423,6 @@ closefs.o: $(srcdir)/closefs.c $(srcdir)
  $(srcdir)/ext2fs.h $(srcdir)/ext2_fs.h $(srcdir)/ext3_extents.h \
  $(top_srcdir)/lib/et/com_err.h $(srcdir)/ext2_io.h \
  $(top_builddir)/lib/ext2fs/ext2_err.h $(srcdir)/bitops.h
-cmp_bitmaps.o: $(srcdir)/cmp_bitmaps.c $(srcdir)/ext2_fs.h \
- $(top_builddir)/lib/ext2fs/ext2_types.h $(srcdir)/ext2fs.h \
- $(srcdir)/ext2_fs.h $(srcdir)/ext3_extents.h $(top_srcdir)/lib/et/com_err.h \
- $(srcdir)/ext2_io.h $(top_builddir)/lib/ext2fs/ext2_err.h $(srcdir)/bitops.h
 dblist.o: $(srcdir)/dblist.c $(srcdir)/ext2_fs.h \
  $(top_builddir)/lib/ext2fs/ext2_types.h $(srcdir)/ext2fsP.h \
  $(srcdir)/ext2fs.h $(srcdir)/ext2_fs.h $(srcdir)/ext3_extents.h \
@@ -523,10 +581,6 @@ res_gdt.o: $(srcdir)/res_gdt.c $(srcdir)
  $(top_builddir)/lib/ext2fs/ext2_types.h $(srcdir)/ext2fs.h \
  $(srcdir)/ext2_fs.h $(srcdir)/ext3_extents.h $(top_srcdir)/lib/et/com_err.h \
  $(srcdir)/ext2_io.h $(top_builddir)/lib/ext2fs/ext2_err.h $(srcdir)/bitops.h
-rs_bitmap.o: $(srcdir)/rs_bitmap.c $(srcdir)/ext2_fs.h \
- $(top_builddir)/lib/ext2fs/ext2_types.h $(srcdir)/ext2fs.h \
- $(srcdir)/ext2_fs.h $(srcdir)/ext3_extents.h $(top_srcdir)/lib/et/com_err.h \
- $(srcdir)/ext2_io.h $(top_builddir)/lib/ext2fs/ext2_err.h $(srcdir)/bitops.h
 rw_bitmaps.o: $(srcdir)/rw_bitmaps.c $(srcdir)/ext2_fs.h \
  $(top_builddir)/lib/ext2fs/ext2_types.h $(srcdir)/ext2fs.h \
  $(srcdir)/ext2_fs.h $(srcdir)/ext3_extents.h $(top_srcdir)/lib/et/com_err.h \
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/Makefile.pq e2fsprogs/lib/ext2fs/Makefile.pq
--- e2fsprogs-1.40.7/lib/ext2fs/Makefile.pq	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/lib/ext2fs/Makefile.pq	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1,49 @@
+TOPSRC=..\..
+LIBNAME=EXT2.LIB
+OBJFILE=EXT2.LST
+
+OBJS= 	alloc.obj \
+	alloc_tables.obj \
+	badblocks.obj \
+	bb_compat.obj \
+	bb_inode.obj \
+	bitmaps.obj \
+	bitops.obj \
+	block.obj \
+	bmap.obj \
+	bmove.obj \
+	check_desc.obj \
+	closefs.obj \
+	cmp_bitmaps.obj \
+	dblist.obj \
+	dblist_dir.obj \
+	dirblock.obj \
+	dir_iterate.obj \
+	dupfs.obj \
+	expanddir.obj \
+	fileio.obj \
+	freefs.obj \
+	get_pathname.obj \
+	icount.obj \
+	initialize.obj \
+	inline.obj \
+	inode.obj \
+	ismounted.obj \
+	link.obj \
+	lookup.obj \
+	mkdir.obj \
+	namei.obj \
+	native.obj \
+	newdir.obj \
+	openfs.obj \
+	read_bb.obj \
+	read_bb_file.obj \
+	rs_bitmap.obj \
+	rw_bitmaps.obj \
+	swapfs.obj \
+	unlink.obj \
+	valid_blk.obj \
+	version.obj
+
+!include $(TOPSRC)\powerquest\MCONFIG
+
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/openfs.c e2fsprogs/lib/ext2fs/openfs.c
--- e2fsprogs-1.40.7/lib/ext2fs/openfs.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/openfs.c	2008-02-29 11:23:57.000000000 +0000
@@ -39,11 +39,10 @@ blk_t ext2fs_descriptor_block_loc(ext2_f
 	    (i < fs->super->s_first_meta_bg))
 		return (group_block + i + 1);
 
-	bg = (fs->blocksize / sizeof (struct ext2_group_desc)) * i;
+	bg = EXT2_DESC_PER_BLOCK(fs->super) * i;
 	if (ext2fs_bg_has_super(fs, bg))
 		has_super = 1;
-	ret_blk = (fs->super->s_first_data_block + has_super + 
-		   (bg * fs->super->s_blocks_per_group));
+	ret_blk = ext2fs_group_first_block(fs, bg) + has_super;
 	/*
 	 * If group_block is not the normal value, we're trying to use
 	 * the backup group descriptors and superblock --- so use the
@@ -178,12 +177,13 @@ errcode_t ext2fs_open2(const char *name,
 	if (fs->orig_super)
 		memcpy(fs->orig_super, fs->super, SUPERBLOCK_SIZE);
 
-#ifdef EXT2FS_ENABLE_SWAPFS
-	if ((fs->super->s_magic == ext2fs_swab16(EXT2_SUPER_MAGIC)) ||
-	    (fs->flags & EXT2_FLAG_SWAP_BYTES)) {
-		fs->flags |= EXT2_FLAG_SWAP_BYTES;
-
-		ext2fs_swap_super(fs->super);
+#ifdef WORDS_BIGENDIAN
+	fs->flags |= EXT2_FLAG_SWAP_BYTES;
+	ext2fs_swap_super(fs->super);
+#else
+	if (fs->flags & EXT2_FLAG_SWAP_BYTES) {
+		retval = EXT2_ET_UNIMPLEMENTED;
+		goto cleanup;
 	}
 #endif
 	
@@ -287,32 +287,26 @@ errcode_t ext2fs_open2(const char *name,
 	if (!group_block)
 		group_block = fs->super->s_first_data_block;
 	dest = (char *) fs->group_desc;
-	groups_per_block = fs->blocksize / sizeof(struct ext2_group_desc);
+	groups_per_block = EXT2_DESC_PER_BLOCK(fs->super);
 	for (i=0 ; i < fs->desc_blocks; i++) {
 		blk = ext2fs_descriptor_block_loc(fs, group_block, i);
 		retval = io_channel_read_blk(fs->io, blk, 1, dest);
 		if (retval)
 			goto cleanup;
-#ifdef EXT2FS_ENABLE_SWAPFS
-		if (fs->flags & EXT2_FLAG_SWAP_BYTES) {
-			gdp = (struct ext2_group_desc *) dest;
-			for (j=0; j < groups_per_block; j++)
-				ext2fs_swap_group_desc(gdp++);
-		}
+#ifdef WORDS_BIGENDIAN
+		gdp = (struct ext2_group_desc *) dest;
+		for (j=0; j < groups_per_block; j++)
+			ext2fs_swap_group_desc(gdp++);
 #endif
 		dest += fs->blocksize;
 	}
 
 	fs->stride = fs->super->s_raid_stride;
 
-	fs->flags &= ~EXT2_FLAG_NOFREE_ON_ERROR;
 	*ret_fs = fs;
 	return 0;
 cleanup:
-	if (flags & EXT2_FLAG_NOFREE_ON_ERROR)
-		*ret_fs = fs;
-	else
-		ext2fs_free(fs);
+	ext2fs_free(fs);
 	return retval;
 }
 
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/read_bb.c e2fsprogs/lib/ext2fs/read_bb.c
--- e2fsprogs-1.40.7/lib/ext2fs/read_bb.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/read_bb.c	2008-02-29 11:23:57.000000000 +0000
@@ -86,8 +86,8 @@ errcode_t ext2fs_read_bb_inode(ext2_fils
 
 	rb.bb_list = *bb_list;
 	rb.err = 0;
-	retval = ext2fs_block_iterate2(fs, EXT2_BAD_INO, 0, 0,
-				      mark_bad_block, &rb);
+	retval = ext2fs_block_iterate2(fs, EXT2_BAD_INO, BLOCK_FLAG_READ_ONLY,
+				       0, mark_bad_block, &rb);
 	if (retval)
 		return retval;
 
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/rs_bitmap.c e2fsprogs/lib/ext2fs/rs_bitmap.c
--- e2fsprogs-1.40.7/lib/ext2fs/rs_bitmap.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/rs_bitmap.c	1970-01-01 00:00:00.000000000 +0000
@@ -1,106 +0,0 @@
-/*
- * rs_bitmap.c --- routine for changing the size of a bitmap
- *
- * Copyright (C) 1996, 1997 Theodore Ts'o.
- *
- * %Begin-Header%
- * This file may be redistributed under the terms of the GNU Public
- * License.
- * %End-Header%
- */
-
-#include <stdio.h>
-#include <string.h>
-#if HAVE_UNISTD_H
-#include <unistd.h>
-#endif
-#include <fcntl.h>
-#include <time.h>
-#ifdef HAVE_SYS_STAT_H
-#include <sys/stat.h>
-#endif
-#ifdef HAVE_SYS_TYPES_H
-#include <sys/types.h>
-#endif
-
-#include "ext2_fs.h"
-#include "ext2fs.h"
-
-errcode_t ext2fs_resize_generic_bitmap(__u32 new_end, __u32 new_real_end,
-				       ext2fs_generic_bitmap bmap)
-{
-	errcode_t	retval;
-	size_t		size, new_size;
-	__u32		bitno;
-
-	if (!bmap)
-		return EXT2_ET_INVALID_ARGUMENT;
-
-	EXT2_CHECK_MAGIC(bmap, EXT2_ET_MAGIC_GENERIC_BITMAP);
-
-	/*
-	 * If we're expanding the bitmap, make sure all of the new
-	 * parts of the bitmap are zero.
-	 */
-	if (new_end > bmap->end) {
-		bitno = bmap->real_end;
-		if (bitno > new_end)
-			bitno = new_end;
-		for (; bitno > bmap->end; bitno--)
-			ext2fs_clear_bit(bitno - bmap->start, bmap->bitmap);
-	}
-	if (new_real_end == bmap->real_end) {
-		bmap->end = new_end;
-		return 0;
-	}
-	
-	size = ((bmap->real_end - bmap->start) / 8) + 1;
-	new_size = ((new_real_end - bmap->start) / 8) + 1;
-
-	if (size != new_size) {
-		retval = ext2fs_resize_mem(size, new_size, &bmap->bitmap);
-		if (retval)
-			return retval;
-	}
-	if (new_size > size)
-		memset(bmap->bitmap + size, 0, new_size - size);
-
-	bmap->end = new_end;
-	bmap->real_end = new_real_end;
-	return 0;
-}
-
-errcode_t ext2fs_resize_inode_bitmap(__u32 new_end, __u32 new_real_end,
-				     ext2fs_inode_bitmap bmap)
-{
-	errcode_t	retval;
-	
-	if (!bmap)
-		return EXT2_ET_INVALID_ARGUMENT;
-
-	EXT2_CHECK_MAGIC(bmap, EXT2_ET_MAGIC_INODE_BITMAP);
-
-	bmap->magic = EXT2_ET_MAGIC_GENERIC_BITMAP;
-	retval = ext2fs_resize_generic_bitmap(new_end, new_real_end,
-					      bmap);
-	bmap->magic = EXT2_ET_MAGIC_INODE_BITMAP;
-	return retval;
-}
-
-errcode_t ext2fs_resize_block_bitmap(__u32 new_end, __u32 new_real_end,
-				     ext2fs_block_bitmap bmap)
-{
-	errcode_t	retval;
-	
-	if (!bmap)
-		return EXT2_ET_INVALID_ARGUMENT;
-
-	EXT2_CHECK_MAGIC(bmap, EXT2_ET_MAGIC_BLOCK_BITMAP);
-
-	bmap->magic = EXT2_ET_MAGIC_GENERIC_BITMAP;
-	retval = ext2fs_resize_generic_bitmap(new_end, new_real_end,
-					      bmap);
-	bmap->magic = EXT2_ET_MAGIC_BLOCK_BITMAP;
-	return retval;
-}
-
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/rw_bitmaps.c e2fsprogs/lib/ext2fs/rw_bitmaps.c
--- e2fsprogs-1.40.7/lib/ext2fs/rw_bitmaps.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/rw_bitmaps.c	2008-02-29 11:23:57.000000000 +0000
@@ -27,30 +27,6 @@
 #include "ext2fs.h"
 #include "e2image.h"
 
-#if defined(__powerpc__) && defined(EXT2FS_ENABLE_SWAPFS)
-/*
- * On the PowerPC, the big-endian variant of the ext2 filesystem
- * has its bitmaps stored as 32-bit words with bit 0 as the LSB
- * of each word.  Thus a bitmap with only bit 0 set would be, as
- * a string of bytes, 00 00 00 01 00 ...
- * To cope with this, we byte-reverse each word of a bitmap if
- * we have a big-endian filesystem, that is, if we are *not*
- * byte-swapping other word-sized numbers.
- */
-#define EXT2_BIG_ENDIAN_BITMAPS
-#endif
-
-#ifdef EXT2_BIG_ENDIAN_BITMAPS
-static void ext2fs_swap_bitmap(ext2_filsys fs, char *bitmap, int nbytes)
-{
-	__u32 *p = (__u32 *) bitmap;
-	int n;
-		
-	for (n = nbytes / sizeof(__u32); n > 0; --n, ++p)
-		*p = ext2fs_swab32(*p);
-}
-#endif
-
 static errcode_t write_bitmaps(ext2_filsys fs, int do_inode, int do_block)
 {
 	dgrp_t 		i;
@@ -58,10 +34,11 @@ static errcode_t write_bitmaps(ext2_fils
 	int		block_nbytes, inode_nbytes;
 	unsigned int	nbits;
 	errcode_t	retval;
-	char 		*block_bitmap, *inode_bitmap;
 	char 		*block_buf, *inode_buf;
 	int		lazy_flag = 0;
 	blk_t		blk;
+	blk_t		blk_itr = fs->super->s_first_data_block;
+	ext2_ino_t	ino_itr = 1;
 
 	EXT2_CHECK_MAGIC(fs, EXT2_ET_MAGIC_EXT2FS_FILSYS);
 
@@ -71,9 +48,7 @@ static errcode_t write_bitmaps(ext2_fils
 				    EXT2_FEATURE_COMPAT_LAZY_BG))
 		lazy_flag = 1;
 	inode_nbytes = block_nbytes = 0;
-	block_bitmap = inode_bitmap = 0;
 	if (do_block) {
-		block_bitmap = fs->block_map->bitmap;
 		block_nbytes = EXT2_BLOCKS_PER_GROUP(fs->super) / 8;
 		retval = ext2fs_get_mem(fs->blocksize, &block_buf);
 		if (retval)
@@ -81,7 +56,6 @@ static errcode_t write_bitmaps(ext2_fils
 		memset(block_buf, 0xff, fs->blocksize);
 	}
 	if (do_inode) {
-		inode_bitmap = fs->inode_map->bitmap;
 		inode_nbytes = (size_t) 
 			((EXT2_INODES_PER_GROUP(fs->super)+7) / 8);
 		retval = ext2fs_get_mem(fs->blocksize, &inode_buf);
@@ -91,14 +65,18 @@ static errcode_t write_bitmaps(ext2_fils
 	}
 
 	for (i = 0; i < fs->group_desc_count; i++) {
-		if (!block_bitmap || !do_block)
+		if (!do_block)
 			goto skip_block_bitmap;
 
 		if (lazy_flag && fs->group_desc[i].bg_flags &
 		    EXT2_BG_BLOCK_UNINIT) 
 			goto skip_this_block_bitmap;
  
-		memcpy(block_buf, block_bitmap, block_nbytes);
+		retval = ext2fs_get_block_bitmap_range(fs->block_map, 
+				blk_itr, block_nbytes << 3, block_buf);
+		if (retval)
+			return retval;
+
 		if (i == fs->group_desc_count - 1) {
 			/* Force bitmap padding for the last group */
 			nbits = ((fs->super->s_blocks_count
@@ -110,44 +88,36 @@ static errcode_t write_bitmaps(ext2_fils
 		}
 		blk = fs->group_desc[i].bg_block_bitmap;
 		if (blk) {
-#ifdef EXT2_BIG_ENDIAN_BITMAPS
-			if (!((fs->flags & EXT2_FLAG_SWAP_BYTES) ||
-			      (fs->flags & EXT2_FLAG_SWAP_BYTES_WRITE)))
-				ext2fs_swap_bitmap(fs, block_buf, 
-						   block_nbytes);
-#endif
 			retval = io_channel_write_blk(fs->io, blk, 1,
 						      block_buf);
 			if (retval)
 				return EXT2_ET_BLOCK_BITMAP_WRITE;
 		}
 	skip_this_block_bitmap:
-		block_bitmap += block_nbytes;
+		blk_itr += block_nbytes << 3;
 	skip_block_bitmap:
 
-		if (!inode_bitmap || !do_inode)
+		if (!do_inode)
 			continue;
 
 		if (lazy_flag && fs->group_desc[i].bg_flags &
 		    EXT2_BG_INODE_UNINIT) 
 			goto skip_this_inode_bitmap;
  
-		memcpy(inode_buf, inode_bitmap, inode_nbytes);
+		retval = ext2fs_get_inode_bitmap_range(fs->inode_map, 
+				ino_itr, inode_nbytes << 3, inode_buf);
+		if (retval)
+			return retval;
+
 		blk = fs->group_desc[i].bg_inode_bitmap;
 		if (blk) {
-#ifdef EXT2_BIG_ENDIAN_BITMAPS
-			if (!((fs->flags & EXT2_FLAG_SWAP_BYTES) ||
-			      (fs->flags & EXT2_FLAG_SWAP_BYTES_WRITE)))
-				ext2fs_swap_bitmap(fs, inode_buf, 
-						   inode_nbytes);
-#endif
 			retval = io_channel_write_blk(fs->io, blk, 1,
 						      inode_buf);
 			if (retval)
 				return EXT2_ET_INODE_BITMAP_WRITE;
 		}
 	skip_this_inode_bitmap:
-		inode_bitmap += inode_nbytes;
+		ino_itr += inode_nbytes << 3;
 
 	}
 	if (do_block) {
@@ -167,10 +137,16 @@ static errcode_t read_bitmaps(ext2_filsy
 	char *block_bitmap = 0, *inode_bitmap = 0;
 	char *buf;
 	errcode_t retval;
-	int block_nbytes = (int) EXT2_BLOCKS_PER_GROUP(fs->super) / 8;
-	int inode_nbytes = (int) EXT2_INODES_PER_GROUP(fs->super) / 8;
+	unsigned int block_nbytes = EXT2_BLOCKS_PER_GROUP(fs->super) / 8;
+	unsigned inode_nbytes = EXT2_INODES_PER_GROUP(fs->super) / 8;
 	int lazy_flag = 0;
+	int do_image = fs->flags & EXT2_FLAG_IMAGE_FILE;
+	unsigned int	cnt;
 	blk_t	blk;
+	blk_t	blk_itr = fs->super->s_first_data_block;
+	blk_t   blk_cnt;
+	ext2_ino_t ino_itr = 1;
+	ext2_ino_t ino_cnt;
 
 	EXT2_CHECK_MAGIC(fs, EXT2_ET_MAGIC_EXT2FS_FILSYS);
 
@@ -190,8 +166,12 @@ static errcode_t read_bitmaps(ext2_filsy
 		retval = ext2fs_allocate_block_bitmap(fs, buf, &fs->block_map);
 		if (retval)
 			goto cleanup;
-		block_bitmap = fs->block_map->bitmap;
-	}
+		retval = ext2fs_get_mem(do_image ? fs->blocksize : 
+					block_nbytes, &block_bitmap);
+		if (retval)
+			goto cleanup;
+	} else
+		block_nbytes = 0;
 	if (do_inode) {
 		if (fs->inode_map)
 			ext2fs_free_inode_bitmap(fs->inode_map);
@@ -199,30 +179,54 @@ static errcode_t read_bitmaps(ext2_filsy
 		retval = ext2fs_allocate_inode_bitmap(fs, buf, &fs->inode_map);
 		if (retval)
 			goto cleanup;
-		inode_bitmap = fs->inode_map->bitmap;
-	}
+		retval = ext2fs_get_mem(do_image ? fs->blocksize : 
+					inode_nbytes, &inode_bitmap);
+		if (retval)
+			goto cleanup;
+	} else
+		inode_nbytes = 0;
 	ext2fs_free_mem(&buf);
 
 	if (fs->flags & EXT2_FLAG_IMAGE_FILE) {
-		if (inode_bitmap) {
-			blk = (fs->image_header->offset_inodemap /
-			       fs->blocksize);
-			retval = io_channel_read_blk(fs->image_io, blk,
-			     -(inode_nbytes * fs->group_desc_count),
-			     inode_bitmap);
+		blk = (fs->image_header->offset_inodemap / fs->blocksize);
+		ino_cnt = fs->super->s_inodes_count;
+		while (inode_nbytes > 0) {
+			retval = io_channel_read_blk(fs->image_io, blk++,
+						     1, inode_bitmap);
 			if (retval)
 				goto cleanup;
+			cnt = fs->blocksize << 3;
+			if (cnt > ino_cnt)
+				cnt = ino_cnt;
+			retval = ext2fs_set_inode_bitmap_range(fs->inode_map, 
+					       ino_itr, cnt, inode_bitmap);
+			if (retval)
+				goto cleanup;
+			ino_itr += fs->blocksize << 3;
+			ino_cnt -= fs->blocksize << 3;
+			inode_nbytes -= fs->blocksize;
 		}
-		if (block_bitmap) {
-			blk = (fs->image_header->offset_blockmap /
-			       fs->blocksize);
-			retval = io_channel_read_blk(fs->image_io, blk, 
-			     -(block_nbytes * fs->group_desc_count),
-			     block_bitmap);
+		blk = (fs->image_header->offset_blockmap /
+		       fs->blocksize);
+		blk_cnt = EXT2_BLOCKS_PER_GROUP(fs->super) * 
+			fs->group_desc_count;
+		while (block_nbytes > 0) {
+			retval = io_channel_read_blk(fs->image_io, blk++,
+						     1, block_bitmap);
 			if (retval)
 				goto cleanup;
+			cnt = fs->blocksize << 3;
+			if (cnt > blk_cnt)
+				cnt = blk_cnt;
+			retval = ext2fs_set_block_bitmap_range(fs->block_map, 
+				       blk_itr, cnt, block_bitmap);
+			if (retval)
+				goto cleanup;
+			blk_itr += fs->blocksize << 3;
+			blk_cnt -= fs->blocksize << 3;
+			block_nbytes -= fs->blocksize;
 		}
-		return 0;
+		goto success_cleanup;
 	}
 
 	for (i = 0; i < fs->group_desc_count; i++) {
@@ -238,14 +242,14 @@ static errcode_t read_bitmaps(ext2_filsy
 					retval = EXT2_ET_BLOCK_BITMAP_READ;
 					goto cleanup;
 				}
-#ifdef EXT2_BIG_ENDIAN_BITMAPS
-				if (!((fs->flags & EXT2_FLAG_SWAP_BYTES) ||
-				      (fs->flags & EXT2_FLAG_SWAP_BYTES_READ)))
-					ext2fs_swap_bitmap(fs, block_bitmap, block_nbytes);
-#endif
 			} else
 				memset(block_bitmap, 0xff, block_nbytes);
-			block_bitmap += block_nbytes;
+			cnt = block_nbytes << 3;
+			retval = ext2fs_set_block_bitmap_range(fs->block_map, 
+					       blk_itr, cnt, block_bitmap);
+			if (retval)
+				goto cleanup;
+			blk_itr += block_nbytes << 3;
 		}
 		if (inode_bitmap) {
 			blk = fs->group_desc[i].bg_inode_bitmap;
@@ -259,16 +263,21 @@ static errcode_t read_bitmaps(ext2_filsy
 					retval = EXT2_ET_INODE_BITMAP_READ;
 					goto cleanup;
 				}
-#ifdef EXT2_BIG_ENDIAN_BITMAPS
-				if (!((fs->flags & EXT2_FLAG_SWAP_BYTES) ||
-				      (fs->flags & EXT2_FLAG_SWAP_BYTES_READ)))
-					ext2fs_swap_bitmap(fs, inode_bitmap, inode_nbytes);
-#endif
 			} else
 				memset(inode_bitmap, 0xff, inode_nbytes);
-			inode_bitmap += inode_nbytes;
+			cnt = inode_nbytes << 3;
+			retval = ext2fs_set_inode_bitmap_range(fs->inode_map, 
+					       ino_itr, cnt, inode_bitmap);
+			if (retval)
+				goto cleanup;
+			ino_itr += inode_nbytes << 3;
 		}
 	}
+success_cleanup:
+	if (inode_bitmap)
+		ext2fs_free_mem(&inode_bitmap);
+	if (block_bitmap)
+		ext2fs_free_mem(&block_bitmap);
 	return 0;
 	
 cleanup:
@@ -280,6 +289,10 @@ cleanup:
 		ext2fs_free_mem(&fs->inode_map);
 		fs->inode_map = 0;
 	}
+	if (inode_bitmap)
+		ext2fs_free_mem(&inode_bitmap);
+	if (block_bitmap)
+		ext2fs_free_mem(&block_bitmap);
 	if (buf)
 		ext2fs_free_mem(&buf);
 	return retval;
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/swapfs.c e2fsprogs/lib/ext2fs/swapfs.c
--- e2fsprogs-1.40.7/lib/ext2fs/swapfs.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/swapfs.c	2008-02-29 11:23:57.000000000 +0000
@@ -20,7 +20,7 @@
 #include "ext2fs.h"
 #include <ext2fs/ext2_ext_attr.h>
 
-#ifdef EXT2FS_ENABLE_SWAPFS
+#ifdef WORDS_BIGENDIAN
 void ext2fs_swap_super(struct ext2_super_block * sb)
 {
   	int i;
@@ -90,6 +90,29 @@ void ext2fs_swap_group_desc(struct ext2_
 	gdp->bg_checksum = ext2fs_swab16(gdp->bg_checksum);
 }
 
+void ext2fs_swap_ext_attr_header(struct ext2_ext_attr_header *to_header,
+				 struct ext2_ext_attr_header *from_header)
+{
+	int n;
+
+	to_header->h_magic    = ext2fs_swab32(from_header->h_magic);
+	to_header->h_blocks   = ext2fs_swab32(from_header->h_blocks);
+	to_header->h_refcount = ext2fs_swab32(from_header->h_refcount);
+	to_header->h_hash     = ext2fs_swab32(from_header->h_hash);
+	for (n = 0; n < 4; n++)
+		to_header->h_reserved[n] =
+			ext2fs_swab32(from_header->h_reserved[n]);
+}
+
+void ext2fs_swap_ext_attr_entry(struct ext2_ext_attr_entry *to_entry,
+				struct ext2_ext_attr_entry *from_entry)
+{
+	to_entry->e_value_offs  = ext2fs_swab16(from_entry->e_value_offs);
+	to_entry->e_value_block = ext2fs_swab32(from_entry->e_value_block);
+	to_entry->e_value_size  = ext2fs_swab32(from_entry->e_value_size);
+	to_entry->e_hash	= ext2fs_swab32(from_entry->e_hash);
+}
+
 void ext2fs_swap_ext_attr(char *to, char *from, int bufsize, int has_header)
 {
 	struct ext2_ext_attr_header *from_header =
@@ -98,32 +121,22 @@ void ext2fs_swap_ext_attr(char *to, char
 		(struct ext2_ext_attr_header *)to;
 	struct ext2_ext_attr_entry *from_entry, *to_entry;
 	char *from_end = (char *)from_header + bufsize;
-	int n;
 
 	if (to_header != from_header)
 		memcpy(to_header, from_header, bufsize);
 
-	from_entry = (struct ext2_ext_attr_entry *)from_header;
-	to_entry   = (struct ext2_ext_attr_entry *)to_header;
-
 	if (has_header) {
-		to_header->h_magic    = ext2fs_swab32(from_header->h_magic);
-		to_header->h_blocks   = ext2fs_swab32(from_header->h_blocks);
-		to_header->h_refcount = ext2fs_swab32(from_header->h_refcount);
-		for (n=0; n<4; n++)
-			to_header->h_reserved[n] =
-				ext2fs_swab32(from_header->h_reserved[n]);
+		ext2fs_swap_ext_attr_header(to_header, from_header);
+
 		from_entry = (struct ext2_ext_attr_entry *)(from_header+1);
 		to_entry   = (struct ext2_ext_attr_entry *)(to_header+1);
+	} else {
+		from_entry = (struct ext2_ext_attr_entry *)from_header;
+		to_entry   = (struct ext2_ext_attr_entry *)to_header;
 	}
 
 	while ((char *)from_entry < from_end && *(__u32 *)from_entry) {
-		to_entry->e_value_offs  =	
-			ext2fs_swab16(from_entry->e_value_offs);
-		to_entry->e_value_block =	
-			ext2fs_swab32(from_entry->e_value_block);
-		to_entry->e_value_size  =	
-			ext2fs_swab32(from_entry->e_value_size);
+		ext2fs_swap_ext_attr_entry(to_entry, from_entry);
 		from_entry = EXT2_EXT_ATTR_NEXT(from_entry);
 		to_entry   = EXT2_EXT_ATTR_NEXT(to_entry);
 	}
@@ -158,7 +171,11 @@ void ext2fs_swap_inode_full(ext2_filsys 
 	if (!hostorder)
 		has_data_blocks = ext2fs_inode_data_blocks(fs, 
 					   (struct ext2_inode *) t);
+	if (hostorder && (f->i_flags & EXT4_EXTENTS_FL))
+		has_data_blocks = 0;
 	t->i_flags = ext2fs_swab32(f->i_flags);
+	if (hostorder && (t->i_flags & EXT4_EXTENTS_FL))
+		has_data_blocks = 0;
 	t->i_dir_acl = ext2fs_swab32(f->i_dir_acl);
 	if (!islnk || has_data_blocks ) {
 		for (i = 0; i < EXT2_N_BLOCKS; i++)
@@ -198,16 +215,7 @@ void ext2fs_swap_inode_full(ext2_filsys 
 		t->osd2.hurd2.h_i_author =
 		  ext2fs_swab32 (f->osd2.hurd2.h_i_author);
 		break;
-	case EXT2_OS_MASIX:
-		t->osd1.masix1.m_i_reserved1 =
-			ext2fs_swab32(f->osd1.masix1.m_i_reserved1);
-		t->osd2.masix2.m_i_frag = f->osd2.masix2.m_i_frag;
-		t->osd2.masix2.m_i_fsize = f->osd2.masix2.m_i_fsize;
-		t->osd2.masix2.m_pad1 = ext2fs_swab16(f->osd2.masix2.m_pad1);
-		t->osd2.masix2.m_i_reserved2[0] =
-			ext2fs_swab32(f->osd2.masix2.m_i_reserved2[0]);
-		t->osd2.masix2.m_i_reserved2[1] =
-			ext2fs_swab32(f->osd2.masix2.m_i_reserved2[1]);
+	default:
 		break;
 	}
 
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/tdb/Makefile e2fsprogs/lib/ext2fs/tdb/Makefile
--- e2fsprogs-1.40.7/lib/ext2fs/tdb/Makefile	2008-02-17 11:35:12.000000000 +0000
+++ e2fsprogs/lib/ext2fs/tdb/Makefile	1970-01-01 00:00:00.000000000 +0000
@@ -1,15 +0,0 @@
-all: tdbtool
-
-tdb.c tdb.h tdbtool.c: 
-	./build-tdb
-
-tdbtool.o: tdbtool.c
-	gcc -c tdbtool.c
-
-tdbtool: tdb.o tdbtool.o
-	gcc -o tdbtool tdb.o tdbtool.o
-
-clean:
-	rm -f tdb.c tdb.h tdb.o tdbtool tdbtool.c tdbtool.o .svninfo
-	rm -rf .pc
-
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/test_io.c e2fsprogs/lib/ext2fs/test_io.c
--- e2fsprogs-1.40.7/lib/ext2fs/test_io.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/test_io.c	2008-02-29 11:23:57.000000000 +0000
@@ -66,6 +66,8 @@ static errcode_t test_write_byte(io_chan
 				 int count, const void *buf);
 static errcode_t test_set_option(io_channel channel, const char *option, 
 				 const char *arg);
+static errcode_t test_get_stats(io_channel channel, io_stats *stats);
+
 
 static struct struct_io_manager struct_test_manager = {
 	EXT2_ET_MAGIC_IO_MANAGER,
@@ -77,7 +79,8 @@ static struct struct_io_manager struct_t
 	test_write_blk,
 	test_flush,
 	test_write_byte,
-	test_set_option
+	test_set_option,
+	test_get_stats,
 };
 
 io_manager test_io_manager = &struct_test_manager;
@@ -409,3 +412,18 @@ static errcode_t test_set_option(io_chan
 	}
 	return retval;
 }
+
+static errcode_t test_get_stats(io_channel channel, io_stats *stats)
+{
+	struct test_private_data *data;
+	errcode_t	retval = 0;
+
+	EXT2_CHECK_MAGIC(channel, EXT2_ET_MAGIC_IO_CHANNEL);
+	data = (struct test_private_data *) channel->private_data;
+	EXT2_CHECK_MAGIC(data, EXT2_ET_MAGIC_TEST_IO_CHANNEL);
+
+	if (data->real && data->real->manager->get_stats) {
+		retval = (data->real->manager->get_stats)(data->real, stats);
+	}
+	return retval;
+}
diff -Nurp e2fsprogs-1.40.7/lib/ext2fs/unix_io.c e2fsprogs/lib/ext2fs/unix_io.c
--- e2fsprogs-1.40.7/lib/ext2fs/unix_io.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ext2fs/unix_io.c	2008-02-29 11:23:57.000000000 +0000
@@ -70,6 +70,7 @@ struct unix_private_data {
 	int	access_time;
 	ext2_loff_t offset;
 	struct unix_cache cache[CACHE_SIZE];
+	struct struct_io_stats io_stats;
 };
 
 static errcode_t unix_open(const char *name, int flags, io_channel *channel);
@@ -84,7 +85,8 @@ static errcode_t unix_write_byte(io_chan
 				int size, const void *data);
 static errcode_t unix_set_option(io_channel channel, const char *option, 
 				 const char *arg);
-
+static errcode_t unix_get_stats(io_channel channel, io_stats *stats)
+;
 static void reuse_cache(io_channel channel, struct unix_private_data *data,
 		 struct unix_cache *cache, unsigned long block);
 
@@ -110,11 +112,28 @@ static struct struct_io_manager struct_u
 #else
 	unix_write_byte,
 #endif
-	unix_set_option
+	unix_set_option,
+	unix_get_stats,
 };
 
 io_manager unix_io_manager = &struct_unix_manager;
 
+static errcode_t unix_get_stats(io_channel channel, io_stats *stats)
+{
+	errcode_t 	retval = 0;
+
+	struct unix_private_data *data;
+
+	EXT2_CHECK_MAGIC(channel, EXT2_ET_MAGIC_IO_CHANNEL);
+	data = (struct unix_private_data *) channel->private_data;
+	EXT2_CHECK_MAGIC(data, EXT2_ET_MAGIC_UNIX_IO_CHANNEL);
+
+	if (stats)
+		*stats = &data->io_stats;
+
+	return retval;
+}
+
 /*
  * Here are the raw I/O functions
  */
@@ -130,6 +149,7 @@ static errcode_t raw_read_blk(io_channel
 	int		actual = 0;
 
 	size = (count < 0) ? -count : count * channel->block_size;
+	data->io_stats.bytes_read += size;
 	location = ((ext2_loff_t) block * channel->block_size) + data->offset;
 	if (ext2fs_llseek(data->dev, location, SEEK_SET) != location) {
 		retval = errno ? errno : EXT2_ET_LLSEEK_FAILED;
@@ -168,6 +188,7 @@ static errcode_t raw_read_blk(io_channel
 	char		sector[BLOCKALIGN];
 
 	size = (count < 0) ? -count : count * channel->block_size;
+	data->io_stats.bytes_read += size;
 	location = ((ext2_loff_t) block * channel->block_size) + data->offset;
 #ifdef DEBUG
 	printf("count=%d, size=%d, block=%lu, blk_size=%d, location=%llx\n",
@@ -224,6 +245,7 @@ static errcode_t raw_write_blk(io_channe
 		else
 			size = count * channel->block_size;
 	}
+	data->io_stats.bytes_written += size;
 
 	location = ((ext2_loff_t) block * channel->block_size) + data->offset;
 	if (ext2fs_llseek(data->dev, location, SEEK_SET) != location) {
@@ -407,6 +429,7 @@ static errcode_t unix_open(const char *n
 
 	memset(data, 0, sizeof(struct unix_private_data));
 	data->magic = EXT2_ET_MAGIC_UNIX_IO_CHANNEL;
+	data->io_stats.num_fields = 2;
 
 	if ((retval = alloc_cache(io, data)))
 		goto cleanup;
diff -Nurp e2fsprogs-1.40.7/lib/ss/ss.pc.in e2fsprogs/lib/ss/ss.pc.in
--- e2fsprogs-1.40.7/lib/ss/ss.pc.in	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/lib/ss/ss.pc.in	2008-02-29 11:23:57.000000000 +0000
@@ -8,4 +8,5 @@ Description: Subsystem command parsing l
 Version: @E2FSPROGS_VERSION@
 Requires: com_err
 Cflags: -I${includedir} 
-Libs: -L${libdir} -lss @DLOPEN_LIB@
+Libs: -L${libdir} -lss
+Libs.private: @DLOPEN_LIB@
diff -Nurp e2fsprogs-1.40.7/Makefile.in e2fsprogs/Makefile.in
--- e2fsprogs-1.40.7/Makefile.in	2008-02-29 01:40:33.000000000 +0000
+++ e2fsprogs/Makefile.in	2008-02-29 11:23:57.000000000 +0000
@@ -10,7 +10,7 @@ INSTALL = @INSTALL@
 @RESIZER_CMT@RESIZE_DIR= resize
 @DEBUGFS_CMT@DEBUGFS_DIR= debugfs
 
-LIB_SUBDIRS=lib/et lib/ss lib/e2p lib/ext2fs lib/uuid lib/blkid intl
+LIB_SUBDIRS=lib/et lib/ss lib/e2p lib/uuid lib/ext2fs lib/blkid intl
 PROG_SUBDIRS=e2fsck $(DEBUGFS_DIR) misc $(RESIZE_DIR) tests/progs po
 SUBDIRS=util $(LIB_SUBDIRS) $(PROG_SUBDIRS) tests
 
@@ -74,7 +74,7 @@ TAGS clean-recursive distclean-recursive
 	done
 
 all-progs-recursive install-progs-recursive install-strip-progs-recursive \
-  uninstall-progs-recursive: all-libs-recursive
+  uninstall-progs-recursive:
 	@for subdir in $(PROG_SUBDIRS); do \
 	  if test -d $$subdir ; then \
 	    target=`echo $@|$(SED) 's/-progs-recursive//'`; \
diff -Nurp e2fsprogs-1.40.7/misc/badblocks.c e2fsprogs/misc/badblocks.c
--- e2fsprogs-1.40.7/misc/badblocks.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/misc/badblocks.c	2008-02-29 11:23:57.000000000 +0000
@@ -67,13 +67,13 @@ static int s_flag = 0;			/* show progres
 static int force = 0;			/* force check of mounted device */
 static int t_flag = 0;			/* number of test patterns */
 static int t_max = 0;			/* allocated test patterns */
-static unsigned long *t_patts = NULL;	/* test patterns */
+static unsigned int *t_patts = NULL;	/* test patterns */
 static int current_O_DIRECT = 0;	/* Current status of O_DIRECT flag */
 static int exclusive_ok = 0;
 
 #define T_INC 32
 
-int sys_page_size = 4096;
+unsigned int sys_page_size = 4096;
 
 static void usage(void)
 {
@@ -90,8 +90,8 @@ static void exclusive_usage(void)
 	exit(1);
 }
 
-static unsigned long currently_testing = 0;
-static unsigned long num_blocks = 0;
+static blk_t currently_testing = 0;
+static blk_t num_blocks = 0;
 static ext2_badblocks_list bb_list = NULL;
 static FILE *out;
 static blk_t next_bad = 0;
@@ -124,14 +124,14 @@ static void *allocate_buffer(size_t size
  * This routine reports a new bad block.  If the bad block has already
  * been seen before, then it returns 0; otherwise it returns 1.
  */
-static int bb_output (unsigned long bad)
+static int bb_output (blk_t bad)
 {
 	errcode_t errcode;
 
 	if (ext2fs_badblocks_list_test(bb_list, bad))
 		return 0;
 
-	fprintf(out, "%lu\n", bad);
+	fprintf(out, "%lu\n", (unsigned long) bad);
 	fflush(out);
 
 	errcode = ext2fs_badblocks_list_add (bb_list, bad);
@@ -151,7 +151,8 @@ static int bb_output (unsigned long bad)
 
 static void print_status(void)
 {
-	fprintf(stderr, "%15ld/%15ld", currently_testing, num_blocks);
+	fprintf(stderr, "%15lu/%15lu", (unsigned long) currently_testing, 
+		(unsigned long) num_blocks);
 	fputs("\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b", stderr);
 	fflush (stderr);
 }
@@ -197,7 +198,7 @@ static void uncapture_terminate(void)
 }
 
 static void set_o_direct(int dev, unsigned char *buffer, size_t size,
-			 unsigned long current_block)
+			 blk_t current_block)
 {
 #ifdef O_DIRECT
 	int new_flag = O_DIRECT;
@@ -221,13 +222,13 @@ static void set_o_direct(int dev, unsign
 }
 
 
-static void pattern_fill(unsigned char *buffer, unsigned long pattern,
+static void pattern_fill(unsigned char *buffer, unsigned int pattern,
 			 size_t n)
 {
 	unsigned int	i, nb;
 	unsigned char	bpattern[sizeof(pattern)], *ptr;
 	
-	if (pattern == (unsigned long) ~0) {
+	if (pattern == (unsigned int) ~0) {
 		for (ptr = buffer; ptr < buffer + n; ptr++) {
 			(*ptr) = random() % (1 << (8 * sizeof(char)));
 		}
@@ -262,8 +263,8 @@ static void pattern_fill(unsigned char *
  * Perform a read of a sequence of blocks; return the number of blocks
  *    successfully sequentially read.
  */
-static long do_read (int dev, unsigned char * buffer, int try, int block_size,
-		     unsigned long current_block)
+static int do_read (int dev, unsigned char * buffer, int try, int block_size,
+		    blk_t current_block)
 {
 	long got;
 
@@ -291,8 +292,8 @@ static long do_read (int dev, unsigned c
  * Perform a write of a sequence of blocks; return the number of blocks
  *    successfully sequentially written.
  */
-static long do_write (int dev, unsigned char * buffer, int try, int block_size,
-		     unsigned long current_block)
+static int do_write(int dev, unsigned char * buffer, int try, int block_size,
+		    unsigned long current_block)
 {
 	long got;
 
@@ -327,13 +328,13 @@ static void flush_bufs(void)
 		com_err(program_name, retval, _("during ext2fs_sync_device"));
 }
 
-static unsigned int test_ro (int dev, unsigned long last_block,
-			     int block_size, unsigned long from_count,
-			     unsigned long blocks_at_once)
+static unsigned int test_ro (int dev, blk_t last_block,
+			     int block_size, blk_t from_count,
+			     unsigned int blocks_at_once)
 {
 	unsigned char * blkbuf;
 	int try;
-	long got;
+	int got;
 	unsigned int bb_count = 0;
 	errcode_t errcode;
 
@@ -358,8 +359,9 @@ static unsigned int test_ro (int dev, un
 		exit (1);
 	}
 	if (v_flag) {
-	    fprintf (stderr, _("Checking blocks %lu to %lu\n"), from_count,
-		     last_block - 1);
+		fprintf (stderr, _("Checking blocks %lu to %lu\n"), 
+			 (unsigned long) from_count, 
+			 (unsigned long) last_block - 1);
 	}
 	if (t_flag) {
 		fputs(_("Checking for bad blocks in read-only mode\n"), stderr);
@@ -404,7 +406,7 @@ static unsigned int test_ro (int dev, un
 		if (got == try) {
 			try = blocks_at_once;
 			/* recover page-aligned offset for O_DIRECT */
-			if ( blocks_at_once >= (unsigned long) (sys_page_size >> 9)
+			if ( (blocks_at_once >= sys_page_size >> 9)
 			     && (currently_testing % (sys_page_size >> 9)!= 0))
 				try -= (sys_page_size >> 9)
 					- (currently_testing 
@@ -430,13 +432,13 @@ static unsigned int test_ro (int dev, un
 	return bb_count;
 }
 
-static unsigned int test_rw (int dev, unsigned long last_block,
-			     int block_size, unsigned long from_count,
-			     unsigned long blocks_at_once)
+static unsigned int test_rw (int dev, blk_t last_block,
+			     int block_size, blk_t from_count,
+			     unsigned int blocks_at_once)
 {
 	unsigned char *buffer, *read_buffer;
-	const unsigned long patterns[] = {0xaa, 0x55, 0xff, 0x00};
-	const unsigned long *pattern;
+	const unsigned int patterns[] = {0xaa, 0x55, 0xff, 0x00};
+	const unsigned int *pattern;
 	int i, try, got, nr_pattern, pat_idx;
 	unsigned int bb_count = 0;
 
@@ -454,7 +456,8 @@ static unsigned int test_rw (int dev, un
 		fputs(_("Checking for bad blocks in read-write mode\n"), 
 		      stderr);
 		fprintf(stderr, _("From block %lu to %lu\n"),
-			 from_count, last_block);
+			(unsigned long) from_count, 
+			(unsigned long) last_block);
 	}
 	if (t_flag) {
 		pattern = t_patts;
@@ -484,7 +487,7 @@ static unsigned int test_rw (int dev, un
 			if (got == try) {
 				try = blocks_at_once;
 				/* recover page-aligned offset for O_DIRECT */
-				if ( blocks_at_once >= (unsigned long) (sys_page_size >> 9)
+				if ( (blocks_at_once >= sys_page_size >> 9)
 				     && (currently_testing % 
 					 (sys_page_size >> 9)!= 0))
 					try -= (sys_page_size >> 9)
@@ -528,7 +531,7 @@ static unsigned int test_rw (int dev, un
 			}
 			currently_testing += got;
 			/* recover page-aligned offset for O_DIRECT */
-			if ( blocks_at_once >= (unsigned long) (sys_page_size >> 9)
+			if ( (blocks_at_once >= sys_page_size >> 9)
 			     && (currently_testing % (sys_page_size >> 9)!= 0))
 				try = blocks_at_once - (sys_page_size >> 9)
 					- (currently_testing 
@@ -555,17 +558,18 @@ struct saved_blk_record {
 	int	num;
 };
 
-static unsigned int test_nd (int dev, unsigned long last_block,
-			     int block_size, unsigned long from_count,
-			     unsigned long blocks_at_once)
+static unsigned int test_nd (int dev, blk_t last_block,
+			     int block_size, blk_t from_count,
+			     unsigned int blocks_at_once)
 {
 	unsigned char *blkbuf, *save_ptr, *test_ptr, *read_ptr;
 	unsigned char *test_base, *save_base, *read_base;
 	int try, i;
-	const unsigned long patterns[] = { ~0 };
-	const unsigned long *pattern;
+	const unsigned int patterns[] = { ~0 };
+	const unsigned int *pattern;
 	int nr_pattern, pat_idx;
-	long got, used2, written, save_currently_testing;
+	int got, used2, written;
+	blk_t save_currently_testing;
 	struct saved_blk_record *test_record;
 	/* This is static to prevent being clobbered by the longjmp */
 	static int num_saved;
@@ -601,7 +605,8 @@ static unsigned int test_nd (int dev, un
 	flush_bufs();
 	if (v_flag) {
 	    fputs(_("Checking for bad blocks in non-destructive read-write mode\n"), stderr);
-	    fprintf (stderr, _("From block %lu to %lu\n"), from_count, last_block);
+	    fprintf (stderr, _("From block %lu to %lu\n"), 
+		     (unsigned long) from_count, (unsigned long) last_block);
 	}
 	if (s_flag || v_flag > 1) {
 		fputs(_("Checking for bad blocks (non-destructive read-write test)\n"), stderr);
@@ -682,7 +687,8 @@ static unsigned int test_nd (int dev, un
 			if (written != got)
 				com_err (program_name, errno,
 					 _("during test data write, block %lu"),
-					 currently_testing + written);
+					 (unsigned long) currently_testing + 
+					 written);
 
 			buf_used += got;
 			save_ptr += got * block_size;
@@ -813,27 +819,43 @@ static void check_mount(char *device_nam
 
 }
 
+/*
+ * This function will convert a string to an unsigned long, printing
+ * an error message if it fails, and returning success or failure in err.
+ */
+static unsigned int parse_uint(const char *str, const char *descr)
+{
+	char		*tmp;
+	unsigned long	ret;
+	
+	ret = strtoul(str, &tmp, 0);
+	if (*tmp || errno || (ret > UINT_MAX) ||
+	    (ret == ULONG_MAX && errno == ERANGE)) {
+		com_err (program_name, 0, _("invalid %s - %s"), descr, str);
+		exit (1);
+	}
+	return ret;
+}
 
 int main (int argc, char ** argv)
 {
 	int c;
-	char * tmp;
 	char * device_name;
 	char * host_device_name = NULL;
 	char * input_file = NULL;
 	char * output_file = NULL;
 	FILE * in = NULL;
 	int block_size = 1024;
-	unsigned long blocks_at_once = 64;
+	unsigned int blocks_at_once = 64;
 	blk_t last_block, from_count;
 	int num_passes = 0;
 	int passes_clean = 0;
 	int dev;
 	errcode_t errcode;
-	unsigned long pattern;
-	unsigned int (*test_func)(int, unsigned long,
-				  int, unsigned long,
-				  unsigned long);
+	unsigned int pattern;
+	unsigned int (*test_func)(int, blk_t,
+				  int, blk_t,
+				  unsigned int);
 	int open_flag = 0;
 	long sysval;
 
@@ -865,8 +887,8 @@ int main (int argc, char ** argv)
 	while ((c = getopt (argc, argv, "b:fi:o:svwnc:p:h:t:X")) != EOF) {
 		switch (c) {
 		case 'b':
-			block_size = strtoul (optarg, &tmp, 0);
-			if (*tmp || block_size > 4096) {
+			block_size = parse_uint(optarg, "block size");
+			if (block_size > 4096) {
 				com_err (program_name, 0,
 					 _("bad block size - %s"), optarg);
 				exit (1);
@@ -900,27 +922,18 @@ int main (int argc, char ** argv)
 			w_flag = 2;
 			break;
 		case 'c':
-			blocks_at_once = strtoul (optarg, &tmp, 0);
-			if (*tmp) {
-				com_err (program_name, 0,
-					 "bad simultaneous block count - %s", optarg);
-				exit (1);
-			}
+			blocks_at_once = parse_uint(optarg, "blocks at once");
 			break;
 		case 'p':
-			num_passes = strtoul (optarg, &tmp, 0);
-			if (*tmp) {
-				com_err (program_name, 0,
-				    "bad number of clean passes - %s", optarg);
-				exit (1);
-			}
+			num_passes = parse_uint(optarg, 
+						"number of clean passes");
 			break;
 		case 'h':
 			host_device_name = optarg;
 			break;
 		case 't':
 			if (t_flag + 1 > t_max) {
-				unsigned long *t_patts_new;
+				unsigned int *t_patts_new;
 
 				t_patts_new = realloc(t_patts, t_max + T_INC);
 				if (!t_patts_new) {
@@ -936,14 +949,8 @@ int main (int argc, char ** argv)
 			if (!strcmp(optarg, "r") || !strcmp(optarg,"random")) {
 				t_patts[t_flag++] = ~0;
 			} else {
-				pattern = strtoul(optarg, &tmp, 0);
-				if (*tmp) {
-					com_err(program_name, 0,
-					_("invalid test_pattern: %s\n"),
-						optarg);
-					exit(1);
-				}
-				if (pattern == (unsigned long) ~0)
+				pattern = parse_uint(optarg, "test pattern");
+				if (pattern == (unsigned int) ~0)
 					pattern = 0xffff;
 				t_patts[t_flag++] = pattern;
 			}
@@ -962,7 +969,7 @@ int main (int argc, char ** argv)
 			  "in read-only mode"));
 			exit(1);
 		}
-		if (t_patts && (t_patts[0] == (unsigned long) ~0)) {
+		if (t_patts && (t_patts[0] == (unsigned int) ~0)) {
 			com_err(program_name, 0,
 			_("Random test_pattern is not allowed "
 			  "in read-only mode"));
@@ -989,30 +996,18 @@ int main (int argc, char ** argv)
 		}
 	} else {
 		errno = 0;
-		last_block = strtoul (argv[optind], &tmp, 0);
+		last_block = parse_uint(argv[optind], "last block");
 		printf("last_block = %d (%s)\n", last_block, argv[optind]);
-		if (*tmp || errno || 
-		    (last_block == ULONG_MAX && errno == ERANGE)) {
-			com_err (program_name, 0, _("invalid blocks count - %s"),
-				 argv[optind]);
-			exit (1);
-		}
 		last_block++;
 		optind++;
 	}
 	if (optind <= argc-1) {
 		errno = 0;
-		from_count = strtoul (argv[optind], &tmp, 0);
+		from_count = parse_uint(argv[optind], "start block");
 		printf("from_count = %d\n", from_count);
-		if (*tmp || errno ||
-		    (from_count == ULONG_MAX && errno == ERANGE)) {
-			com_err (program_name, 0, _("invalid starting block - %s"),
-				 argv[optind]);
-			exit (1);
-		}
 	} else from_count = 0;
 	if (from_count >= last_block) {
-	    com_err (program_name, 0, _("invalid starting block (%d): must be less than %lu"),
+	    com_err (program_name, 0, _("invalid starting block (%lu): must be less than %lu"),
 		     (unsigned long) from_count, (unsigned long) last_block);
 	    exit (1);
 	}
diff -Nurp e2fsprogs-1.40.7/misc/chattr.1.in e2fsprogs/misc/chattr.1.in
--- e2fsprogs-1.40.7/misc/chattr.1.in	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/misc/chattr.1.in	2008-02-29 11:23:57.000000000 +0000
@@ -5,7 +5,7 @@ chattr \- change file attributes on a Li
 .SH SYNOPSIS
 .B chattr
 [
-.B \-RV
+.B \-RVf
 ]
 [
 .B \-v
@@ -34,12 +34,13 @@ synchronous updates (S), and top of dire
 .TP
 .B \-R
 Recursively change attributes of directories and their contents.
-Symbolic links encountered during recursive directory traversals are
-ignored.
 .TP
 .B \-V
 Be verbose with chattr's output and print the program version.
 .TP
+.B \-f
+Suppress most error messages.
+.TP
 .BI \-v " version"
 Set the file's version/generation number.
 .SH ATTRIBUTES
diff -Nurp e2fsprogs-1.40.7/misc/chattr.c e2fsprogs/misc/chattr.c
--- e2fsprogs-1.40.7/misc/chattr.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/misc/chattr.c	2008-02-29 11:23:57.000000000 +0000
@@ -65,6 +65,7 @@ static unsigned long version;
 
 static int recursive;
 static int verbose;
+static int silent;
 
 static unsigned long af;
 static unsigned long rf;
@@ -80,8 +81,8 @@ static unsigned long sf;
 
 static void usage(void)
 {
-	fprintf(stderr, 
-		_("Usage: %s [-RV] [-+=AacDdijsSu] [-v version] files...\n"),
+	fprintf(stderr,
+		_("Usage: %s [-RVf] [-+=AacDdijsSu] [-v version] files...\n"),
 		program_name);
 	exit(1);
 }
@@ -137,6 +138,10 @@ static int decode_arg (int * i, int argc
 				verbose = 1;
 				continue;
 			}
+			if (*p == 'f') {
+				silent = 1;
+				continue;
+			}
 			if (*p == 'v') {
 				(*i)++;
 				if (*i >= argc)
@@ -144,7 +149,7 @@ static int decode_arg (int * i, int argc
 				version = strtol (argv[*i], &tmp, 0);
 				if (*tmp) {
 					com_err (program_name, 0,
-						 _("bad version - %s\n"), 
+						 _("bad version - %s\n"),
 						 argv[*i]);
 					usage ();
 				}
@@ -182,26 +187,17 @@ static int decode_arg (int * i, int argc
 
 static int chattr_dir_proc (const char *, struct dirent *, void *);
 
-static void change_attributes (const char * name)
+static int change_attributes (const char * name, int cmdline)
 {
 	unsigned long flags;
 	STRUCT_STAT	st;
 
 	if (LSTAT (name, &st) == -1) {
-		com_err (program_name, errno, _("while trying to stat %s"), 
-			 name);
-		return;
-	}
-	if (S_ISLNK(st.st_mode) && recursive)
-		return;
-
-	/* Don't try to open device files, fifos etc.  We probably
-           ought to display an error if the file was explicitly given
-           on the command line (whether or not recursive was
-           requested).  */
-	if (!S_ISREG(st.st_mode) && !S_ISLNK(st.st_mode) &&
-	    !S_ISDIR(st.st_mode))
-		return;
+		if (!silent)
+			com_err (program_name, errno,
+				 _("while trying to stat %s"), name);
+		return -1;
+	}
 
 	if (set) {
 		if (verbose) {
@@ -212,10 +208,12 @@ static void change_attributes (const cha
 		if (fsetflags (name, sf) == -1)
 			perror (name);
 	} else {
-		if (fgetflags (name, &flags) == -1)
-			com_err (program_name, errno,
-			         _("while reading flags on %s"), name);
-		else {
+		if (fgetflags (name, &flags) == -1) {
+			if (!silent)
+				com_err (program_name, errno,
+					 _("while reading flags on %s"), name);
+			return -1;
+		} else {
 			if (rem)
 				flags &= ~rf;
 			if (add)
@@ -227,25 +225,36 @@ static void change_attributes (const cha
 			}
 			if (!S_ISDIR(st.st_mode))
 				flags &= ~EXT2_DIRSYNC_FL;
-			if (fsetflags (name, flags) == -1)
-				com_err (program_name, errno,
-				         _("while setting flags on %s"), name);
+			if (fsetflags (name, flags) == -1) {
+				if (!silent)
+					com_err(program_name, errno,
+						_("while setting flags on %s"),
+						name);
+				return -1;
+			}
 		}
 	}
 	if (set_version) {
 		if (verbose)
 			printf (_("Version of %s set as %lu\n"), name, version);
-		if (fsetversion (name, version) == -1)
-			com_err (program_name, errno,
-			         _("while setting version on %s"), name);
+		if (fsetversion (name, version) == -1) {
+			if (!silent)
+				com_err (program_name, errno,
+					 _("while setting version on %s"),
+					 name);
+			return -1;
+		}
 	}
 	if (S_ISDIR(st.st_mode) && recursive)
-		iterate_on_dir (name, chattr_dir_proc, NULL);
+		return iterate_on_dir (name, chattr_dir_proc, NULL);
+	return 0;
 }
 
 static int chattr_dir_proc (const char * dir_name, struct dirent * de,
 			    void * private EXT2FS_ATTR((unused)))
 {
+	int ret = 0;
+
 	if (strcmp (de->d_name, ".") && strcmp (de->d_name, "..")) {
 	        char *path;
 
@@ -253,19 +262,20 @@ static int chattr_dir_proc (const char *
 		if (!path) {
 			fprintf(stderr, _("Couldn't allocate path variable "
 					  "in chattr_dir_proc"));
-			exit(1);
+			return -1;
 		}
-		sprintf (path, "%s/%s", dir_name, de->d_name);
-		change_attributes (path);
+		sprintf(path, "%s/%s", dir_name, de->d_name);
+		ret = change_attributes(path, 0);
 		free(path);
 	}
-	return 0;
+	return ret;
 }
 
 int main (int argc, char ** argv)
 {
 	int i, j;
 	int end_arg = 0;
+	int err, retval = 0;
 
 #ifdef ENABLE_NLS
 	setlocale(LC_MESSAGES, "");
@@ -303,7 +313,10 @@ int main (int argc, char ** argv)
 	if (verbose)
 		fprintf (stderr, "chattr %s (%s)\n",
 			 E2FSPROGS_VERSION, E2FSPROGS_DATE);
-	for (j = i; j < argc; j++)
-		change_attributes (argv[j]);
-	exit(0);
+	for (j = i; j < argc; j++) {
+		err = change_attributes (argv[j], 1);
+		if (err)
+			retval = 1;
+	}
+	exit(retval);
 }
diff -Nurp e2fsprogs-1.40.7/misc/dumpe2fs.8.in e2fsprogs/misc/dumpe2fs.8.in
--- e2fsprogs-1.40.7/misc/dumpe2fs.8.in	2008-02-28 02:08:21.000000000 +0000
+++ e2fsprogs/misc/dumpe2fs.8.in	2008-02-29 11:23:57.000000000 +0000
@@ -11,10 +11,12 @@ dumpe2fs \- dump ext2/ext3 filesystem in
 .B \-bfhixV
 ]
 [
-.B \-o superblock=\fIsuperblock
+.B \-ob 
+.I superblock
 ]
 [
-.B \-o blocksize=\fIblocksize
+.B \-oB
+.I blocksize
 ]
 .I device
 .SH DESCRIPTION
@@ -32,14 +34,14 @@ program for the BSD Fast File System.
 .B \-b
 print the blocks which are reserved as bad in the filesystem.
 .TP
-.B \-o superblock=\fIsuperblock
+.BI \-ob " superblock"
 use the block
 .I superblock
 when examining the filesystem.
 This option is not usually needed except by a filesystem wizard who 
 is examining the remains of a very badly corrupted filesystem.
 .TP
-.B \-o blocksize=\fIblocksize
+.BI \-oB " blocksize"
 use blocks of
 .I blocksize
 bytes when examining the filesystem.
diff -Nurp e2fsprogs-1.40.7/misc/dumpe2fs.c e2fsprogs/misc/dumpe2fs.c
--- e2fsprogs-1.40.7/misc/dumpe2fs.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/misc/dumpe2fs.c	2008-02-29 11:23:57.000000000 +0000
@@ -134,12 +134,18 @@ static void list_desc (ext2_filsys fs)
 	blk_t	super_blk, old_desc_blk, new_desc_blk;
 	char *block_bitmap=NULL, *inode_bitmap=NULL;
 	int inode_blocks_per_group, old_desc_blocks, reserved_gdt;
+	int		block_nbytes, inode_nbytes;
 	int has_super;
+	blk_t		blk_itr = fs->super->s_first_data_block;
+	ext2_ino_t	ino_itr = 1;
+
+	block_nbytes = EXT2_BLOCKS_PER_GROUP(fs->super) / 8;
+	inode_nbytes = EXT2_INODES_PER_GROUP(fs->super) / 8;
 
 	if (fs->block_map)
-		block_bitmap = fs->block_map->bitmap;
+		block_bitmap = malloc(block_nbytes);
 	if (fs->inode_map)
-		inode_bitmap = fs->inode_map->bitmap;
+		inode_bitmap = malloc(inode_nbytes);
 
 	inode_blocks_per_group = ((fs->super->s_inodes_per_group *
 				   EXT2_INODE_SIZE(fs->super)) +
@@ -211,18 +217,22 @@ static void list_desc (ext2_filsys fs)
 			fs->group_desc[i].bg_used_dirs_count);
 		if (block_bitmap) {
 			fputs(_("  Free blocks: "), stdout);
+			ext2fs_get_block_bitmap_range(fs->block_map, 
+				 blk_itr, block_nbytes << 3, block_bitmap);
 			print_free (i, block_bitmap,
 				    fs->super->s_blocks_per_group,
 				    fs->super->s_first_data_block);
 			fputc('\n', stdout);
-			block_bitmap += fs->super->s_blocks_per_group / 8;
+			blk_itr += fs->super->s_blocks_per_group;
 		}
 		if (inode_bitmap) {
 			fputs(_("  Free inodes: "), stdout);
+			ext2fs_get_inode_bitmap_range(fs->inode_map, 
+				 ino_itr, inode_nbytes << 3, inode_bitmap);
 			print_free (i, inode_bitmap,
 				    fs->super->s_inodes_per_group, 1);
 			fputc('\n', stdout);
-			inode_bitmap += fs->super->s_inodes_per_group / 8;
+			ino_itr += fs->super->s_inodes_per_group;
 		}
 	}
 }
@@ -323,83 +333,6 @@ static void print_journal_information(ex
 	}
 }
 
-static void parse_extended_opts(const char *opts, blk_t *superblock, 
-				int *blocksize)
-{
-	char	*buf, *token, *next, *p, *arg, *badopt = "";
-	int	len;
-	int	usage = 0;
-
-	len = strlen(opts);
-	buf = malloc(len+1);
-	if (!buf) {
-		fprintf(stderr,
-			_("Couldn't allocate memory to parse options!\n"));
-		exit(1);
-	}
-	strcpy(buf, opts);
-	for (token = buf; token && *token; token = next) {
-		p = strchr(token, ',');
-		next = 0;
-		if (p) {
-			*p = 0;
-			next = p+1;
-		}
-		arg = strchr(token, '=');
-		if (arg) {
-			*arg = 0;
-			arg++;
-		}
-		if (strcmp(token, "superblock") == 0 ||
-		    strcmp(token, "sb") == 0) {
-			if (!arg) {
-				usage++;
-				badopt = token;
-				continue;
-			}
-			*superblock = strtoul(arg, &p, 0);
-			if (*p) {
-				fprintf(stderr,
-					_("Invalid superblock parameter: %s\n"),
-					arg);
-				usage++;
-				continue;
-			}
-		} else if (strcmp(token, "blocksize") == 0 ||
-			   strcmp(token, "bs") == 0) {
-			if (!arg) {
-				usage++;
-				badopt = token;
-				continue;
-			}
-			*blocksize = strtoul(arg, &p, 0);
-			if (*p) {
-				fprintf(stderr,
-					_("Invalid blocksize parameter: %s\n"),
-					arg);
-				usage++;
-				continue;
-			}
-		} else {
-			usage++;
-			badopt = token;
-		}
-	}
-	if (usage) {
-		fprintf(stderr, _("\nBad extended option(s) specified: %s\n\n"
-			"Extended options are separated by commas, "
-			"and may take an argument which\n"
-			"\tis set off by an equals ('=') sign.\n\n"
-			"Valid extended options are:\n"
-			"\tsuperblock=<superblock number>\n"
-			"\tblocksize=<blocksize>\n"),
-			badopt);
-		free(buf);
-		exit(1);
-	}
-	free(buf);
-}	
-
 int main (int argc, char ** argv)
 {
 	errcode_t	retval;
@@ -411,7 +344,6 @@ int main (int argc, char ** argv)
 	int		force = 0;
 	int		flags;
 	int		header_only = 0;
-	int		big_endian;
 	int		c;
 
 #ifdef ENABLE_NLS
@@ -441,8 +373,12 @@ int main (int argc, char ** argv)
 			image_dump++;
 			break;
 		case 'o':
-			parse_extended_opts(optarg, &use_superblock, 
-					    &use_blocksize);
+			if (optarg[0] == 'b')
+				use_superblock = atoi(optarg+1);
+			else if (optarg[0] == 'B')
+				use_blocksize = atoi(optarg+1);
+			else
+				usage();
 			break;
 		case 'V':
 			/* Print version number and exit */
@@ -459,26 +395,16 @@ int main (int argc, char ** argv)
 	if (optind > argc - 1)
 		usage();
 	device_name = argv[optind++];
+	if (use_superblock && !use_blocksize)
+		use_blocksize = 1024;
 	flags = EXT2_FLAG_JOURNAL_DEV_OK | EXT2_FLAG_SOFTSUPP_FEATURES;
 	if (force)
 		flags |= EXT2_FLAG_FORCE;
 	if (image_dump)
 		flags |= EXT2_FLAG_IMAGE_FILE;
 	
-	if (use_superblock && !use_blocksize) {
-		for (use_blocksize = EXT2_MIN_BLOCK_SIZE;
-		     use_blocksize <= EXT2_MAX_BLOCK_SIZE;
-		     use_blocksize *= 2) {
-			retval = ext2fs_open (device_name, flags,
-					      use_superblock,
-					      use_blocksize, unix_io_manager,
-					      &fs);
-			if (!retval)
-				break;
-		}
-	} else
-		retval = ext2fs_open (device_name, flags, use_superblock,
-				      use_blocksize, unix_io_manager, &fs);
+	retval = ext2fs_open (device_name, flags, use_superblock,
+			      use_blocksize, unix_io_manager, &fs);
 	if (retval) {
 		com_err (program_name, retval, _("while trying to open %s"),
 			 device_name);
@@ -488,12 +414,6 @@ int main (int argc, char ** argv)
 	if (print_badblocks) {
 		list_bad_blocks(fs, 1);
 	} else {
-		big_endian = ((fs->flags & EXT2_FLAG_SWAP_BYTES) != 0);
-#ifdef WORDS_BIGENDIAN
-		big_endian = !big_endian;
-#endif
-		if (big_endian)
-			printf(_("Note: This is a byte-swapped filesystem\n"));
 		list_super (fs->super);
 		if (fs->super->s_feature_incompat &
 		      EXT3_FEATURE_INCOMPAT_JOURNAL_DEV) {
diff -Nurp e2fsprogs-1.40.7/misc/e2image.c e2fsprogs/misc/e2image.c
--- e2fsprogs-1.40.7/misc/e2image.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/misc/e2image.c	2008-02-29 11:23:57.000000000 +0000
@@ -347,9 +347,8 @@ static void scramble_dir_block(ext2_fils
 	for (p = buf; p < end-8; p += rec_len) {
 		dirent = (struct ext2_dir_entry_2 *) p;
 		rec_len = dirent->rec_len;
-#ifdef EXT2FS_ENABLE_SWAPFS
-		if (fs->flags & EXT2_FLAG_SWAP_BYTES) 
-			rec_len = ext2fs_swab16(rec_len);
+#ifdef WORDS_BIGENDIAN
+		rec_len = ext2fs_swab16(rec_len);
 #endif
 #if 0
 		printf("rec_len = %d, name_len = %d\n", rec_len, dirent->name_len);
@@ -360,8 +359,7 @@ static void scramble_dir_block(ext2_fils
 			       "bad rec_len (%d)\n", (unsigned long) blk, 
 			       rec_len);
 			rec_len = end - p;
-#ifdef EXT2FS_ENABLE_SWAPFS
-			if (fs->flags & EXT2_FLAG_SWAP_BYTES) 
+#ifdef WORDS_BIGENDIAN
 				dirent->rec_len = ext2fs_swab16(rec_len);
 #endif
 			continue;
@@ -516,8 +514,9 @@ static void write_raw_image_file(ext2_fi
 		    (LINUX_S_ISLNK(inode.i_mode) &&
 		     ext2fs_inode_has_valid_blocks(&inode)) ||
 		    ino == fs->super->s_journal_inum) {
-			retval = ext2fs_block_iterate2(fs, ino, 0, 
-				       block_buf, process_dir_block, &pb);
+			retval = ext2fs_block_iterate2(fs, ino,
+					BLOCK_FLAG_READ_ONLY, block_buf,
+					process_dir_block, &pb);
 			if (retval) {
 				com_err(program_name, retval,
 					"while iterating over inode %u",
@@ -525,11 +524,12 @@ static void write_raw_image_file(ext2_fi
 				exit(1);
 			}
 		} else {
-			if (inode.i_block[EXT2_IND_BLOCK] ||
+			if ((inode.i_flags & EXT4_EXTENTS_FL) ||
+			    inode.i_block[EXT2_IND_BLOCK] ||
 			    inode.i_block[EXT2_DIND_BLOCK] ||
 			    inode.i_block[EXT2_TIND_BLOCK]) {
 				retval = ext2fs_block_iterate2(fs,
-				       ino, 0, block_buf,
+				       ino, BLOCK_FLAG_READ_ONLY, block_buf,
 				       process_file_block, &pb);
 				if (retval) {
 					com_err(program_name, retval,
diff -Nurp e2fsprogs-1.40.7/misc/fsck.c e2fsprogs/misc/fsck.c
--- e2fsprogs-1.40.7/misc/fsck.c	2008-02-28 02:08:21.000000000 +0000
+++ e2fsprogs/misc/fsck.c	2008-02-29 11:23:57.000000000 +0000
@@ -364,7 +364,7 @@ static void load_fs_info(const char *fil
 	
 	fclose(f);
 	
-	if (old_fstab && filesys_info) {
+	if (old_fstab) {
 		fputs(_("\007\007\007"
 		"WARNING: Your /etc/fstab does not contain the fsck passno\n"
 		"	field.  I will kludge around things for you, but you\n"
diff -Nurp e2fsprogs-1.40.7/misc/Makefile.in e2fsprogs/misc/Makefile.in
--- e2fsprogs-1.40.7/misc/Makefile.in	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/misc/Makefile.in	2008-02-29 11:23:57.000000000 +0000
@@ -80,7 +80,7 @@ prof_err.c prof_err.h: $(srcdir)/../e2fs
 
 default_profile.c: $(srcdir)/mke2fs.conf $(srcdir)/profile-to-c.awk
 	@echo "	PROFILE_TO_C mke2fs.conf"
-	$(AWK) -f $(srcdir)/profile-to-c.awk < $(srcdir)/mke2fs.conf \
+	@$(AWK) -f $(srcdir)/profile-to-c.awk < $(srcdir)/mke2fs.conf \
 		>  default_profile.c
 profile.o:
 	@echo "	CC $<"
diff -Nurp e2fsprogs-1.40.7/misc/mke2fs.8.in e2fsprogs/misc/mke2fs.8.in
--- e2fsprogs-1.40.7/misc/mke2fs.8.in	2008-02-28 15:22:48.000000000 +0000
+++ e2fsprogs/misc/mke2fs.8.in	2008-02-29 11:23:57.000000000 +0000
@@ -415,10 +415,6 @@ prefix the feature name with a  caret ('
 pseudo-filesystem feature "none" will clear all filesystem features.
 .RS 1.2i
 .TP
-.B large_file
-Filesystem can contain files that are greater than 2GB.  (Modern kernels
-set this feature automatically when a file > 2GB is created.)
-.TP
 .B dir_index
 Use hashed b-trees to speed up lookups in large directories.
 .TP
diff -Nurp e2fsprogs-1.40.7/misc/mke2fs.c e2fsprogs/misc/mke2fs.c
--- e2fsprogs-1.40.7/misc/mke2fs.c	2008-02-29 02:05:49.000000000 +0000
+++ e2fsprogs/misc/mke2fs.c	2008-02-29 11:23:57.000000000 +0000
@@ -94,14 +94,13 @@ int linux_version_code = 0;
 
 static void usage(void)
 {
-	fprintf(stderr, _("Usage: %s [-c|-l filename] [-b block-size] "
+	fprintf(stderr, _("Usage: %s [-c|-t|-l filename] [-b block-size] "
 	"[-f fragment-size]\n\t[-i bytes-per-inode] [-I inode-size] "
-	"[-J journal-options]\n"
+	"[-j] [-J journal-options]\n"
 	"\t[-N number-of-inodes] [-m reserved-blocks-percentage] "
 	"[-o creator-os]\n\t[-g blocks-per-group] [-L volume-label] "
 	"[-M last-mounted-directory]\n\t[-O feature[,...]] "
-	"[-r fs-revision] [-E extended-option[,...]]\n"
-	"\t[-T fs-type] [-jnqvFSV] device [blocks-count]\n"),
+	"[-r fs-revision] [-E extended-option[,...]] [-qvSV]\n\tdevice [blocks-count]\n"),
 		program_name);
 	exit(1);
 }
@@ -535,7 +534,10 @@ static void create_lost_and_found(ext2_f
 	}
 	
 	for (i=1; i < EXT2_NDIR_BLOCKS; i++) {
-		if ((lpf_size += fs->blocksize) >= 16*1024)
+		/* Ensure that lost+found is at least 2 blocks, so we always
+		 * test large empty blocks for big-block filesystems.  */
+		if ((lpf_size += fs->blocksize) >= 16*1024 &&
+		    lpf_size >= 2 * fs->blocksize)
 			break;
 		retval = ext2fs_expand_dir(fs, ino);
 		if (retval) {
@@ -694,8 +696,7 @@ static void show_stats(ext2_filsys fs)
 	if (s->s_reserved_gdt_blocks)
 		printf(_("Maximum filesystem blocks=%lu\n"),
 		       (s->s_reserved_gdt_blocks + fs->desc_blocks) *
-		       (fs->blocksize / sizeof(struct ext2_group_desc)) *
-		       s->s_blocks_per_group);
+		       EXT2_DESC_PER_BLOCK(s) * s->s_blocks_per_group);
 	if (fs->group_desc_count > 1)
 		printf(_("%u block groups\n"), fs->group_desc_count);
 	else
@@ -741,8 +742,6 @@ static int set_os(struct ext2_super_bloc
 		sb->s_creator_os = EXT2_OS_LINUX;
 	else if (strcasecmp(os, "GNU") == 0 || strcasecmp(os, "hurd") == 0)
 		sb->s_creator_os = EXT2_OS_HURD;
-	else if (strcasecmp(os, "masix") == 0)
-		sb->s_creator_os = EXT2_OS_MASIX;
 	else if (strcasecmp(os, "freebsd") == 0)
 		sb->s_creator_os = EXT2_OS_FREEBSD;
 	else if (strcasecmp(os, "lites") == 0)
@@ -844,7 +843,7 @@ static void parse_extended_opts(struct e
 			bpg = param->s_blocks_per_group;
 			if (!bpg)
 				bpg = blocksize * 8;
-			gdpb = blocksize / sizeof(struct ext2_group_desc);
+			gdpb = EXT2_DESC_PER_BLOCK(param);
 			group_desc_count = 
 				ext2fs_div_ceil(param->s_blocks_count, bpg);
 			desc_blocks = (group_desc_count +
@@ -898,19 +897,17 @@ static void parse_extended_opts(struct e
 }	
 
 static __u32 ok_features[3] = {
-	/* Compat */
 	EXT3_FEATURE_COMPAT_HAS_JOURNAL |
 		EXT2_FEATURE_COMPAT_RESIZE_INODE |
 		EXT2_FEATURE_COMPAT_DIR_INDEX |
 		EXT2_FEATURE_COMPAT_LAZY_BG |
-		EXT2_FEATURE_COMPAT_EXT_ATTR,
-	/* Incompat */
-	EXT2_FEATURE_INCOMPAT_FILETYPE|
+		EXT2_FEATURE_COMPAT_EXT_ATTR,	/* Compat */
+	EXT2_FEATURE_INCOMPAT_FILETYPE|		/* Incompat */
+		EXT3_FEATURE_INCOMPAT_EXTENTS|
 		EXT3_FEATURE_INCOMPAT_JOURNAL_DEV|
-		EXT2_FEATURE_INCOMPAT_META_BG,
-	/* R/O compat */
-	EXT2_FEATURE_RO_COMPAT_LARGE_FILE|
-		EXT2_FEATURE_RO_COMPAT_SPARSE_SUPER
+		EXT2_FEATURE_INCOMPAT_META_BG|
+		EXT4_FEATURE_INCOMPAT_FLEX_BG,
+	EXT2_FEATURE_RO_COMPAT_SPARSE_SUPER	/* R/O compat */
 };
 
 
@@ -1562,7 +1559,7 @@ int main (int argc, char *argv[])
 	errcode_t	retval = 0;
 	ext2_filsys	fs;
 	badblocks_list	bb_list = 0;
-	int		journal_blocks;
+	unsigned int	journal_blocks;
 	unsigned int	i;
 	int		val;
 	io_manager	io_ptr;
@@ -1773,7 +1770,7 @@ int main (int argc, char *argv[])
 			goto no_journal;
 		}
 		if (!quiet) {
-			printf(_("Creating journal (%d blocks): "),
+			printf(_("Creating journal (%u blocks): "),
 			       journal_blocks);
 			fflush(stdout);
 		}
diff -Nurp e2fsprogs-1.40.7/misc/tune2fs.8.in e2fsprogs/misc/tune2fs.8.in
--- e2fsprogs-1.40.7/misc/tune2fs.8.in	2008-02-29 02:25:28.000000000 +0000
+++ e2fsprogs/misc/tune2fs.8.in	2008-02-29 11:23:57.000000000 +0000
@@ -415,10 +415,6 @@ The following filesystem features can be
 .BR tune2fs :
 .RS 1.2i
 .TP
-.B large_file
-Filesystem can contain files that are greater than 2GB.  (Modern kernels
-set this feature automatically when a file > 2GB is created.)
-.TP
 .B dir_index
 Use hashed b-trees to speed up lookups in large directories.
 .TP
@@ -433,19 +429,12 @@ option.
 .TP
 .B sparse_super
 Limit the number of backup superblocks to save space on large filesystems.
-.TP
-.B resize_inode
-Reserve space so the block group descriptor table may grow in the
-future.
-.B Tune2fs 
-only supports clearing this filesystem feature.
 .RE
 .IP
 After setting or clearing 
-.BR sparse_super ,
-.BR filetype ,
-or
-.B resize_inode
+.B sparse_super
+and 
+.B filetype 
 filesystem features,
 .BR e2fsck (8)
 must be run on the filesystem to return the filesystem to a consistent state.
@@ -457,10 +446,30 @@ if necessary.  After setting the 
 feature, 
 .B e2fsck -D
 can be run to convert existing directories to the hashed B-tree format.
+.IP
+.B Warning:
+Linux kernels before 2.0.39 and many 2.1 series kernels do not support
+the filesystems that use any of these features.
+Enabling certain filesystem features may prevent the filesystem from
+being mounted by kernels which do not support those features.
 .TP
 .BI \-r " reserved-blocks-count"
 Set the number of reserved filesystem blocks.
 .TP
+.BR \-s " [" 0 | 1 ]
+Turn the sparse super feature off or on.  Turning this feature on
+saves space on really big filesystems.  This is the same as using the
+.B "\-O sparse_super"
+option.
+.IP
+.B Warning:
+Linux kernels before 2.0.39 do not support this feature.  Neither do
+all Linux 2.1 kernels; please don't use this unless you know what you're
+doing!  You need to run
+.BR e2fsck (8)
+on the filesystem after changing this feature in order to have a valid
+filesystem.
+.TP
 .BI \-T " time-last-checked"
 Set the time the filesystem was last checked using
 .BR  e2fsck .
@@ -538,7 +547,6 @@ Time-dependent checking was added by Uwe
 is part of the e2fsprogs package and is available from 
 http://e2fsprogs.sourceforge.net.
 .SH SEE ALSO
-.BR debugfs (8),
 .BR dumpe2fs (8),
 .BR e2fsck (8),
 .BR mke2fs (8)
diff -Nurp e2fsprogs-1.40.7/misc/tune2fs.c e2fsprogs/misc/tune2fs.c
--- e2fsprogs-1.40.7/misc/tune2fs.c	2008-02-29 02:25:38.000000000 +0000
+++ e2fsprogs/misc/tune2fs.c	2008-02-29 11:23:57.000000000 +0000
@@ -97,11 +97,10 @@ static void usage(void)
 	fprintf(stderr,
 		_("Usage: %s [-c max_mounts_count] [-e errors_behavior] "
 		  "[-g group]\n"
-		  "\t[-i interval[d|m|w]] [-j] [-J journal_options] [-l]\n"
-		  "\t[-m reserved_blocks_percent] "
-		  "[-o [^]mount_options[,...]] \n"
-		  "\t[-r reserved_blocks_count] [-u user] [-C mount_count] "
-		  "[-L volume_label]\n"
+		  "\t[-i interval[d|m|w]] [-j] [-J journal_options]\n"
+		  "\t[-l] [-s sparse_flag] [-m reserved_blocks_percent]\n"
+		  "\t[-o [^]mount_options[,...]] [-r reserved_blocks_count]\n"
+		  "\t[-u user] [-C mount_count] [-L volume_label]\n"
 		  "\t[-M last_mounted_dir] [-O [^]feature[,...]]\n"
 		  "\t[-E extended-option[,...]] [-T last_check_time] "
 		  "[-U UUID] device\n"), program_name);
@@ -109,25 +108,12 @@ static void usage(void)
 }
 
 static __u32 ok_features[3] = {
-	/* Compat */
 	EXT3_FEATURE_COMPAT_HAS_JOURNAL |
-		EXT2_FEATURE_COMPAT_DIR_INDEX,
-	/* Incompat */
-	EXT2_FEATURE_INCOMPAT_FILETYPE,
-	/* R/O compat */
-	EXT2_FEATURE_RO_COMPAT_LARGE_FILE |
-		EXT2_FEATURE_RO_COMPAT_SPARSE_SUPER
-};
-
-static __u32 clear_ok_features[3] = {
-	/* Compat */
-	EXT3_FEATURE_COMPAT_HAS_JOURNAL |
-		EXT2_FEATURE_COMPAT_RESIZE_INODE |
-		EXT2_FEATURE_COMPAT_DIR_INDEX,
-	/* Incompat */
-	EXT2_FEATURE_INCOMPAT_FILETYPE,
-	/* R/O compat */
-	EXT2_FEATURE_RO_COMPAT_LARGE_FILE
+		EXT2_FEATURE_COMPAT_DIR_INDEX,	/* Compat */
+	EXT2_FEATURE_INCOMPAT_FILETYPE|		/* Incompat */
+		EXT3_FEATURE_INCOMPAT_EXTENTS|
+		EXT4_FEATURE_INCOMPAT_FLEX_BG,
+	EXT2_FEATURE_RO_COMPAT_SPARSE_SUPER	/* R/O compat */
 };
 
 /*
@@ -268,7 +254,8 @@ static void remove_journal_inode(ext2_fi
 				_("while reading bitmaps"));
 			exit(1);
 		}
-		retval = ext2fs_block_iterate(fs, ino, 0, NULL,
+		retval = ext2fs_block_iterate(fs, ino,
+					      BLOCK_FLAG_READ_ONLY, NULL,
 					      release_blocks_proc, NULL);
 		if (retval) {
 			com_err(program_name, retval,
@@ -310,44 +297,47 @@ static void update_mntopts(ext2_filsys f
  */
 static void update_feature_set(ext2_filsys fs, char *features)
 {
+	int sparse, old_sparse, filetype, old_filetype;
+	int journal, old_journal, dxdir, old_dxdir;
+	int flex_bg, old_flex_bg, extents, old_extents;
 	struct ext2_super_block *sb= fs->super;
 	__u32	old_compat, old_incompat, old_ro_compat;
-	__u32		old_features[3];
-	int		type_err;
-	unsigned int	mask_err;
-
-#define FEATURE_ON(type, mask) (!(old_features[(type)] & (mask)) && \
-				((&sb->s_feature_compat)[(type)] & (mask)))
-#define FEATURE_OFF(type, mask) ((old_features[(type)] & (mask)) && \
-				 !((&sb->s_feature_compat)[(type)] & (mask)))
-#define FEATURE_CHANGED(type, mask) ((mask) & \
-		     (old_features[(type)] ^ (&sb->s_feature_compat)[(type)]))
-
-	old_features[E2P_FEATURE_COMPAT] = sb->s_feature_compat;
-	old_features[E2P_FEATURE_INCOMPAT] = sb->s_feature_incompat;
-	old_features[E2P_FEATURE_RO_INCOMPAT] = sb->s_feature_ro_compat;
-
-	if (e2p_edit_feature2(features, &sb->s_feature_compat,
-			      ok_features, clear_ok_features,
-			      &type_err, &mask_err)) {
-		if (!mask_err)
-			fprintf(stderr,
-				_("Invalid filesystem option set: %s\n"),
-				features);
-		else if (type_err & E2P_FEATURE_NEGATE_FLAG)
-			fprintf(stderr, _("Clearing filesystem feature '%s' "
-					  "not supported.\n"),
-				e2p_feature2string(type_err &
-						   E2P_FEATURE_TYPE_MASK,
-						   mask_err));
-		else
-			fprintf(stderr, _("Setting filesystem feature '%s' "
-					  "not supported.\n"),
-				e2p_feature2string(type_err, mask_err));
-		exit(1);
-	}
 
-	if (FEATURE_OFF(E2P_FEATURE_COMPAT, EXT3_FEATURE_COMPAT_HAS_JOURNAL)) {
+	old_compat = sb->s_feature_compat;
+	old_ro_compat = sb->s_feature_ro_compat;
+	old_incompat = sb->s_feature_incompat;
+
+	old_sparse = sb->s_feature_ro_compat &
+		EXT2_FEATURE_RO_COMPAT_SPARSE_SUPER;
+	old_filetype = sb->s_feature_incompat &
+		EXT2_FEATURE_INCOMPAT_FILETYPE;
+	old_extents = sb->s_feature_incompat &
+		EXT3_FEATURE_INCOMPAT_EXTENTS;
+	old_flex_bg = sb->s_feature_incompat &
+		EXT4_FEATURE_INCOMPAT_FLEX_BG;
+	old_journal = sb->s_feature_compat &
+		EXT3_FEATURE_COMPAT_HAS_JOURNAL;
+	old_dxdir = sb->s_feature_compat &
+		EXT2_FEATURE_COMPAT_DIR_INDEX;
+	if (e2p_edit_feature(features, &sb->s_feature_compat,
+			     ok_features)) {
+		fprintf(stderr, _("Invalid filesystem option set: %s\n"),
+			features);
+		exit(1);
+	}
+	sparse = sb->s_feature_ro_compat &
+		EXT2_FEATURE_RO_COMPAT_SPARSE_SUPER;
+	filetype = sb->s_feature_incompat &
+		EXT2_FEATURE_INCOMPAT_FILETYPE;
+	extents = sb->s_feature_incompat &
+		EXT3_FEATURE_INCOMPAT_EXTENTS;
+	flex_bg = sb->s_feature_incompat &
+		EXT4_FEATURE_INCOMPAT_FLEX_BG;
+	journal = sb->s_feature_compat &
+		EXT3_FEATURE_COMPAT_HAS_JOURNAL;
+	dxdir = sb->s_feature_compat &
+		EXT2_FEATURE_COMPAT_DIR_INDEX;
+	if (old_journal && !journal) {
 		if ((mount_flags & EXT2_MF_MOUNTED) &&
 		    !(mount_flags & EXT2_MF_READONLY)) {
 			fputs(_("The has_journal flag may only be "
@@ -370,8 +360,7 @@ static void update_feature_set(ext2_fils
 			remove_journal_device(fs);
 		}
 	}
-
-	if (FEATURE_ON(E2P_FEATURE_COMPAT, EXT3_FEATURE_COMPAT_HAS_JOURNAL)) {
+	if (journal && !old_journal) {
 		/*
 		 * If adding a journal flag, let the create journal
 		 * code below handle creating setting the flag and
@@ -382,34 +371,38 @@ static void update_feature_set(ext2_fils
 			journal_size = -1;
 		sb->s_feature_compat &= ~EXT3_FEATURE_COMPAT_HAS_JOURNAL;
 	}
-
-	if (FEATURE_ON(E2P_FEATURE_COMPAT, EXT2_FEATURE_COMPAT_DIR_INDEX)) {
+	if (old_extents && !extents) {
+		fputs(_("Clearing the extents feature flag not supported.\n"),
+		      stderr);
+		exit(1);
+	}
+	if (dxdir && !old_dxdir) {
 		if (!sb->s_def_hash_version)
 			sb->s_def_hash_version = EXT2_HASH_TEA;
 		if (uuid_is_null((unsigned char *) sb->s_hash_seed))
 			uuid_generate((unsigned char *) sb->s_hash_seed);
 	}
+	if (!flex_bg && old_flex_bg) {
+		if (ext2fs_check_desc(fs)) {
+			fputs(_("Clearing the flex_bg flag would "
+				"cause the the filesystem to be\n"
+				"inconsistent.\n"), stderr);
+			exit(1);
+		}
+	}
 
 	if (sb->s_rev_level == EXT2_GOOD_OLD_REV &&
 	    (sb->s_feature_compat || sb->s_feature_ro_compat ||
 	     sb->s_feature_incompat))
 		ext2fs_update_dynamic_rev(fs);
-
-	if (FEATURE_CHANGED(E2P_FEATURE_RO_INCOMPAT,
-			    EXT2_FEATURE_RO_COMPAT_SPARSE_SUPER) ||
-	    FEATURE_CHANGED(E2P_FEATURE_INCOMPAT,
-			    EXT2_FEATURE_INCOMPAT_FILETYPE) ||
-	    FEATURE_CHANGED(E2P_FEATURE_COMPAT,
-			    EXT2_FEATURE_COMPAT_RESIZE_INODE) ||
-	    FEATURE_OFF(E2P_FEATURE_RO_INCOMPAT,
-			EXT2_FEATURE_RO_COMPAT_LARGE_FILE)) {
+	if ((sparse != old_sparse) ||
+	    (filetype != old_filetype)) {
 		sb->s_state &= ~EXT2_VALID_FS;
 		printf("\n%s\n", _(please_fsck));
 	}
-
-	if ((old_features[E2P_FEATURE_COMPAT] != sb->s_feature_compat) ||
-	    (old_features[E2P_FEATURE_INCOMPAT] != sb->s_feature_incompat) ||
-	    (old_features[E2P_FEATURE_RO_INCOMPAT] != sb->s_feature_ro_compat))
+	if ((old_compat != sb->s_feature_compat) ||
+	    (old_ro_compat != sb->s_feature_ro_compat) ||
+	    (old_incompat != sb->s_feature_incompat))
 		ext2fs_mark_super_dirty(fs);
 }
 
@@ -719,7 +712,7 @@ static void parse_tune2fs_options(int ar
 				r_flag = 1;
 				open_flag = EXT2_FLAG_RW;
 				break;
-			case 's': /* Deprecated */
+			case 's':
 				s_flag = atoi(optarg);
 				open_flag = EXT2_FLAG_RW;
 				break;
@@ -1005,9 +998,19 @@ int main (int argc, char ** argv)
 		}
 	}
 	if (s_flag == 0) {
-		fputs(_("\nClearing the sparse superflag not supported.\n"),
-		      stderr);
-		exit(1);
+		if (!(sb->s_feature_ro_compat &
+		      EXT2_FEATURE_RO_COMPAT_SPARSE_SUPER))
+			fputs(_("\nThe filesystem already has sparse "
+				"superblocks disabled.\n"), stderr);
+		else {
+			sb->s_feature_ro_compat &=
+				~EXT2_FEATURE_RO_COMPAT_SPARSE_SUPER;
+			sb->s_state &= ~EXT2_VALID_FS;
+			fs->flags |= EXT2_FLAG_MASTER_SB_ONLY;
+			ext2fs_mark_super_dirty(fs);
+			printf(_("\nSparse superblock flag cleared.  %s"),
+			       _(please_fsck));
+		}
 	}
 	if (T_flag) {
 		sb->s_lastcheck = last_check_time;
diff -Nurp e2fsprogs-1.40.7/misc/util.c e2fsprogs/misc/util.c
--- e2fsprogs-1.40.7/misc/util.c	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/misc/util.c	2008-02-29 11:23:57.000000000 +0000
@@ -71,8 +71,8 @@ void proceed_question(void)
 	fflush(stderr);
 	fputs(_("Proceed anyway? (y,n) "), stdout);
 	buf[0] = 0;
-	fgets(buf, sizeof(buf), stdin);
-	if (strchr(short_yes, buf[0]) == 0)
+	if (!fgets(buf, sizeof(buf), stdin) ||
+	    strchr(short_yes, buf[0]) == 0)
 		exit(1);
 }
 
@@ -249,7 +249,7 @@ void parse_journal_opts(const char *opts
  * in the filesystem.  For very small filesystems, it is not reasonable to
  * have a journal that fills more than half of the filesystem.
  */
-int figure_journal_size(int size, ext2_filsys fs)
+unsigned int figure_journal_size(int size, ext2_filsys fs)
 {
 	int j_blocks;
 
@@ -269,7 +269,7 @@ int figure_journal_size(int size, ext2_f
 				j_blocks);
 			exit(1);
 		}
-		if (j_blocks > fs->super->s_free_blocks_count / 2) {
+		if ((unsigned) j_blocks > fs->super->s_free_blocks_count / 2) {
 			fputs(_("\nJournal size too big for filesystem.\n"),
 			      stderr);
 			exit(1);
diff -Nurp e2fsprogs-1.40.7/misc/util.h e2fsprogs/misc/util.h
--- e2fsprogs-1.40.7/misc/util.h	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/misc/util.h	2008-02-29 11:23:57.000000000 +0000
@@ -22,5 +22,5 @@ extern void proceed_question(void);
 extern void check_plausibility(const char *device);
 extern void parse_journal_opts(const char *opts);
 extern void check_mount(const char *device, int force, const char *type);
-extern int figure_journal_size(int size, ext2_filsys fs);
+extern unsigned int figure_journal_size(int size, ext2_filsys fs);
 extern void print_check_message(ext2_filsys fs);
Files e2fsprogs-1.40.7/po/ca.gmo and e2fsprogs/po/ca.gmo differ
diff -Nurp e2fsprogs-1.40.7/po/ca.po e2fsprogs/po/ca.po
--- e2fsprogs-1.40.7/po/ca.po	2008-02-29 02:45:59.000000000 +0000
+++ e2fsprogs/po/ca.po	2008-02-29 11:23:57.000000000 +0000
@@ -65,7 +65,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: e2fsprogs 1.40.1\n"
 "Report-Msgid-Bugs-To: tytso@alum.mit.edu\n"
-"POT-Creation-Date: 2008-02-28 21:45-0500\n"
+"POT-Creation-Date: 2008-02-09 23:16-0500\n"
 "PO-Revision-Date: 2007-07-18 17:20+0200\n"
 "Last-Translator: David Planella Molas <david.planella@gmail.com>\n"
 "Language-Team: Catalan <ca@dodds.net>\n"
@@ -73,7 +73,7 @@ msgstr ""
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
 
-#: e2fsck/badblocks.c:22 misc/mke2fs.c:157
+#: e2fsck/badblocks.c:22 misc/mke2fs.c:156
 #, c-format
 msgid "Bad block %u out of range; ignored.\n"
 msgstr "Bloc erroni %u fora dels lmits; s'ignorar.\n"
@@ -87,10 +87,10 @@ msgid "while reading the bad blocks inod
 msgstr "en llegir el node-i de blocs erronis"
 
 #: e2fsck/badblocks.c:71 e2fsck/iscan.c:112 e2fsck/scantest.c:109
-#: e2fsck/unix.c:1010 e2fsck/unix.c:1093 misc/badblocks.c:1025
+#: e2fsck/unix.c:992 e2fsck/unix.c:1075 misc/badblocks.c:1025
 #: misc/badblocks.c:1033 misc/badblocks.c:1047 misc/badblocks.c:1059
-#: misc/dumpe2fs.c:483 misc/e2image.c:571 misc/e2image.c:664
-#: misc/e2image.c:680 misc/mke2fs.c:173 misc/tune2fs.c:916 resize/main.c:296
+#: misc/dumpe2fs.c:400 misc/e2image.c:571 misc/e2image.c:664
+#: misc/e2image.c:680 misc/mke2fs.c:172 misc/tune2fs.c:851 resize/main.c:296
 #, c-format
 msgid "while trying to open %s"
 msgstr "en intentar obrir %s"
@@ -100,15 +100,15 @@ msgstr "en intentar obrir %s"
 msgid "while trying popen '%s'"
 msgstr "en intentar popen en %s"
 
-#: e2fsck/badblocks.c:93 misc/mke2fs.c:180
+#: e2fsck/badblocks.c:93 misc/mke2fs.c:179
 msgid "while reading in list of bad blocks from file"
 msgstr "en llegir la llista de blocs erronis del fitxer"
 
-#: e2fsck/badblocks.c:104
+#: e2fsck/badblocks.c:103
 msgid "while updating bad block inode"
 msgstr "en actualitzar el node-i de block erronis"
 
-#: e2fsck/badblocks.c:130
+#: e2fsck/badblocks.c:129
 #, c-format
 msgid "Warning: illegal block %u found in bad block inode.  Cleared.\n"
 msgstr ""
@@ -458,7 +458,7 @@ msgstr ""
 msgid "internal error: couldn't lookup EA inode record for %u"
 msgstr ""
 
-#: e2fsck/pass1.c:404 e2fsck/pass2.c:770
+#: e2fsck/pass1.c:404 e2fsck/pass2.c:779
 msgid "reading directory block"
 msgstr ""
 
@@ -527,7 +527,7 @@ msgstr ""
 msgid "inode table"
 msgstr ""
 
-#: e2fsck/pass2.c:283
+#: e2fsck/pass2.c:292
 msgid "Pass 2"
 msgstr "Pas 2"
 
@@ -2271,7 +2271,7 @@ msgstr ""
 msgid "         # of inodes with ind/dind/tind blocks: %u/%u/%u\n"
 msgstr ""
 
-#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:941 misc/util.c:151
+#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:876 misc/util.c:151
 #: resize/main.c:237
 #, c-format
 msgid "while determining whether %s is mounted."
@@ -2404,7 +2404,7 @@ msgstr "L'opci -t no est implementad
 msgid "Byte-swapping filesystems not compiled in this version of e2fsck\n"
 msgstr ""
 
-#: e2fsck/unix.c:770 misc/tune2fs.c:504 misc/tune2fs.c:769 misc/tune2fs.c:786
+#: e2fsck/unix.c:770 misc/tune2fs.c:470 misc/tune2fs.c:735 misc/tune2fs.c:752
 #, c-format
 msgid "Unable to resolve '%s'"
 msgstr ""
@@ -2434,38 +2434,38 @@ msgid ""
 "\n"
 msgstr ""
 
-#: e2fsck/unix.c:905
+#: e2fsck/unix.c:904
 #, c-format
 msgid "Error: ext2fs library version out of date!\n"
 msgstr ""
 
-#: e2fsck/unix.c:913
+#: e2fsck/unix.c:912
 msgid "while trying to initialize program"
 msgstr "en intentar inicialitzar el programa"
 
-#: e2fsck/unix.c:927
+#: e2fsck/unix.c:926
 #, c-format
 msgid "\tUsing %s, %s\n"
 msgstr ""
 
-#: e2fsck/unix.c:939
+#: e2fsck/unix.c:938
 msgid "need terminal for interactive repairs"
 msgstr ""
 
-#: e2fsck/unix.c:983
+#: e2fsck/unix.c:978
 #, fuzzy, c-format
 msgid "%s: %s trying backup blocks...\n"
 msgstr "%s: %s fitxer nblocs midadelbloc\n"
 
-#: e2fsck/unix.c:985
+#: e2fsck/unix.c:980
 msgid "Superblock invalid,"
 msgstr ""
 
-#: e2fsck/unix.c:986
+#: e2fsck/unix.c:981
 msgid "Group descriptors look bad..."
 msgstr ""
 
-#: e2fsck/unix.c:1013
+#: e2fsck/unix.c:995
 #, c-format
 msgid ""
 "The filesystem revision is apparently too high for this version of e2fsck.\n"
@@ -2473,147 +2473,142 @@ msgid ""
 "\n"
 msgstr ""
 
-#: e2fsck/unix.c:1019
+#: e2fsck/unix.c:1001
 #, c-format
 msgid "Could this be a zero-length partition?\n"
 msgstr ""
 
-#: e2fsck/unix.c:1021
+#: e2fsck/unix.c:1003
 #, c-format
 msgid "You must have %s access to the filesystem or be root\n"
 msgstr ""
 
-#: e2fsck/unix.c:1026
+#: e2fsck/unix.c:1008
 #, c-format
 msgid "Possibly non-existent or swap device?\n"
 msgstr ""
 
-#: e2fsck/unix.c:1028
+#: e2fsck/unix.c:1010
 #, c-format
 msgid "Filesystem mounted or opened exclusively by another program?\n"
 msgstr ""
 
-#: e2fsck/unix.c:1032
+#: e2fsck/unix.c:1014
 #, c-format
 msgid ""
 "Disk write-protected; use the -n option to do a read-only\n"
 "check of the device.\n"
 msgstr ""
 
-#: e2fsck/unix.c:1096
+#: e2fsck/unix.c:1078
 msgid "Get a newer version of e2fsck!"
 msgstr ""
 
-#: e2fsck/unix.c:1117
+#: e2fsck/unix.c:1099
 #, c-format
 msgid "while checking ext3 journal for %s"
 msgstr ""
 
-#: e2fsck/unix.c:1128
+#: e2fsck/unix.c:1110
 #, c-format
 msgid ""
 "Warning: skipping journal recovery because doing a read-only filesystem "
 "check.\n"
 msgstr ""
 
-#: e2fsck/unix.c:1141
+#: e2fsck/unix.c:1123
 #, c-format
 msgid "unable to set superblock flags on %s\n"
 msgstr ""
 
-#: e2fsck/unix.c:1147
+#: e2fsck/unix.c:1129
 #, c-format
 msgid "while recovering ext3 journal of %s"
 msgstr ""
 
-#: e2fsck/unix.c:1171
-#, c-format
-msgid "%s has unsupported feature(s):"
-msgstr ""
-
-#: e2fsck/unix.c:1187
+#: e2fsck/unix.c:1158
 msgid "Warning: compression support is experimental.\n"
 msgstr ""
 
-#: e2fsck/unix.c:1192
+#: e2fsck/unix.c:1163
 #, c-format
 msgid ""
 "E2fsck not compiled with HTREE support,\n"
 "\tbut filesystem %s has HTREE directories.\n"
 msgstr ""
 
-#: e2fsck/unix.c:1241
+#: e2fsck/unix.c:1212
 #, c-format
 msgid "%s: Filesystem byte order already normalized.\n"
 msgstr ""
 
-#: e2fsck/unix.c:1261
+#: e2fsck/unix.c:1232
 msgid "while reading bad blocks inode"
 msgstr ""
 
-#: e2fsck/unix.c:1263
+#: e2fsck/unix.c:1234
 #, c-format
 msgid "This doesn't bode well, but we'll try to go on...\n"
 msgstr ""
 
-#: e2fsck/unix.c:1289
+#: e2fsck/unix.c:1260
 msgid "Couldn't determine journal size"
 msgstr ""
 
-#: e2fsck/unix.c:1292 misc/mke2fs.c:1776
+#: e2fsck/unix.c:1263 misc/mke2fs.c:1744
 #, c-format
 msgid "Creating journal (%d blocks): "
 msgstr ""
 
-#: e2fsck/unix.c:1299 misc/mke2fs.c:1784
+#: e2fsck/unix.c:1270 misc/mke2fs.c:1752
 msgid ""
 "\n"
 "\twhile trying to create journal"
 msgstr ""
 
-#: e2fsck/unix.c:1302
+#: e2fsck/unix.c:1273
 #, c-format
 msgid " Done.\n"
 msgstr " Fet.\n"
 
-#: e2fsck/unix.c:1303
+#: e2fsck/unix.c:1274
 #, c-format
 msgid ""
 "\n"
 "*** journal has been re-created - filesystem is now ext3 again ***\n"
 msgstr ""
 
-#: e2fsck/unix.c:1310
+#: e2fsck/unix.c:1281
 #, c-format
 msgid "Restarting e2fsck from the beginning...\n"
 msgstr ""
 
-#: e2fsck/unix.c:1314
+#: e2fsck/unix.c:1285
 msgid "while resetting context"
 msgstr "en reiniciar el context"
 
-#: e2fsck/unix.c:1321
+#: e2fsck/unix.c:1292
 #, c-format
 msgid "%s: e2fsck canceled.\n"
 msgstr "%s: s'a cancellat l'e2fsck.\n"
 
-#: e2fsck/unix.c:1326
+#: e2fsck/unix.c:1297
 msgid "aborted"
 msgstr ""
 
-#: e2fsck/unix.c:1338
+#: e2fsck/unix.c:1309
 #, c-format
 msgid ""
 "\n"
 "%s: ***** FILE SYSTEM WAS MODIFIED *****\n"
 msgstr ""
 
-#: e2fsck/unix.c:1341
+#: e2fsck/unix.c:1312
 #, c-format
 msgid "%s: ***** REBOOT LINUX *****\n"
 msgstr ""
 
-#: e2fsck/unix.c:1349
+#: e2fsck/unix.c:1320
 #, c-format
 msgid ""
 "\n"
@@ -2895,7 +2890,7 @@ msgstr ""
 msgid "while trying to determine device size"
 msgstr ""
 
-#: misc/badblocks.c:996 misc/mke2fs.c:1255
+#: misc/badblocks.c:996 misc/mke2fs.c:1223
 #, c-format
 msgid "invalid blocks count - %s"
 msgstr ""
@@ -3054,7 +3049,7 @@ msgstr ""
 msgid "Bad blocks: %u"
 msgstr "Blocs erronis: %u"
 
-#: misc/dumpe2fs.c:274 misc/tune2fs.c:261
+#: misc/dumpe2fs.c:274 misc/tune2fs.c:243
 msgid "while reading journal inode"
 msgstr ""
 
@@ -3062,7 +3057,7 @@ msgstr ""
 msgid "Journal size:             "
 msgstr ""
 
-#: misc/dumpe2fs.c:296 misc/tune2fs.c:183
+#: misc/dumpe2fs.c:296 misc/tune2fs.c:165
 msgid "while reading journal superblock"
 msgstr ""
 
@@ -3087,51 +3082,22 @@ msgstr ""
 msgid "Journal users:            %s\n"
 msgstr ""
 
-#: misc/dumpe2fs.c:337 misc/mke2fs.c:768 misc/tune2fs.c:810
-#, c-format
-msgid "Couldn't allocate memory to parse options!\n"
-msgstr ""
-
-#: misc/dumpe2fs.c:363
-#, fuzzy, c-format
-msgid "Invalid superblock parameter: %s\n"
-msgstr "mida de bloc invlida - %s"
-
-#: misc/dumpe2fs.c:378
-#, fuzzy, c-format
-msgid "Invalid blocksize parameter: %s\n"
-msgstr "mida de bloc invlida - %s"
-
-#: misc/dumpe2fs.c:389
-#, c-format
-msgid ""
-"\n"
-"Bad extended option(s) specified: %s\n"
-"\n"
-"Extended options are separated by commas, and may take an argument which\n"
-"\tis set off by an equals ('=') sign.\n"
-"\n"
-"Valid extended options are:\n"
-"\tsuperblock=<superblock number>\n"
-"\tblocksize=<blocksize>\n"
-msgstr ""
-
-#: misc/dumpe2fs.c:449 misc/mke2fs.c:1199
+#: misc/dumpe2fs.c:376 misc/mke2fs.c:1167
 #, c-format
 msgid "\tUsing %s\n"
 msgstr ""
 
-#: misc/dumpe2fs.c:485 misc/e2image.c:666 misc/tune2fs.c:919 resize/main.c:298
+#: misc/dumpe2fs.c:402 misc/e2image.c:666 misc/tune2fs.c:854 resize/main.c:298
 #, c-format
 msgid "Couldn't find valid filesystem superblock.\n"
 msgstr ""
 
-#: misc/dumpe2fs.c:496
+#: misc/dumpe2fs.c:413
 #, c-format
 msgid "Note: This is a byte-swapped filesystem\n"
 msgstr ""
 
-#: misc/dumpe2fs.c:515
+#: misc/dumpe2fs.c:432
 #, c-format
 msgid ""
 "\n"
@@ -3188,7 +3154,7 @@ msgstr ""
 msgid "e2label: not an ext2 filesystem\n"
 msgstr ""
 
-#: misc/e2label.c:96 misc/tune2fs.c:1025
+#: misc/e2label.c:96 misc/tune2fs.c:970
 #, c-format
 msgid "Warning: label too long, truncating.\n"
 msgstr "Avs: l'etiqueta s massa llarga, es truncar.\n"
@@ -3203,7 +3169,7 @@ msgstr ""
 msgid "e2label: error writing superblock\n"
 msgstr "e2lable: s'ha produt un error en escriure el superbloc\n"
 
-#: misc/e2label.c:116 misc/tune2fs.c:496
+#: misc/e2label.c:116 misc/tune2fs.c:462
 #, c-format
 msgid "Usage: e2label device [newlabel]\n"
 msgstr "Forma d's: e2label dispositiu [etiquetanova]\n"
@@ -3282,22 +3248,22 @@ msgstr ""
 msgid "Checking all file systems.\n"
 msgstr ""
 
-#: misc/fsck.c:1046
+#: misc/fsck.c:1041
 #, c-format
 msgid "--waiting-- (pass %d)\n"
 msgstr ""
 
-#: misc/fsck.c:1066
+#: misc/fsck.c:1061
 msgid ""
-"Usage: fsck [-AMNPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
+"Usage: fsck [-ANPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
 msgstr ""
 
-#: misc/fsck.c:1108
+#: misc/fsck.c:1103
 #, c-format
 msgid "%s: too many devices\n"
 msgstr "%s: s'han especificat massa dispositius\n"
 
-#: misc/fsck.c:1141 misc/fsck.c:1227
+#: misc/fsck.c:1136 misc/fsck.c:1222
 #, c-format
 msgid "%s: too many arguments\n"
 msgstr "%s: s'han especificat massa arguments\n"
@@ -3320,43 +3286,43 @@ msgstr "En llegir la versi a %s"
 #: misc/mke2fs.c:97
 #, c-format
 msgid ""
-"Usage: %s [-c|-l filename] [-b block-size] [-f fragment-size]\n"
-"\t[-i bytes-per-inode] [-I inode-size] [-J journal-options]\n"
+"Usage: %s [-c|-t|-l filename] [-b block-size] [-f fragment-size]\n"
+"\t[-i bytes-per-inode] [-I inode-size] [-j] [-J journal-options]\n"
 "\t[-N number-of-inodes] [-m reserved-blocks-percentage] [-o creator-os]\n"
 "\t[-g blocks-per-group] [-L volume-label] [-M last-mounted-directory]\n"
-"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]]\n"
-"\t[-T fs-type] [-jnqvFSV] device [blocks-count]\n"
+"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]] [-qvSV]\n"
+"\tdevice [blocks-count]\n"
 msgstr ""
 
-#: misc/mke2fs.c:198
+#: misc/mke2fs.c:197
 #, c-format
 msgid "Running command: %s\n"
 msgstr "S'est executant l'ordre: %s\n"
 
-#: misc/mke2fs.c:202
+#: misc/mke2fs.c:201
 #, c-format
 msgid "while trying to run '%s'"
 msgstr "en intentar executar %s"
 
-#: misc/mke2fs.c:209
+#: misc/mke2fs.c:208
 msgid "while processing list of bad blocks from program"
 msgstr "en processar la llista de blocs erronis des del programa"
 
-#: misc/mke2fs.c:236
+#: misc/mke2fs.c:235
 #, c-format
 msgid "Block %d in primary superblock/group descriptor area bad.\n"
 msgstr ""
 
-#: misc/mke2fs.c:238
+#: misc/mke2fs.c:237
 #, c-format
 msgid "Blocks %u through %u must be good in order to build a filesystem.\n"
 msgstr ""
 
-#: misc/mke2fs.c:241
+#: misc/mke2fs.c:240
 msgid "Aborting....\n"
 msgstr "S'est interrompent...\n"
 
-#: misc/mke2fs.c:261
+#: misc/mke2fs.c:260
 #, c-format
 msgid ""
 "Warning: the backup superblock/group descriptors at block %u contain\n"
@@ -3364,315 +3330,305 @@ msgid ""
 "\n"
 msgstr ""
 
-#: misc/mke2fs.c:279
+#: misc/mke2fs.c:278
 msgid "while marking bad blocks as used"
 msgstr "en marcar els blocs erronis com a utilitzats"
 
-#: misc/mke2fs.c:337
+#: misc/mke2fs.c:336
 msgid "done                            \n"
 msgstr "fet                            \n"
 
-#: misc/mke2fs.c:372
+#: misc/mke2fs.c:371
 msgid "while allocating zeroizing buffer"
 msgstr ""
 
-#: misc/mke2fs.c:414
+#: misc/mke2fs.c:413
 msgid "Writing inode tables: "
 msgstr ""
 
-#: misc/mke2fs.c:431
+#: misc/mke2fs.c:430
 #, c-format
 msgid ""
 "\n"
 "Could not write %d blocks in inode table starting at %u: %s\n"
 msgstr ""
 
-#: misc/mke2fs.c:487
+#: misc/mke2fs.c:486
 msgid "while creating root dir"
 msgstr "en crear el directori arrel"
 
-#: misc/mke2fs.c:494
+#: misc/mke2fs.c:493
 msgid "while reading root inode"
 msgstr ""
 
-#: misc/mke2fs.c:508
+#: misc/mke2fs.c:507
 msgid "while setting root inode ownership"
 msgstr ""
 
-#: misc/mke2fs.c:526
+#: misc/mke2fs.c:525
 msgid "while creating /lost+found"
 msgstr ""
 
-#: misc/mke2fs.c:533
+#: misc/mke2fs.c:532
 msgid "while looking up /lost+found"
 msgstr ""
 
-#: misc/mke2fs.c:543
+#: misc/mke2fs.c:542
 msgid "while expanding /lost+found"
 msgstr ""
 
-#: misc/mke2fs.c:559
+#: misc/mke2fs.c:558
 msgid "while setting bad block inode"
 msgstr ""
 
-#: misc/mke2fs.c:591
+#: misc/mke2fs.c:590
 #, c-format
 msgid "Out of memory erasing sectors %d-%d\n"
 msgstr ""
 
-#: misc/mke2fs.c:601
+#: misc/mke2fs.c:600
 #, c-format
 msgid "Warning: could not read block 0: %s\n"
 msgstr "Avs: no s'ha pogut llegir el bloc 0: %s\n"
 
-#: misc/mke2fs.c:617
+#: misc/mke2fs.c:616
 #, c-format
 msgid "Warning: could not erase sector %d: %s\n"
 msgstr "Avs: no s'ha pogut esborrar el sector %d: %s\n"
 
-#: misc/mke2fs.c:633
+#: misc/mke2fs.c:632
 msgid "while initializing journal superblock"
 msgstr ""
 
-#: misc/mke2fs.c:639
+#: misc/mke2fs.c:638
 msgid "Zeroing journal device: "
 msgstr ""
 
-#: misc/mke2fs.c:646
+#: misc/mke2fs.c:645
 #, c-format
 msgid "while zeroing journal device (block %u, count %d)"
 msgstr ""
 
-#: misc/mke2fs.c:657
+#: misc/mke2fs.c:656
 msgid "while writing journal superblock"
 msgstr ""
 
-#: misc/mke2fs.c:673
+#: misc/mke2fs.c:672
 #, c-format
 msgid ""
 "warning: %u blocks unused.\n"
 "\n"
 msgstr ""
 
-#: misc/mke2fs.c:678
+#: misc/mke2fs.c:677
 #, c-format
 msgid "Filesystem label=%s\n"
 msgstr "Etiqueta del sistema de fitxers=%s\n"
 
-#: misc/mke2fs.c:679
+#: misc/mke2fs.c:678
 msgid "OS type: "
 msgstr "Tipus de sistema operatiu: "
 
-#: misc/mke2fs.c:684
+#: misc/mke2fs.c:683
 #, c-format
 msgid "Block size=%u (log=%u)\n"
 msgstr ""
 
-#: misc/mke2fs.c:686
+#: misc/mke2fs.c:685
 #, c-format
 msgid "Fragment size=%u (log=%u)\n"
 msgstr ""
 
-#: misc/mke2fs.c:688
+#: misc/mke2fs.c:687
 #, c-format
 msgid "%u inodes, %u blocks\n"
 msgstr ""
 
-#: misc/mke2fs.c:690
+#: misc/mke2fs.c:689
 #, c-format
 msgid "%u blocks (%2.2f%%) reserved for the super user\n"
 msgstr "%u blocs (%2.2f%%) reservats per al superusuari\n"
 
-#: misc/mke2fs.c:693
+#: misc/mke2fs.c:692
 #, c-format
 msgid "First data block=%u\n"
 msgstr "Bloc de dades inicial=%u\n"
 
-#: misc/mke2fs.c:695
+#: misc/mke2fs.c:694
 #, c-format
 msgid "Maximum filesystem blocks=%lu\n"
 msgstr ""
 
-#: misc/mke2fs.c:700
+#: misc/mke2fs.c:699
 #, c-format
 msgid "%u block groups\n"
 msgstr ""
 
-#: misc/mke2fs.c:702
+#: misc/mke2fs.c:701
 #, c-format
 msgid "%u block group\n"
 msgstr ""
 
-#: misc/mke2fs.c:703
+#: misc/mke2fs.c:702
 #, c-format
 msgid "%u blocks per group, %u fragments per group\n"
 msgstr "%u blocs per grup, %u fragments per grup\n"
 
-#: misc/mke2fs.c:705
+#: misc/mke2fs.c:704
 #, c-format
 msgid "%u inodes per group\n"
 msgstr "%u nodes-i per grup\n"
 
-#: misc/mke2fs.c:712
+#: misc/mke2fs.c:711
 #, c-format
 msgid "Superblock backups stored on blocks: "
 msgstr ""
 
-#: misc/mke2fs.c:793
+#: misc/mke2fs.c:767 misc/tune2fs.c:776
 #, c-format
-msgid "Invalid stride parameter: %s\n"
+msgid "Couldn't allocate memory to parse options!\n"
 msgstr ""
 
-#: misc/mke2fs.c:808
+#: misc/mke2fs.c:791
 #, c-format
-msgid "Invalid stripe-width parameter: %s\n"
+msgid "Invalid stride parameter: %s\n"
 msgstr ""
 
-#: misc/mke2fs.c:830
+#: misc/mke2fs.c:812
 #, c-format
 msgid "Invalid resize parameter: %s\n"
 msgstr ""
 
-#: misc/mke2fs.c:837
+#: misc/mke2fs.c:819
 #, c-format
 msgid "The resize maximum must be greater than the filesystem size.\n"
 msgstr ""
 
-#: misc/mke2fs.c:861
+#: misc/mke2fs.c:843
 #, c-format
 msgid "On-line resizing not supported with revision 0 filesystems\n"
 msgstr ""
 
-#: misc/mke2fs.c:878
+#: misc/mke2fs.c:858
 #, c-format
 msgid ""
 "\n"
-"Bad option(s) specified: %s\n"
+"Bad options specified.\n"
 "\n"
 "Extended options are separated by commas, and may take an argument which\n"
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk data chunk in blocks>\n"
-"\tstripe-width=<RAID stride * data disks in blocks>\n"
+"\tstride=<stride length in blocks>\n"
 "\tresize=<resize maximum size in blocks>\n"
-"\n"
 "\ttest_fs\n"
 msgstr ""
 
-#: misc/mke2fs.c:893
-#, c-format
-msgid ""
-"\n"
-"Warning: RAID stripe-width %u not an even multiple of stride %u.\n"
-"\n"
-msgstr ""
-
-#: misc/mke2fs.c:920
+#: misc/mke2fs.c:888
 #, c-format
 msgid ""
 "Syntax error in mke2fs config file (%s, line #%d)\n"
 "\t%s\n"
 msgstr ""
 
-#: misc/mke2fs.c:933 misc/tune2fs.c:335
+#: misc/mke2fs.c:901 misc/tune2fs.c:314
 #, c-format
 msgid "Invalid filesystem option set: %s\n"
 msgstr ""
 
-#: misc/mke2fs.c:1040
+#: misc/mke2fs.c:1008
 #, c-format
 msgid "invalid block size - %s"
 msgstr "mida de bloc invlida - %s"
 
-#: misc/mke2fs.c:1044
+#: misc/mke2fs.c:1012
 #, c-format
 msgid "Warning: blocksize %d not usable on most systems.\n"
 msgstr ""
 
-#: misc/mke2fs.c:1061
+#: misc/mke2fs.c:1029
 #, c-format
 msgid "invalid fragment size - %s"
 msgstr "mida de fragment invlida - %s"
 
-#: misc/mke2fs.c:1067
+#: misc/mke2fs.c:1035
 #, c-format
 msgid "Warning: fragments not supported.  Ignoring -f option\n"
 msgstr ""
 
-#: misc/mke2fs.c:1074
+#: misc/mke2fs.c:1042
 msgid "Illegal number for blocks per group"
 msgstr ""
 
-#: misc/mke2fs.c:1079
+#: misc/mke2fs.c:1047
 msgid "blocks per group must be multiple of 8"
 msgstr ""
 
-#: misc/mke2fs.c:1089
+#: misc/mke2fs.c:1057
 #, c-format
 msgid "invalid inode ratio %s (min %d/max %d)"
 msgstr ""
 
-#: misc/mke2fs.c:1106
+#: misc/mke2fs.c:1074
 msgid "in malloc for bad_blocks_filename"
 msgstr ""
 
-#: misc/mke2fs.c:1115
+#: misc/mke2fs.c:1083
 #, c-format
 msgid "invalid reserved blocks percent - %s"
 msgstr ""
 
-#: misc/mke2fs.c:1133
+#: misc/mke2fs.c:1101
 #, c-format
 msgid "bad revision level - %s"
 msgstr ""
 
-#: misc/mke2fs.c:1145
+#: misc/mke2fs.c:1113
 #, c-format
 msgid "invalid inode size - %s"
 msgstr ""
 
-#: misc/mke2fs.c:1165
+#: misc/mke2fs.c:1133
 #, c-format
 msgid "bad num inodes - %s"
 msgstr ""
 
-#: misc/mke2fs.c:1223 misc/mke2fs.c:1745
+#: misc/mke2fs.c:1191 misc/mke2fs.c:1713
 #, c-format
 msgid "while trying to open journal device %s\n"
 msgstr ""
 
-#: misc/mke2fs.c:1229
+#: misc/mke2fs.c:1197
 #, c-format
 msgid "Journal dev blocksize (%d) smaller than minimum blocksize %d\n"
 msgstr ""
 
-#: misc/mke2fs.c:1243
+#: misc/mke2fs.c:1211
 #, c-format
 msgid "%d-byte blocks too big for system (max %d)"
 msgstr ""
 
-#: misc/mke2fs.c:1247
+#: misc/mke2fs.c:1215
 #, c-format
 msgid ""
 "Warning: %d-byte blocks too big for system (max %d), forced to continue\n"
 msgstr ""
 
-#: misc/mke2fs.c:1265
+#: misc/mke2fs.c:1233
 msgid "filesystem"
 msgstr "sistema de fitxers"
 
-#: misc/mke2fs.c:1288 resize/main.c:332
+#: misc/mke2fs.c:1256 resize/main.c:332
 msgid "while trying to determine filesystem size"
 msgstr "en intentar determinar la mida del sistema de fitxers"
 
-#: misc/mke2fs.c:1294
+#: misc/mke2fs.c:1262
 msgid ""
 "Couldn't determine device size; you must specify\n"
 "the size of the filesystem\n"
 msgstr ""
 
-#: misc/mke2fs.c:1301
+#: misc/mke2fs.c:1269
 msgid ""
 "Device size reported to be zero.  Invalid partition specified, or\n"
 "\tpartition table wasn't reread after running fdisk, due to\n"
@@ -3680,44 +3636,44 @@ msgid ""
 "\tto re-read your partition table.\n"
 msgstr ""
 
-#: misc/mke2fs.c:1319
+#: misc/mke2fs.c:1287
 msgid "Filesystem larger than apparent device size."
 msgstr ""
 
-#: misc/mke2fs.c:1367
+#: misc/mke2fs.c:1335
 #, c-format
 msgid "Filesystem features not supported with revision 0 filesystems\n"
 msgstr ""
 
-#: misc/mke2fs.c:1374
+#: misc/mke2fs.c:1342
 #, c-format
 msgid "Sparse superblocks not supported with revision 0 filesystems\n"
 msgstr ""
 
-#: misc/mke2fs.c:1386
+#: misc/mke2fs.c:1354
 #, c-format
 msgid "Journals not supported with revision 0 filesystems\n"
 msgstr ""
 
-#: misc/mke2fs.c:1412
+#: misc/mke2fs.c:1380
 msgid "while trying to determine hardware sector size"
 msgstr "en intentar determinar la mida del sector del maquinari"
 
-#: misc/mke2fs.c:1464
+#: misc/mke2fs.c:1432
 msgid "reserved online resize blocks not supported on non-sparse filesystem"
 msgstr ""
 
-#: misc/mke2fs.c:1473
+#: misc/mke2fs.c:1441
 msgid "blocks per group count out of range"
 msgstr ""
 
-#: misc/mke2fs.c:1480
+#: misc/mke2fs.c:1448
 msgid ""
 "Filesystem too large.  No more than 2**31-1 blocks\n"
 "\t (8TB using a blocksize of 4k) are currently supported."
 msgstr ""
 
-#: misc/mke2fs.c:1487
+#: misc/mke2fs.c:1455
 #, c-format
 msgid ""
 "\n"
@@ -3726,27 +3682,27 @@ msgid ""
 "\n"
 msgstr ""
 
-#: misc/mke2fs.c:1504
+#: misc/mke2fs.c:1472
 #, c-format
 msgid "invalid inode size %d (min %d/max %d)"
 msgstr ""
 
-#: misc/mke2fs.c:1510
+#: misc/mke2fs.c:1478
 #, c-format
 msgid "Warning: %d-byte inodes not usable on older systems\n"
 msgstr ""
 
-#: misc/mke2fs.c:1522
+#: misc/mke2fs.c:1490
 #, c-format
 msgid "too many inodes (%llu), raise inode ratio?"
 msgstr ""
 
-#: misc/mke2fs.c:1527
+#: misc/mke2fs.c:1495
 #, c-format
 msgid "too many inodes (%llu), specify < 2^32 inodes"
 msgstr ""
 
-#: misc/mke2fs.c:1542
+#: misc/mke2fs.c:1510
 #, c-format
 msgid ""
 "inode_size (%u) * inodes_count (%u) too big for a\n"
@@ -3754,62 +3710,62 @@ msgid ""
 "\tor lower inode count (-N).\n"
 msgstr ""
 
-#: misc/mke2fs.c:1591
+#: misc/mke2fs.c:1559
 msgid "while setting up superblock"
 msgstr ""
 
-#: misc/mke2fs.c:1628
+#: misc/mke2fs.c:1596
 #, c-format
 msgid "unknown os - %s"
 msgstr "sistema operatiu desconegut - %s"
 
-#: misc/mke2fs.c:1682
+#: misc/mke2fs.c:1650
 msgid "while trying to allocate filesystem tables"
 msgstr "en intentar assignar les taules del sistema de fitxers"
 
-#: misc/mke2fs.c:1713
+#: misc/mke2fs.c:1681
 #, c-format
 msgid "while zeroing block %u at end of filesystem"
 msgstr ""
 
-#: misc/mke2fs.c:1727
+#: misc/mke2fs.c:1695
 msgid "while reserving blocks for online resize"
 msgstr ""
 
-#: misc/mke2fs.c:1738 misc/tune2fs.c:433
+#: misc/mke2fs.c:1706 misc/tune2fs.c:399
 msgid "journal"
 msgstr ""
 
-#: misc/mke2fs.c:1750
+#: misc/mke2fs.c:1718
 #, c-format
 msgid "Adding journal to device %s: "
 msgstr ""
 
-#: misc/mke2fs.c:1757
+#: misc/mke2fs.c:1725
 #, c-format
 msgid ""
 "\n"
 "\twhile trying to add journal to device %s"
 msgstr ""
 
-#: misc/mke2fs.c:1762 misc/mke2fs.c:1788 misc/tune2fs.c:461 misc/tune2fs.c:475
+#: misc/mke2fs.c:1730 misc/mke2fs.c:1756 misc/tune2fs.c:427 misc/tune2fs.c:441
 #, c-format
 msgid "done\n"
 msgstr ""
 
-#: misc/mke2fs.c:1793
+#: misc/mke2fs.c:1761
 #, c-format
 msgid "Writing superblocks and filesystem accounting information: "
 msgstr ""
 
-#: misc/mke2fs.c:1798
+#: misc/mke2fs.c:1766
 #, c-format
 msgid ""
 "\n"
 "Warning, had trouble writing out superblocks."
 msgstr ""
 
-#: misc/mke2fs.c:1801
+#: misc/mke2fs.c:1769
 #, c-format
 msgid ""
 "done\n"
@@ -3823,175 +3779,156 @@ msgstr ""
 msgid "Usage: mklost+found\n"
 msgstr "Forma d's: mklost+found\n"
 
-#: misc/tune2fs.c:91
+#: misc/tune2fs.c:89
 msgid "Please run e2fsck on the filesystem.\n"
 msgstr ""
 
-#: misc/tune2fs.c:98
+#: misc/tune2fs.c:96
 #, c-format
 msgid ""
 "Usage: %s [-c max_mounts_count] [-e errors_behavior] [-g group]\n"
-"\t[-i interval[d|m|w]] [-j] [-J journal_options] [-l]\n"
-"\t[-m reserved_blocks_percent] [-o [^]mount_options[,...]] \n"
-"\t[-r reserved_blocks_count] [-u user] [-C mount_count] [-L volume_label]\n"
+"\t[-i interval[d|m|w]] [-j] [-J journal_options]\n"
+"\t[-l] [-s sparse_flag] [-m reserved_blocks_percent]\n"
+"\t[-o [^]mount_options[,...]] [-r reserved_blocks_count]\n"
+"\t[-u user] [-C mount_count] [-L volume_label]\n"
 "\t[-M last_mounted_dir] [-O [^]feature[,...]]\n"
 "\t[-E extended-option[,...]] [-T last_check_time] [-U UUID] device\n"
 msgstr ""
 
-#: misc/tune2fs.c:171
+#: misc/tune2fs.c:153
 msgid "while trying to open external journal"
 msgstr ""
 
-#: misc/tune2fs.c:175
+#: misc/tune2fs.c:157
 #, c-format
 msgid "%s is not a journal device.\n"
 msgstr ""
 
-#: misc/tune2fs.c:190
+#: misc/tune2fs.c:172
 msgid "Journal superblock not found!\n"
 msgstr ""
 
-#: misc/tune2fs.c:202
+#: misc/tune2fs.c:184
 msgid "Filesystem's UUID not found on journal device.\n"
 msgstr ""
 
-#: misc/tune2fs.c:223
+#: misc/tune2fs.c:205
 msgid "Journal NOT removed\n"
 msgstr ""
 
-#: misc/tune2fs.c:229
+#: misc/tune2fs.c:211
 msgid "Journal removed\n"
 msgstr ""
 
-#: misc/tune2fs.c:268
+#: misc/tune2fs.c:250
 msgid "while reading bitmaps"
 msgstr ""
 
-#: misc/tune2fs.c:275
+#: misc/tune2fs.c:257
 msgid "while clearing journal inode"
 msgstr ""
 
-#: misc/tune2fs.c:286
+#: misc/tune2fs.c:268
 msgid "while writing journal inode"
 msgstr ""
 
-#: misc/tune2fs.c:301
+#: misc/tune2fs.c:283
 #, c-format
 msgid "Invalid mount option set: %s\n"
 msgstr ""
 
-#: misc/tune2fs.c:338
-#, c-format
-msgid "Clearing filesystem feature '%s' not supported.\n"
-msgstr ""
-
-#: misc/tune2fs.c:344
-#, c-format
-msgid "Setting filesystem feature '%s' not supported.\n"
-msgstr ""
-
-#: misc/tune2fs.c:353
+#: misc/tune2fs.c:329
 msgid ""
 "The has_journal flag may only be cleared when the filesystem is\n"
 "unmounted or mounted read-only.\n"
 msgstr ""
 
-#: misc/tune2fs.c:361
+#: misc/tune2fs.c:337
 msgid ""
 "The needs_recovery flag is set.  Please run e2fsck before clearing\n"
 "the has_journal flag.\n"
 msgstr ""
 
-#: misc/tune2fs.c:428
+#: misc/tune2fs.c:394
 msgid "The filesystem already has a journal.\n"
 msgstr ""
 
-#: misc/tune2fs.c:445
+#: misc/tune2fs.c:411
 #, c-format
 msgid ""
 "\n"
 "\twhile trying to open journal on %s\n"
 msgstr ""
 
-#: misc/tune2fs.c:449
+#: misc/tune2fs.c:415
 #, c-format
 msgid "Creating journal on device %s: "
 msgstr ""
 
-#: misc/tune2fs.c:457
+#: misc/tune2fs.c:423
 #, c-format
 msgid "while adding filesystem to journal on %s"
 msgstr ""
 
-#: misc/tune2fs.c:463
+#: misc/tune2fs.c:429
 msgid "Creating journal inode: "
 msgstr ""
 
-#: misc/tune2fs.c:472
+#: misc/tune2fs.c:438
 msgid ""
 "\n"
 "\twhile trying to create journal file"
 msgstr ""
 
-#: misc/tune2fs.c:539
+#: misc/tune2fs.c:505
 #, c-format
 msgid "Couldn't parse date/time specifier: %s"
 msgstr ""
 
-#: misc/tune2fs.c:563 misc/tune2fs.c:576
+#: misc/tune2fs.c:529 misc/tune2fs.c:542
 #, c-format
 msgid "bad mounts count - %s"
 msgstr ""
 
-#: misc/tune2fs.c:592
+#: misc/tune2fs.c:558
 #, c-format
 msgid "bad error behavior - %s"
 msgstr ""
 
-#: misc/tune2fs.c:619
+#: misc/tune2fs.c:585
 #, c-format
 msgid "bad gid/group name - %s"
 msgstr ""
 
-#: misc/tune2fs.c:652
+#: misc/tune2fs.c:618
 #, c-format
 msgid "bad interval - %s"
 msgstr ""
 
-#: misc/tune2fs.c:680
+#: misc/tune2fs.c:646
 #, c-format
 msgid "bad reserved block ratio - %s"
 msgstr ""
 
-#: misc/tune2fs.c:695
+#: misc/tune2fs.c:661
 msgid "-o may only be specified once"
 msgstr ""
 
-#: misc/tune2fs.c:705
+#: misc/tune2fs.c:671
 msgid "-O may only be specified once"
 msgstr ""
 
-#: misc/tune2fs.c:715
+#: misc/tune2fs.c:681
 #, c-format
 msgid "bad reserved blocks count - %s"
 msgstr ""
 
-#: misc/tune2fs.c:744
+#: misc/tune2fs.c:710
 #, c-format
 msgid "bad uid/user name - %s"
 msgstr ""
 
-#: misc/tune2fs.c:842
-#, c-format
-msgid "Invalid RAID stride: %s\n"
-msgstr ""
-
-#: misc/tune2fs.c:857
-#, c-format
-msgid "Invalid RAID stripe-width: %s\n"
-msgstr ""
-
-#: misc/tune2fs.c:867
+#: misc/tune2fs.c:804
 #, c-format
 msgid ""
 "\n"
@@ -4001,98 +3938,93 @@ msgid ""
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk chunk size in blocks>\n"
-"\tstripe-width=<RAID stride*data disks in blocks>\n"
 "\ttest_fs\n"
 "\t^test_fs\n"
 msgstr ""
 
-#: misc/tune2fs.c:927
+#: misc/tune2fs.c:862
 #, c-format
 msgid "Filesystem %s has unsupported features enabled.\n"
 msgstr ""
 
-#: misc/tune2fs.c:951
+#: misc/tune2fs.c:886
 #, c-format
 msgid "Setting maximal mount count to %d\n"
 msgstr ""
 
-#: misc/tune2fs.c:957
+#: misc/tune2fs.c:892
 #, c-format
 msgid "Setting current mount count to %d\n"
 msgstr ""
 
-#: misc/tune2fs.c:962
+#: misc/tune2fs.c:897
 #, c-format
 msgid "Setting error behavior to %d\n"
 msgstr ""
 
-#: misc/tune2fs.c:967
+#: misc/tune2fs.c:902
 #, c-format
 msgid "Setting reserved blocks gid to %lu\n"
 msgstr ""
 
-#: misc/tune2fs.c:972
+#: misc/tune2fs.c:907
 #, c-format
 msgid "Setting interval between checks to %lu seconds\n"
 msgstr ""
 
-#: misc/tune2fs.c:978
+#: misc/tune2fs.c:913
 #, c-format
 msgid "Setting reserved blocks percentage to %g%% (%u blocks)\n"
 msgstr ""
 
-#: misc/tune2fs.c:984
+#: misc/tune2fs.c:919
 #, c-format
 msgid "reserved blocks count is too big (%lu)"
 msgstr ""
 
-#: misc/tune2fs.c:990
+#: misc/tune2fs.c:925
 #, c-format
 msgid "Setting reserved blocks count to %lu\n"
 msgstr ""
 
-#: misc/tune2fs.c:996
+#: misc/tune2fs.c:931
 msgid ""
 "\n"
 "The filesystem already has sparse superblocks.\n"
 msgstr ""
 
-#: misc/tune2fs.c:1003
+#: misc/tune2fs.c:938
 #, c-format
 msgid ""
 "\n"
 "Sparse superblock flag set.  %s"
 msgstr ""
 
-#: misc/tune2fs.c:1008
+#: misc/tune2fs.c:945
 msgid ""
 "\n"
-"Clearing the sparse superflag not supported.\n"
+"The filesystem already has sparse superblocks disabled.\n"
 msgstr ""
 
-#: misc/tune2fs.c:1015
+#: misc/tune2fs.c:953
 #, c-format
-msgid "Setting time filesystem last checked to %s\n"
+msgid ""
+"\n"
+"Sparse superblock flag cleared.  %s"
 msgstr ""
 
-#: misc/tune2fs.c:1021
+#: misc/tune2fs.c:960
 #, c-format
-msgid "Setting reserved blocks uid to %lu\n"
-msgstr ""
-
-#: misc/tune2fs.c:1056
-msgid "Invalid UUID format\n"
+msgid "Setting time filesystem last checked to %s\n"
 msgstr ""
 
-#: misc/tune2fs.c:1067
+#: misc/tune2fs.c:966
 #, c-format
-msgid "Setting stride size to %d\n"
+msgid "Setting reserved blocks uid to %lu\n"
 msgstr ""
 
-#: misc/tune2fs.c:1072
-#, c-format
-msgid "Setting stripe width to %d\n"
+#: misc/tune2fs.c:1001
+msgid "Invalid UUID format\n"
 msgstr ""
 
 #: misc/util.c:72
@@ -4305,7 +4237,7 @@ msgstr "blocs a moure"
 msgid "meta-data blocks"
 msgstr "blocs de metadades"
 
-#: resize/resize2fs.c:1550
+#: resize/resize2fs.c:1534
 #, c-format
 msgid "Should never happen: resize inode corrupt!\n"
 msgstr ""
Files e2fsprogs-1.40.7/po/cs.gmo and e2fsprogs/po/cs.gmo differ
diff -Nurp e2fsprogs-1.40.7/po/cs.po e2fsprogs/po/cs.po
--- e2fsprogs-1.40.7/po/cs.po	2008-02-29 02:46:02.000000000 +0000
+++ e2fsprogs/po/cs.po	2008-02-29 11:23:57.000000000 +0000
@@ -66,7 +66,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: e2fsprogs 1.40.6\n"
 "Report-Msgid-Bugs-To: tytso@alum.mit.edu\n"
-"POT-Creation-Date: 2008-02-28 21:45-0500\n"
+"POT-Creation-Date: 2008-02-09 23:16-0500\n"
 "PO-Revision-Date: 2008-02-12 13:44+0100\n"
 "Last-Translator: Petr Pisar <petr.pisar@atlas.cz>\n"
 "Language-Team: Czech <translation-team-cs@lists.sourceforge.net>\n"
@@ -74,7 +74,7 @@ msgstr ""
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
 
-#: e2fsck/badblocks.c:22 misc/mke2fs.c:157
+#: e2fsck/badblocks.c:22 misc/mke2fs.c:156
 #, c-format
 msgid "Bad block %u out of range; ignored.\n"
 msgstr "patn blok %u mimo rozsah; ignorovn.\n"
@@ -88,10 +88,10 @@ msgid "while reading the bad blocks inod
 msgstr "pi ten inode patnch blok"
 
 #: e2fsck/badblocks.c:71 e2fsck/iscan.c:112 e2fsck/scantest.c:109
-#: e2fsck/unix.c:1010 e2fsck/unix.c:1093 misc/badblocks.c:1025
+#: e2fsck/unix.c:992 e2fsck/unix.c:1075 misc/badblocks.c:1025
 #: misc/badblocks.c:1033 misc/badblocks.c:1047 misc/badblocks.c:1059
-#: misc/dumpe2fs.c:483 misc/e2image.c:571 misc/e2image.c:664
-#: misc/e2image.c:680 misc/mke2fs.c:173 misc/tune2fs.c:916 resize/main.c:296
+#: misc/dumpe2fs.c:400 misc/e2image.c:571 misc/e2image.c:664
+#: misc/e2image.c:680 misc/mke2fs.c:172 misc/tune2fs.c:851 resize/main.c:296
 #, c-format
 msgid "while trying to open %s"
 msgstr "pi pokusu otevt %s"
@@ -101,19 +101,18 @@ msgstr "pi pokusu otevt %s"
 msgid "while trying popen '%s'"
 msgstr "pi pokusu popen %s"
 
-#: e2fsck/badblocks.c:93 misc/mke2fs.c:180
+#: e2fsck/badblocks.c:93 misc/mke2fs.c:179
 msgid "while reading in list of bad blocks from file"
 msgstr "pi natn seznamu patnch blok ze souboru"
 
-#: e2fsck/badblocks.c:104
+#: e2fsck/badblocks.c:103
 msgid "while updating bad block inode"
 msgstr "pi aktualizaci inode patnch blok"
 
-#: e2fsck/badblocks.c:130
+#: e2fsck/badblocks.c:129
 #, c-format
 msgid "Warning: illegal block %u found in bad block inode.  Cleared.\n"
-msgstr ""
-"Varovn: viuzlu patnch blok nalezen nepovolen blok %u. Vymazn.\n"
+msgstr "Varovn: viuzlu patnch blok nalezen nepovolen blok %u. Vymazn.\n"
 
 #: e2fsck/ehandler.c:53
 #, c-format
@@ -460,7 +459,7 @@ msgstr "Vnitn chyba: nemohu najt z
 msgid "internal error: couldn't lookup EA inode record for %u"
 msgstr "Vnitn chyba: nemohu najt zznam EAiuzlu pro %u"
 
-#: e2fsck/pass1.c:404 e2fsck/pass2.c:770
+#: e2fsck/pass1.c:404 e2fsck/pass2.c:779
 msgid "reading directory block"
 msgstr "ten adresovho bloku"
 
@@ -529,7 +528,7 @@ msgstr "bitmapa inode"
 msgid "inode table"
 msgstr "tabulka inode"
 
-#: e2fsck/pass2.c:283
+#: e2fsck/pass2.c:292
 msgid "Pass 2"
 msgstr "Prchod 2"
 
@@ -880,13 +879,11 @@ msgstr "Extern urnl nepodporuje te
 #: e2fsck/problem.c:212
 msgid ""
 "Ext3 @j @S is unknown type %N (unsupported).\n"
-"It is likely that your copy of e2fsck is old and/or doesn't support this @j "
-"format.\n"
+"It is likely that your copy of e2fsck is old and/or doesn't support this @j format.\n"
 "It is also possible the @j @S is corrupt.\n"
 msgstr ""
 "Superblok urnlu ext3 m neznm typ %N (nepodporovno).\n"
-"Je pravdpodobn, e vae kopie e2fsck je star a/nebo nepodporuje tento "
-"formt urnlu.\n"
+"Je pravdpodobn, e vae kopie e2fsck je star a/nebo nepodporuje tento formt urnlu.\n"
 "Je tak mon, e superblok urnlu je pokozen.\n"
 
 #. @-expanded: Ext3 journal superblock is corrupt.\n
@@ -923,9 +920,7 @@ msgstr "Pesto spustit urnl"
 #. @-expanded: Recovery flag not set in backup superblock, so running journal anyway.\n
 #: e2fsck/problem.c:250
 msgid "Recovery flag not set in backup @S, so running @j anyway.\n"
-msgstr ""
-"Pznak obnoven nen nastaven v zlonm superbloku, take pesto spoutm "
-"urnl.\n"
+msgstr "Pznak obnoven nen nastaven v zlonm superbloku, take pesto spoutm urnl.\n"
 
 #. @-expanded: %s orphaned inode %i (uid=%Iu, gid=%Ig, mode=%Im, size=%Is)\n
 #: e2fsck/problem.c:255
@@ -957,23 +952,17 @@ msgstr "Neplatn inode %i v seznamu osi
 #. @-expanded: filesystem has feature flag(s) set, but is a revision 0 filesystem.  
 #: e2fsck/problem.c:280 e2fsck/problem.c:613
 msgid "@f has feature flag(s) set, but is a revision 0 @f.  "
-msgstr ""
-"Systm soubor m pznak(y) vlastnost nastaveny, akoliv se jedn o revizi "
-"0. "
+msgstr "Systm soubor m pznak(y) vlastnost nastaveny, akoliv se jedn o revizi 0. "
 
 #. @-expanded: Ext3 journal superblock has an unknown read-only feature flag set.\n
 #: e2fsck/problem.c:285
 msgid "Ext3 @j @S has an unknown read-only feature flag set.\n"
-msgstr ""
-"Superblok urnlu ext3 m nastaven pznak neznm vlastnosti jen pro "
-"ten.\n"
+msgstr "Superblok urnlu ext3 m nastaven pznak neznm vlastnosti jen pro ten.\n"
 
 #. @-expanded: Ext3 journal superblock has an unknown incompatible feature flag set.\n
 #: e2fsck/problem.c:290
 msgid "Ext3 @j @S has an unknown incompatible feature flag set.\n"
-msgstr ""
-"Superblok urnlu ext3 m nastaven pznak neznm nekompatibiln "
-"vlastnosti.\n"
+msgstr "Superblok urnlu ext3 m nastaven pznak neznm nekompatibiln vlastnosti.\n"
 
 #. @-expanded: journal version not supported by this e2fsck.\n
 #: e2fsck/problem.c:295
@@ -1112,20 +1101,17 @@ msgstr "Inode %i je adres nulov d
 #. @-expanded: group %g's block bitmap at %b conflicts with some other fs block.\n
 #: e2fsck/problem.c:392
 msgid "@g %g's @b @B at %b @C.\n"
-msgstr ""
-"Bitmapa blok skupiny %g v %b koliduje s jinm blokem systmu soubor.\n"
+msgstr "Bitmapa blok skupiny %g v %b koliduje s jinm blokem systmu soubor.\n"
 
 #. @-expanded: group %g's inode bitmap at %b conflicts with some other fs block.\n
 #: e2fsck/problem.c:397
 msgid "@g %g's @i @B at %b @C.\n"
-msgstr ""
-"Bitmapa inode skupiny %g v %b koliduje s jinm blokem systmu soubor.\n"
+msgstr "Bitmapa inode skupiny %g v %b koliduje s jinm blokem systmu soubor.\n"
 
 #. @-expanded: group %g's inode table at %b conflicts with some other fs block.\n
 #: e2fsck/problem.c:402
 msgid "@g %g's @i table at %b @C.\n"
-msgstr ""
-"Tabulka inode skupiny %g v %b koliduje s jinm blokem systmu soubor.\n"
+msgstr "Tabulka inode skupiny %g v %b koliduje s jinm blokem systmu soubor.\n"
 
 #. @-expanded: group %g's block bitmap (%b) is bad.  
 #: e2fsck/problem.c:407
@@ -1235,8 +1221,7 @@ msgstr "Primrn superblok (%b) je na 
 #. @-expanded: Block %b in the primary group descriptors is on the bad block list\n
 #: e2fsck/problem.c:490
 msgid "Block %b in the primary @g descriptors is on the bad @b list\n"
-msgstr ""
-"Blok %b v primrnch deskriptorech skupin je na seznamu patnch blok\n"
+msgstr "Blok %b v primrnch deskriptorech skupin je na seznamu patnch blok\n"
 
 #. @-expanded: Warning: Group %g's superblock (%b) is bad.\n
 #: e2fsck/problem.c:496
@@ -1246,14 +1231,12 @@ msgstr "Varovn: superblok skupiny %g
 #. @-expanded: Warning: Group %g's copy of the group descriptors has a bad block (%b).\n
 #: e2fsck/problem.c:501
 msgid "Warning: Group %g's copy of the @g descriptors has a bad @b (%b).\n"
-msgstr ""
-"Varovn: Kopie deskriptor skupin ve skupin %g m patn blok (%b).\n"
+msgstr "Varovn: Kopie deskriptor skupin ve skupin %g m patn blok (%b).\n"
 
 #. @-expanded: Programming error?  block #%b claimed for no reason in process_bad_block.\n
 #: e2fsck/problem.c:507
 msgid "Programming error?  @b #%b claimed for no reason in process_bad_@b.\n"
-msgstr ""
-"Chyba pi programovn? Blok #%b bezdvodn pouit v process_bad_blocks.\n"
+msgstr "Chyba pi programovn? Blok #%b bezdvodn pouit v process_bad_blocks.\n"
 
 #. @-expanded: error allocating %N contiguous block(s) in block group %g for %s: %m\n
 #: e2fsck/problem.c:513
@@ -1330,9 +1313,7 @@ msgstr "Chyba pi ukldn informace
 #. @-expanded: Error storing directory block information (inode=%i, block=%b, num=%N): %m\n
 #: e2fsck/problem.c:578
 msgid "Error storing @d @b information (@i=%i, @b=%b, num=%N): %m\n"
-msgstr ""
-"Chyba pi ukldn informace o bloku adrese (inode=%i, blok=%b, s=%N): %"
-"m\n"
+msgstr "Chyba pi ukldn informace o bloku adrese (inode=%i, blok=%b, s=%N): %m\n"
 
 #. @-expanded: Error reading inode %i: %m\n
 #: e2fsck/problem.c:584
@@ -1354,17 +1335,14 @@ msgid ""
 "Special (@v/socket/fifo/symlink) file (@i %i) has immutable\n"
 "or append-only flag set.  "
 msgstr ""
-"Speciln (zazen/socket/fifo/symbolick odkaz) soubor (inode %i) m "
-"nastaven\n"
+"Speciln (zazen/socket/fifo/symbolick odkaz) soubor (inode %i) m nastaven\n"
 "pznak immutable nebo append-only. "
 
 #. @-expanded: inode %i has compression flag set on filesystem without compression support.  
 #: e2fsck/problem.c:603
 #, c-format
 msgid "@i %i has @cion flag set on @f without @cion support.  "
-msgstr ""
-"Inode %i m nastaven pznak komprimace na systmu soubor bez podpory "
-"komprimace. "
+msgstr "Inode %i m nastaven pznak komprimace na systmu soubor bez podpory komprimace. "
 
 #. @-expanded: Special (device/socket/fifo) inode %i has non-zero size.  
 #: e2fsck/problem.c:608
@@ -1391,8 +1369,7 @@ msgstr "Iuzel %i byl soust seznamu
 #. @-expanded: inodes that were part of a corrupted orphan linked list found.  
 #: e2fsck/problem.c:634
 msgid "@is that were part of a corrupted orphan linked list found.  "
-msgstr ""
-"Nalezeny inode, kter byly soust pokozenho spojovho seznamu osielch. "
+msgstr "Nalezeny inode, kter byly soust pokozenho spojovho seznamu osielch. "
 
 #. @-expanded: error allocating refcount structure (%N): %m\n
 #: e2fsck/problem.c:639
@@ -1474,8 +1451,7 @@ msgstr "Blok #%B (%b) psob, e symb
 #: e2fsck/problem.c:713
 #, c-format
 msgid "@i %i has INDEX_FL flag set on @f without htree support.\n"
-msgstr ""
-"Inode %i m nastaven pznak INDEX_FL na systmu soubor bez podpory htree.\n"
+msgstr "Inode %i m nastaven pznak INDEX_FL na systmu soubor bez podpory htree.\n"
 
 #. @-expanded: inode %i has INDEX_FL flag set but is not a directory.\n
 #: e2fsck/problem.c:718
@@ -1498,15 +1474,12 @@ msgstr "Inode HTREE adrese %i m ne
 #: e2fsck/problem.c:733
 #, c-format
 msgid "@h %i uses an incompatible htree root node flag.\n"
-msgstr ""
-"Inode HTREE adrese %i pouv nekompatibiln pznak koenovho uzlu "
-"htree.\n"
+msgstr "Inode HTREE adrese %i pouv nekompatibiln pznak koenovho uzlu htree.\n"
 
 #. @-expanded: HTREE directory inode %i has a tree depth (%N) which is too big\n
 #: e2fsck/problem.c:738
 msgid "@h %i has a tree depth (%N) which is too big\n"
-msgstr ""
-"Inode HTREE adrese %i m hloubku stromu (%N), kter je pli velk\n"
+msgstr "Inode HTREE adrese %i m hloubku stromu (%N), kter je pli velk\n"
 
 #. @-expanded: Bad block inode has an indirect block (%b) that conflicts with\n
 #. @-expanded: filesystem metadata.  
@@ -1537,27 +1510,22 @@ msgstr "Rozen atribut viuzlu %
 #. @-expanded: extended attribute in inode %i has a value size (%N) which is invalid\n
 #: e2fsck/problem.c:764
 msgid "@a in @i %i has a value size (%N) which is @n\n"
-msgstr ""
-"Rozen atribut viuzlu %i m velikost hodnoty (%N), kter nen platn\n"
+msgstr "Rozen atribut viuzlu %i m velikost hodnoty (%N), kter nen platn\n"
 
 #. @-expanded: extended attribute in inode %i has a value offset (%N) which is invalid\n
 #: e2fsck/problem.c:769
 msgid "@a in @i %i has a value offset (%N) which is @n\n"
-msgstr ""
-"Rozen atribut viuzlu %i m pozici hodnoty (%N), kter nen platn\n"
+msgstr "Rozen atribut viuzlu %i m pozici hodnoty (%N), kter nen platn\n"
 
 #. @-expanded: extended attribute in inode %i has a value block (%N) which is invalid (must be 0)\n
 #: e2fsck/problem.c:774
 msgid "@a in @i %i has a value @b (%N) which is @n (must be 0)\n"
-msgstr ""
-"Rozen atribut viuzlu %i m blok hodnot (%N), kter nen platn (mus "
-"bt 0)\n"
+msgstr "Rozen atribut viuzlu %i m blok hodnot (%N), kter nen platn (mus bt 0)\n"
 
 #. @-expanded: extended attribute in inode %i has a hash (%N) which is invalid (must be 0)\n
 #: e2fsck/problem.c:779
 msgid "@a in @i %i has a hash (%N) which is @n (must be 0)\n"
-msgstr ""
-"Rozen atribut viuzlu %i m hash (%N), kter nen platn (mus bt 0)\n"
+msgstr "Rozen atribut viuzlu %i m hash (%N), kter nen platn (mus bt 0)\n"
 
 #. @-expanded: inode %i is a %It but it looks like it is really a directory.\n
 #: e2fsck/problem.c:784
@@ -1604,8 +1572,7 @@ msgstr "Chyba pi iteraci pes bloky v
 #. @-expanded: Error adjusting refcount for extended attribute block %b (inode %i): %m\n
 #: e2fsck/problem.c:827 e2fsck/problem.c:1143
 msgid "Error adjusting refcount for @a @b %b (@i %i): %m\n"
-msgstr ""
-"Chyba pi prav potu odkaz bloku rozench atribut %b (iuzel %i): %m\n"
+msgstr "Chyba pi prav potu odkaz bloku rozench atribut %b (iuzel %i): %m\n"
 
 #. @-expanded: Pass 1C: Scanning directories for inodes with multiply-claimed blocks\n
 #: e2fsck/problem.c:833
@@ -1691,8 +1658,7 @@ msgstr "Poloka %Dn v %p (%i) je 
 #. @-expanded: entry '%Dn' in %p (%i) points to inode (%Di) located in a bad block.\n
 #: e2fsck/problem.c:909
 msgid "@E points to @i (%Di) located in a bad @b.\n"
-msgstr ""
-"Poloka %Dn v %p (%i) ukazuje na inode (%Di) umstnou ve patnm bloku.\n"
+msgstr "Poloka %Dn v %p (%i) ukazuje na inode (%Di) umstnou ve patnm bloku.\n"
 
 #. @-expanded: entry '%Dn' in %p (%i) is a link to directory %P (%Di).\n
 #: e2fsck/problem.c:914
@@ -1724,8 +1690,7 @@ msgstr "Chyb .. v inode adres
 #. @-expanded: First entry '%Dn' (inode=%Di) in directory inode %i (%p) should be '.'\n
 #: e2fsck/problem.c:939
 msgid "First @e '%Dn' (@i=%Di) in @d @i %i (%p) @s '.'\n"
-msgstr ""
-"Prvn poloka %Dn (inode=%Di) viuzlu adrese %i (%p) by mla bt .\n"
+msgstr "Prvn poloka %Dn (inode=%Di) viuzlu adrese %i (%p) by mla bt .\n"
 
 #. @-expanded: Second entry '%Dn' (inode=%Di) in directory inode %i should be '..'\n
 #: e2fsck/problem.c:944
@@ -1902,9 +1867,7 @@ msgstr "Blok rozench atribut p
 #. @-expanded: filesystem contains large files, but lacks LARGE_FILE flag in superblock.\n
 #: e2fsck/problem.c:1109
 msgid "@f contains large files, but lacks LARGE_FILE flag in @S.\n"
-msgstr ""
-"Systm soubor obsahuje velk soubory, ale v superbloku nem pznak "
-"LARGE_FILE.\n"
+msgstr "Systm soubor obsahuje velk soubory, ale v superbloku nem pznak LARGE_FILE.\n"
 
 #. @-expanded: problem in HTREE directory inode %d: node (%B) not referenced\n
 #: e2fsck/problem.c:1114
@@ -1955,8 +1918,7 @@ msgstr "Problm viuzlu HTREE adres
 #. @-expanded: problem in HTREE directory inode %d: node (%B) has an unordered hash table\n
 #: e2fsck/problem.c:1163
 msgid "@p @h %d: node (%B) has an unordered hash table\n"
-msgstr ""
-"Problm v inode HTREE adrese %d: uzel (%B) m nesetdnou hash tabulku\n"
+msgstr "Problm v inode HTREE adrese %d: uzel (%B) m nesetdnou hash tabulku\n"
 
 #. @-expanded: problem in HTREE directory inode %d: node (%B) has invalid depth\n
 #: e2fsck/problem.c:1168
@@ -2067,8 +2029,7 @@ msgstr "ext2fs_new_inode: %m pi pokusu
 #: e2fsck/problem.c:1255
 #, c-format
 msgid "ext2fs_new_dir_@b: %m while creating new @d @b\n"
-msgstr ""
-"ext2fs_new_dir_block: %m pi pokusu vytven novho adrese /lost+found\n"
+msgstr "ext2fs_new_dir_block: %m pi pokusu vytven novho adrese /lost+found\n"
 
 #. @-expanded: ext2fs_write_dir_block: %m while writing the directory block for /lost+found\n
 #: e2fsck/problem.c:1260
@@ -2237,12 +2198,8 @@ msgstr "Poet volnch blok patn 
 #. @-expanded: PROGRAMMING ERROR: filesystem (#%N) bitmap endpoints (%b, %c) don't match calculated bitmap 
 #. @-expanded: endpoints (%i, %j)\n
 #: e2fsck/problem.c:1458
-msgid ""
-"PROGRAMMING ERROR: @f (#%N) @B endpoints (%b, %c) don't match calculated @B "
-"endpoints (%i, %j)\n"
-msgstr ""
-"CHYBA PI PROGRAMOVN: hranice (%b, %c) bitmapy systmu soubor (#%N) "
-"neodpovdaj vypotenm hranicm bitmapy (%i, %j)\n"
+msgid "PROGRAMMING ERROR: @f (#%N) @B endpoints (%b, %c) don't match calculated @B endpoints (%i, %j)\n"
+msgstr "CHYBA PI PROGRAMOVN: hranice (%b, %c) bitmapy systmu soubor (#%N) neodpovdaj vypotenm hranicm bitmapy (%i, %j)\n"
 
 #: e2fsck/problem.c:1464
 msgid "Internal error: fudging end of bitmap (%N)\n"
@@ -2370,8 +2327,7 @@ msgid ""
 " -p                   Automatic repair (no questions)\n"
 " -n                   Make no changes to the filesystem\n"
 " -y                   Assume \"yes\" to all questions\n"
-" -c                   Check for bad blocks and add them to the badblock "
-"list\n"
+" -c                   Check for bad blocks and add them to the badblock list\n"
 " -f                   Force checking even if filesystem is marked clean\n"
 msgstr ""
 "\n"
@@ -2379,10 +2335,8 @@ msgstr ""
 " -p                   Automatick oprava (dn otzky)\n"
 " -n                   Neprovdt dn zmny systmu soubor\n"
 " -y                   Pedpokldat ano uvech otzek\n"
-" -c                   Hledat patn bloky a pidat je do seznamu patnch "
-"blok\n"
-" -f                   Vynutit kontrolu, i kdy je systm soubor oznaen "
-"ist\n"
+" -c                   Hledat patn bloky a pidat je do seznamu patnch blok\n"
+" -f                   Vynutit kontrolu, i kdy je systm soubor oznaen ist\n"
 
 #: e2fsck/unix.c:86
 #, c-format
@@ -2413,7 +2367,7 @@ msgstr "%s: %'u/%'u soubor (%0d,%d %% 
 msgid "         # of inodes with ind/dind/tind blocks: %u/%u/%u\n"
 msgstr "         Poet iuzl sind/dind/tind bloky: %'u/%'u/%'u\n"
 
-#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:941 misc/util.c:151
+#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:876 misc/util.c:151
 #: resize/main.c:237
 #, c-format
 msgid "while determining whether %s is mounted."
@@ -2552,7 +2506,7 @@ msgstr "Pepna -t nen v tto ver
 msgid "Byte-swapping filesystems not compiled in this version of e2fsck\n"
 msgstr "Pehozen bajt systm soubor nen zabudovno v tto verzi e2fsck\n"
 
-#: e2fsck/unix.c:770 misc/tune2fs.c:504 misc/tune2fs.c:769 misc/tune2fs.c:786
+#: e2fsck/unix.c:770 misc/tune2fs.c:470 misc/tune2fs.c:735 misc/tune2fs.c:752
 #, c-format
 msgid "Unable to resolve '%s'"
 msgstr "Nelze vyeit %s"
@@ -2587,38 +2541,38 @@ msgstr ""
 "Neplatn neseln argument u-%c (%s)\n"
 "\n"
 
-#: e2fsck/unix.c:905
+#: e2fsck/unix.c:904
 #, c-format
 msgid "Error: ext2fs library version out of date!\n"
 msgstr "Chyba: star verze knihovny ext2fs!\n"
 
-#: e2fsck/unix.c:913
+#: e2fsck/unix.c:912
 msgid "while trying to initialize program"
 msgstr "pi pokusu inicializovat program"
 
-#: e2fsck/unix.c:927
+#: e2fsck/unix.c:926
 #, c-format
 msgid "\tUsing %s, %s\n"
 msgstr "\tPouvm %s, %s\n"
 
-#: e2fsck/unix.c:939
+#: e2fsck/unix.c:938
 msgid "need terminal for interactive repairs"
 msgstr "pro interaktivn opravy potebuji terminl"
 
-#: e2fsck/unix.c:983
+#: e2fsck/unix.c:978
 #, c-format
 msgid "%s: %s trying backup blocks...\n"
 msgstr "%s: %s zkoum zlon bloky\n"
 
-#: e2fsck/unix.c:985
+#: e2fsck/unix.c:980
 msgid "Superblock invalid,"
 msgstr "Neplatn superblok,"
 
-#: e2fsck/unix.c:986
+#: e2fsck/unix.c:981
 msgid "Group descriptors look bad..."
 msgstr "Deskriptory skupin vypadaj patn"
 
-#: e2fsck/unix.c:1013
+#: e2fsck/unix.c:995
 #, c-format
 msgid ""
 "The filesystem revision is apparently too high for this version of e2fsck.\n"
@@ -2629,27 +2583,27 @@ msgstr ""
 "(Nebo je superblok systmu soubor pokozen)\n"
 "\n"
 
-#: e2fsck/unix.c:1019
+#: e2fsck/unix.c:1001
 #, c-format
 msgid "Could this be a zero-length partition?\n"
 msgstr "Mohl by toto bt oddl nulov dlky?\n"
 
-#: e2fsck/unix.c:1021
+#: e2fsck/unix.c:1003
 #, c-format
 msgid "You must have %s access to the filesystem or be root\n"
 msgstr "Muste mt pstup %s k systmu soubor nebo bt root\n"
 
-#: e2fsck/unix.c:1026
+#: e2fsck/unix.c:1008
 #, c-format
 msgid "Possibly non-existent or swap device?\n"
 msgstr "Pravdpodobn neexistujc nebo odkldac zazen?\n"
 
-#: e2fsck/unix.c:1028
+#: e2fsck/unix.c:1010
 #, c-format
 msgid "Filesystem mounted or opened exclusively by another program?\n"
 msgstr "Systm soubor pipojen nebo oteven vlun jinm programem?\n"
 
-#: e2fsck/unix.c:1032
+#: e2fsck/unix.c:1014
 #, c-format
 msgid ""
 "Disk write-protected; use the -n option to do a read-only\n"
@@ -2658,44 +2612,37 @@ msgstr ""
 "Disk chrnn proti zpisu; pouijte pepna -n pro proveden\n"
 "kontroly zazen jen pro ten.\n"
 
-#: e2fsck/unix.c:1096
+#: e2fsck/unix.c:1078
 msgid "Get a newer version of e2fsck!"
 msgstr "Seete novj verzi e2fsck!"
 
-#: e2fsck/unix.c:1117
+#: e2fsck/unix.c:1099
 #, c-format
 msgid "while checking ext3 journal for %s"
 msgstr "pi kontrole urnlu ext3 pro %s"
 
-#: e2fsck/unix.c:1128
+#: e2fsck/unix.c:1110
 #, c-format
-msgid ""
-"Warning: skipping journal recovery because doing a read-only filesystem "
-"check.\n"
+msgid "Warning: skipping journal recovery because doing a read-only filesystem check.\n"
 msgstr ""
 "Varovn: peskakuji obnovu urnlu, protoe provdm kontrolu systmu\n"
 "soubor jen pro ten.\n"
 
-#: e2fsck/unix.c:1141
+#: e2fsck/unix.c:1123
 #, c-format
 msgid "unable to set superblock flags on %s\n"
 msgstr "nemohu nastavit pznaky superbloku na %s\n"
 
-#: e2fsck/unix.c:1147
+#: e2fsck/unix.c:1129
 #, c-format
 msgid "while recovering ext3 journal of %s"
 msgstr "pi obnov urnlu ext3 %s"
 
-#: e2fsck/unix.c:1171
-#, fuzzy, c-format
-msgid "%s has unsupported feature(s):"
-msgstr "Systm soubor %s m zapnut nepodporovan vlastnosti.\n"
-
-#: e2fsck/unix.c:1187
+#: e2fsck/unix.c:1158
 msgid "Warning: compression support is experimental.\n"
 msgstr "Varovn: podpora komprese je experimentln.\n"
 
-#: e2fsck/unix.c:1192
+#: e2fsck/unix.c:1163
 #, c-format
 msgid ""
 "E2fsck not compiled with HTREE support,\n"
@@ -2704,30 +2651,30 @@ msgstr ""
 "E2fsck nepeloen s podporou HTREE,\n"
 "\tale systm soubor %s m adrese HTREE.\n"
 
-#: e2fsck/unix.c:1241
+#: e2fsck/unix.c:1212
 #, c-format
 msgid "%s: Filesystem byte order already normalized.\n"
 msgstr "%s: Poad bajt systmu soubor ji normalizovno.\n"
 
-#: e2fsck/unix.c:1261
+#: e2fsck/unix.c:1232
 msgid "while reading bad blocks inode"
 msgstr "pi ten inode patnch blok"
 
-#: e2fsck/unix.c:1263
+#: e2fsck/unix.c:1234
 #, c-format
 msgid "This doesn't bode well, but we'll try to go on...\n"
 msgstr "Toto nevypad dobe, ale zkusme pokraovat\n"
 
-#: e2fsck/unix.c:1289
+#: e2fsck/unix.c:1260
 msgid "Couldn't determine journal size"
 msgstr "Velikost urnlu nelze urit"
 
-#: e2fsck/unix.c:1292 misc/mke2fs.c:1776
+#: e2fsck/unix.c:1263 misc/mke2fs.c:1744
 #, c-format
 msgid "Creating journal (%d blocks): "
 msgstr "Vytvm urnl (%d blok): "
 
-#: e2fsck/unix.c:1299 misc/mke2fs.c:1784
+#: e2fsck/unix.c:1270 misc/mke2fs.c:1752
 msgid ""
 "\n"
 "\twhile trying to create journal"
@@ -2735,12 +2682,12 @@ msgstr ""
 "\n"
 "\tpi pokusu vytvoit urnl"
 
-#: e2fsck/unix.c:1302
+#: e2fsck/unix.c:1273
 #, c-format
 msgid " Done.\n"
 msgstr " Hotovo.\n"
 
-#: e2fsck/unix.c:1303
+#: e2fsck/unix.c:1274
 #, c-format
 msgid ""
 "\n"
@@ -2749,25 +2696,25 @@ msgstr ""
 "\n"
 "*** urnl by znovu vytvoen souborov systm se opt stal ext3 ***\n"
 
-#: e2fsck/unix.c:1310
+#: e2fsck/unix.c:1281
 #, c-format
 msgid "Restarting e2fsck from the beginning...\n"
 msgstr "Spoutm e2fsck od zatku\n"
 
-#: e2fsck/unix.c:1314
+#: e2fsck/unix.c:1285
 msgid "while resetting context"
 msgstr "pi nulovn kontextu"
 
-#: e2fsck/unix.c:1321
+#: e2fsck/unix.c:1292
 #, c-format
 msgid "%s: e2fsck canceled.\n"
 msgstr "%s: e2fsck peruen.\n"
 
-#: e2fsck/unix.c:1326
+#: e2fsck/unix.c:1297
 msgid "aborted"
 msgstr "peruen"
 
-#: e2fsck/unix.c:1338
+#: e2fsck/unix.c:1309
 #, c-format
 msgid ""
 "\n"
@@ -2776,12 +2723,12 @@ msgstr ""
 "\n"
 "%s: ***** SYSTM SOUBOR BYL ZMNN *****\n"
 
-#: e2fsck/unix.c:1341
+#: e2fsck/unix.c:1312
 #, c-format
 msgid "%s: ***** REBOOT LINUX *****\n"
 msgstr "%s: ***** ZNOVU ZAVETE LINUX *****\n"
 
-#: e2fsck/unix.c:1349
+#: e2fsck/unix.c:1320
 #, c-format
 msgid ""
 "\n"
@@ -2933,8 +2880,7 @@ msgstr "hotovo                          
 #, c-format
 msgid ""
 "Usage: %s [-b block_size] [-i input_file] [-o output_file] [-svwnf]\n"
-" [-c blocks_at_once] [-p num_passes] [-t test_pattern [-t test_pattern "
-"[...]]]\n"
+" [-c blocks_at_once] [-p num_passes] [-t test_pattern [-t test_pattern [...]]]\n"
 " device [last_block [start_block]]\n"
 msgstr ""
 "Pouit: %s [-b velikost_bloku] [-i vstupn_soubor] [-o vstupn_soubor]\n"
@@ -3084,7 +3030,7 @@ msgstr ""
 msgid "while trying to determine device size"
 msgstr "pi pokusu zjistit velikost zazen"
 
-#: misc/badblocks.c:996 misc/mke2fs.c:1255
+#: misc/badblocks.c:996 misc/mke2fs.c:1223
 #, c-format
 msgid "invalid blocks count - %s"
 msgstr "patn poet blok- %s"
@@ -3249,7 +3195,7 @@ msgstr "pi tisku seznamu patnch bl
 msgid "Bad blocks: %u"
 msgstr "patn bloky: %u"
 
-#: misc/dumpe2fs.c:274 misc/tune2fs.c:261
+#: misc/dumpe2fs.c:274 misc/tune2fs.c:243
 msgid "while reading journal inode"
 msgstr "pi ten inode urnlu"
 
@@ -3257,7 +3203,7 @@ msgstr "pi ten inode urnlu"
 msgid "Journal size:             "
 msgstr "Velikost urnlu          "
 
-#: misc/dumpe2fs.c:296 misc/tune2fs.c:183
+#: misc/dumpe2fs.c:296 misc/tune2fs.c:165
 msgid "while reading journal superblock"
 msgstr "pi ten superbloku urnlu"
 
@@ -3289,60 +3235,22 @@ msgstr ""
 msgid "Journal users:            %s\n"
 msgstr "Uivatel urnlu:        %s\n"
 
-#: misc/dumpe2fs.c:337 misc/mke2fs.c:768 misc/tune2fs.c:810
-#, c-format
-msgid "Couldn't allocate memory to parse options!\n"
-msgstr "Nemohu alokovat pam pro zpracovn pepna!\n"
-
-#: misc/dumpe2fs.c:363
-#, fuzzy, c-format
-msgid "Invalid superblock parameter: %s\n"
-msgstr "Neplatn parametr kroku (stride): %s\n"
-
-#: misc/dumpe2fs.c:378
-#, fuzzy, c-format
-msgid "Invalid blocksize parameter: %s\n"
-msgstr "Neplatn parametr zmny velikosti: %s\n"
-
-#: misc/dumpe2fs.c:389
-#, fuzzy, c-format
-msgid ""
-"\n"
-"Bad extended option(s) specified: %s\n"
-"\n"
-"Extended options are separated by commas, and may take an argument which\n"
-"\tis set off by an equals ('=') sign.\n"
-"\n"
-"Valid extended options are:\n"
-"\tsuperblock=<superblock number>\n"
-"\tblocksize=<blocksize>\n"
-msgstr ""
-"\n"
-"Zadny patn pepnae.\n"
-"\n"
-"Rozen pepnae jsou oddleny rkami a mohou mt argument, kter je\n"
-"\toddlen znamnkem rovn se (=).\n"
-"\n"
-"Platn rozen pepnae jsou:\n"
-"\ttest_fs\n"
-"\t^test_fs\n"
-
-#: misc/dumpe2fs.c:449 misc/mke2fs.c:1199
+#: misc/dumpe2fs.c:376 misc/mke2fs.c:1167
 #, c-format
 msgid "\tUsing %s\n"
 msgstr "\tPouvm %s\n"
 
-#: misc/dumpe2fs.c:485 misc/e2image.c:666 misc/tune2fs.c:919 resize/main.c:298
+#: misc/dumpe2fs.c:402 misc/e2image.c:666 misc/tune2fs.c:854 resize/main.c:298
 #, c-format
 msgid "Couldn't find valid filesystem superblock.\n"
 msgstr "Nemohu najt platn superblok systmu soubor.\n"
 
-#: misc/dumpe2fs.c:496
+#: misc/dumpe2fs.c:413
 #, c-format
 msgid "Note: This is a byte-swapped filesystem\n"
 msgstr "Poznmka: Tento systm soubor m pehozen bajty\n"
 
-#: misc/dumpe2fs.c:515
+#: misc/dumpe2fs.c:432
 #, c-format
 msgid ""
 "\n"
@@ -3401,7 +3309,7 @@ msgstr "e2label: chyba pi ten supe
 msgid "e2label: not an ext2 filesystem\n"
 msgstr "e2label: nen systm soubor ext2\n"
 
-#: misc/e2label.c:96 misc/tune2fs.c:1025
+#: misc/e2label.c:96 misc/tune2fs.c:970
 #, c-format
 msgid "Warning: label too long, truncating.\n"
 msgstr "Varovn: jmenovka pli dlouh, zkracuji.\n"
@@ -3416,7 +3324,7 @@ msgstr "e2label: nemohu se zase posunout
 msgid "e2label: error writing superblock\n"
 msgstr "e2label: chyba pi zpisu superbloku\n"
 
-#: misc/e2label.c:116 misc/tune2fs.c:496
+#: misc/e2label.c:116 misc/tune2fs.c:462
 #, c-format
 msgid "Usage: e2label device [newlabel]\n"
 msgstr "Pouit: e2label zazen [novjmenovka]\n"
@@ -3487,9 +3395,7 @@ msgstr "Nemohu alokovat pam pro typy
 
 #: misc/fsck.c:872
 #, c-format
-msgid ""
-"%s: skipping bad line in /etc/fstab: bind mount with nonzero fsck pass "
-"number\n"
+msgid "%s: skipping bad line in /etc/fstab: bind mount with nonzero fsck pass number\n"
 msgstr ""
 "%s: peskakuji chybn dek v/etc/fstab: pipojen typu bind snenulovm\n"
 "poadm prchodu skrze fsck\n"
@@ -3503,25 +3409,21 @@ msgstr "fsck: nemohu zkontrolovat %s: fs
 msgid "Checking all file systems.\n"
 msgstr "Kontroluji vechny systmy soubor.\n"
 
-#: misc/fsck.c:1046
+#: misc/fsck.c:1041
 #, c-format
 msgid "--waiting-- (pass %d)\n"
 msgstr "--ekm-- (prchod %d)\n"
 
-#: misc/fsck.c:1066
-#, fuzzy
-msgid ""
-"Usage: fsck [-AMNPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
-msgstr ""
-"Pouit: fsck [-ANPRTV] [-C[fd]] [-t typss] [pepnae-ss] "
-"[systmsoubor]\n"
+#: misc/fsck.c:1061
+msgid "Usage: fsck [-ANPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
+msgstr "Pouit: fsck [-ANPRTV] [-C[fd]] [-t typss] [pepnae-ss] [systmsoubor]\n"
 
-#: misc/fsck.c:1108
+#: misc/fsck.c:1103
 #, c-format
 msgid "%s: too many devices\n"
 msgstr "%s: pli mnoho zazen\n"
 
-#: misc/fsck.c:1141 misc/fsck.c:1227
+#: misc/fsck.c:1136 misc/fsck.c:1222
 #, c-format
 msgid "%s: too many arguments\n"
 msgstr "%s: pli mnoho argument\n"
@@ -3542,52 +3444,51 @@ msgid "While reading version on %s"
 msgstr "Pi ten verze %s"
 
 #: misc/mke2fs.c:97
-#, fuzzy, c-format
+#, c-format
 msgid ""
-"Usage: %s [-c|-l filename] [-b block-size] [-f fragment-size]\n"
-"\t[-i bytes-per-inode] [-I inode-size] [-J journal-options]\n"
+"Usage: %s [-c|-t|-l filename] [-b block-size] [-f fragment-size]\n"
+"\t[-i bytes-per-inode] [-I inode-size] [-j] [-J journal-options]\n"
 "\t[-N number-of-inodes] [-m reserved-blocks-percentage] [-o creator-os]\n"
 "\t[-g blocks-per-group] [-L volume-label] [-M last-mounted-directory]\n"
-"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]]\n"
-"\t[-T fs-type] [-jnqvFSV] device [blocks-count]\n"
+"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]] [-qvSV]\n"
+"\tdevice [blocks-count]\n"
 msgstr ""
-"Pouit: %s [-c|-t|-l nzevsouboru] [-b velikost-bloku] [-f velkost-"
-"fragmentu]\n"
+"Pouit: %s [-c|-t|-l nzevsouboru] [-b velikost-bloku] [-f velkost-fragmentu]\n"
 "\t[-i bajt-na-iuzel] [-I velikost-iuzlu] [-j] [-J pepnae-urnlu]\n"
 "\t[-N poet-iuzl] [-m procenta-rezervovanch-blok] [-o tvoc-os]\n"
 "\t[-g blok-ve-skupin] [-L jmenovka-svazku]\n"
 "\t[-M adres-poslednho-pipojen] [-O vlastnost[,]] [-r revize-ss]\n"
 "\t[-E rozen-pepnae[,]] [-qvSV] zazen [poet-blok]\n"
 
-#: misc/mke2fs.c:198
+#: misc/mke2fs.c:197
 #, c-format
 msgid "Running command: %s\n"
 msgstr "Spoutm pkaz: %s\n"
 
-#: misc/mke2fs.c:202
+#: misc/mke2fs.c:201
 #, c-format
 msgid "while trying to run '%s'"
 msgstr "pi pokusu spustit %s"
 
-#: misc/mke2fs.c:209
+#: misc/mke2fs.c:208
 msgid "while processing list of bad blocks from program"
 msgstr "pi zpracovvn seznamu patnch blok z programu"
 
-#: misc/mke2fs.c:236
+#: misc/mke2fs.c:235
 #, c-format
 msgid "Block %d in primary superblock/group descriptor area bad.\n"
 msgstr "Blok %d v oblasti primrnho superbloku/deskriptor skupin patn.\n"
 
-#: misc/mke2fs.c:238
+#: misc/mke2fs.c:237
 #, c-format
 msgid "Blocks %u through %u must be good in order to build a filesystem.\n"
 msgstr "Bloky %u a %u mus bt pro vytvoen systmu soubor v podku.\n"
 
-#: misc/mke2fs.c:241
+#: misc/mke2fs.c:240
 msgid "Aborting....\n"
 msgstr "Konm\n"
 
-#: misc/mke2fs.c:261
+#: misc/mke2fs.c:260
 #, c-format
 msgid ""
 "Warning: the backup superblock/group descriptors at block %u contain\n"
@@ -3598,23 +3499,23 @@ msgstr ""
 "\tpatn bloky.\n"
 "\n"
 
-#: misc/mke2fs.c:279
+#: misc/mke2fs.c:278
 msgid "while marking bad blocks as used"
 msgstr "pi oznaovn patnch blok jako pouit"
 
-#: misc/mke2fs.c:337
+#: misc/mke2fs.c:336
 msgid "done                            \n"
 msgstr "hotovo                          \n"
 
-#: misc/mke2fs.c:372
+#: misc/mke2fs.c:371
 msgid "while allocating zeroizing buffer"
 msgstr "Pi alokaci nulovac vyrovnvac pamti"
 
-#: misc/mke2fs.c:414
+#: misc/mke2fs.c:413
 msgid "Writing inode tables: "
 msgstr "Zapisuji tabulky inode: "
 
-#: misc/mke2fs.c:431
+#: misc/mke2fs.c:430
 #, c-format
 msgid ""
 "\n"
@@ -3623,67 +3524,67 @@ msgstr ""
 "\n"
 "Nemohu zapsat %d blok do tabulky iuzl zanajc v %u: %s\n"
 
-#: misc/mke2fs.c:487
+#: misc/mke2fs.c:486
 msgid "while creating root dir"
 msgstr "pi vytven koenovho adrese"
 
-#: misc/mke2fs.c:494
+#: misc/mke2fs.c:493
 msgid "while reading root inode"
 msgstr "pi ten koenov inode"
 
-#: misc/mke2fs.c:508
+#: misc/mke2fs.c:507
 msgid "while setting root inode ownership"
 msgstr "pi nastavovn vlastnictv koenov inode"
 
-#: misc/mke2fs.c:526
+#: misc/mke2fs.c:525
 msgid "while creating /lost+found"
 msgstr "pi vytven /lost+found"
 
-#: misc/mke2fs.c:533
+#: misc/mke2fs.c:532
 msgid "while looking up /lost+found"
 msgstr "pi vyhledvn /lost+found"
 
-#: misc/mke2fs.c:543
+#: misc/mke2fs.c:542
 msgid "while expanding /lost+found"
 msgstr "pi zvtovn /lost+found"
 
-#: misc/mke2fs.c:559
+#: misc/mke2fs.c:558
 msgid "while setting bad block inode"
 msgstr "pi nastavovn inode patnch blok"
 
-#: misc/mke2fs.c:591
+#: misc/mke2fs.c:590
 #, c-format
 msgid "Out of memory erasing sectors %d-%d\n"
 msgstr "Nedostatek pamti pi mazn sektor %d-%d\n"
 
-#: misc/mke2fs.c:601
+#: misc/mke2fs.c:600
 #, c-format
 msgid "Warning: could not read block 0: %s\n"
 msgstr "Varovn: nemohu nast blok 0: %s\n"
 
-#: misc/mke2fs.c:617
+#: misc/mke2fs.c:616
 #, c-format
 msgid "Warning: could not erase sector %d: %s\n"
 msgstr "Varovn: nemohu vymazat sektor %d: %s\n"
 
-#: misc/mke2fs.c:633
+#: misc/mke2fs.c:632
 msgid "while initializing journal superblock"
 msgstr "pi inicializaci superbloku urnlu"
 
-#: misc/mke2fs.c:639
+#: misc/mke2fs.c:638
 msgid "Zeroing journal device: "
 msgstr "Nuluji zazen urnlu: "
 
-#: misc/mke2fs.c:646
+#: misc/mke2fs.c:645
 #, c-format
 msgid "while zeroing journal device (block %u, count %d)"
 msgstr "pi nulovn zazen urnlu (blok %u, poet %d)"
 
-#: misc/mke2fs.c:657
+#: misc/mke2fs.c:656
 msgid "while writing journal superblock"
 msgstr "pi zpisu superbloku urnlu"
 
-#: misc/mke2fs.c:673
+#: misc/mke2fs.c:672
 #, c-format
 msgid ""
 "warning: %u blocks unused.\n"
@@ -3692,109 +3593,107 @@ msgstr ""
 "varovn: nepouito %u blok.\n"
 "\n"
 
-#: misc/mke2fs.c:678
+#: misc/mke2fs.c:677
 #, c-format
 msgid "Filesystem label=%s\n"
 msgstr "Jmenovka systmu soubor=%s\n"
 
-#: misc/mke2fs.c:679
+#: misc/mke2fs.c:678
 msgid "OS type: "
 msgstr "Typ OS: "
 
-#: misc/mke2fs.c:684
+#: misc/mke2fs.c:683
 #, c-format
 msgid "Block size=%u (log=%u)\n"
 msgstr "Velikost bloku=%u (log=%u)\n"
 
-#: misc/mke2fs.c:686
+#: misc/mke2fs.c:685
 #, c-format
 msgid "Fragment size=%u (log=%u)\n"
 msgstr "Velikost fragmentu=%u (log=%u)\n"
 
-#: misc/mke2fs.c:688
+#: misc/mke2fs.c:687
 #, c-format
 msgid "%u inodes, %u blocks\n"
 msgstr "%u inode, %u blok\n"
 
-#: misc/mke2fs.c:690
+#: misc/mke2fs.c:689
 #, c-format
 msgid "%u blocks (%2.2f%%) reserved for the super user\n"
 msgstr "%u blok (%2.2f%%) rezervovno pro superuivatele\n"
 
-#: misc/mke2fs.c:693
+#: misc/mke2fs.c:692
 #, c-format
 msgid "First data block=%u\n"
 msgstr "Prvn blok dat=%u\n"
 
-#: misc/mke2fs.c:695
+#: misc/mke2fs.c:694
 #, c-format
 msgid "Maximum filesystem blocks=%lu\n"
 msgstr "Maximum blok vsystmu soubor=%'lu\n"
 
-#: misc/mke2fs.c:700
+#: misc/mke2fs.c:699
 #, c-format
 msgid "%u block groups\n"
 msgstr "%u skupin blok\n"
 
-#: misc/mke2fs.c:702
+#: misc/mke2fs.c:701
 #, c-format
 msgid "%u block group\n"
 msgstr "%u skupina blok\n"
 
-#: misc/mke2fs.c:703
+#: misc/mke2fs.c:702
 #, c-format
 msgid "%u blocks per group, %u fragments per group\n"
 msgstr "%u blok ve skupin, %u fragment ve skupin\n"
 
-#: misc/mke2fs.c:705
+#: misc/mke2fs.c:704
 #, c-format
 msgid "%u inodes per group\n"
 msgstr "%u iuzl ve skupin\n"
 
-#: misc/mke2fs.c:712
+#: misc/mke2fs.c:711
 #, c-format
 msgid "Superblock backups stored on blocks: "
 msgstr "Zlohy superbloku uloeny v blocch: "
 
-#: misc/mke2fs.c:793
+#: misc/mke2fs.c:767 misc/tune2fs.c:776
 #, c-format
-msgid "Invalid stride parameter: %s\n"
-msgstr "Neplatn parametr kroku (stride): %s\n"
+msgid "Couldn't allocate memory to parse options!\n"
+msgstr "Nemohu alokovat pam pro zpracovn pepna!\n"
 
-#: misc/mke2fs.c:808
-#, fuzzy, c-format
-msgid "Invalid stripe-width parameter: %s\n"
+#: misc/mke2fs.c:791
+#, c-format
+msgid "Invalid stride parameter: %s\n"
 msgstr "Neplatn parametr kroku (stride): %s\n"
 
-#: misc/mke2fs.c:830
+#: misc/mke2fs.c:812
 #, c-format
 msgid "Invalid resize parameter: %s\n"
 msgstr "Neplatn parametr zmny velikosti: %s\n"
 
-#: misc/mke2fs.c:837
+#: misc/mke2fs.c:819
 #, c-format
 msgid "The resize maximum must be greater than the filesystem size.\n"
 msgstr "Maximum zmny velkosti mus bt vt ne velikost systmu soubor.\n"
 
-#: misc/mke2fs.c:861
+#: misc/mke2fs.c:843
 #, c-format
 msgid "On-line resizing not supported with revision 0 filesystems\n"
 msgstr "Revize 0 souborovho systmu nepodporuje zmnu velikosti za bhu\n"
 
-#: misc/mke2fs.c:878
-#, fuzzy, c-format
+#: misc/mke2fs.c:858
+#, c-format
 msgid ""
 "\n"
-"Bad option(s) specified: %s\n"
+"Bad options specified.\n"
 "\n"
 "Extended options are separated by commas, and may take an argument which\n"
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk data chunk in blocks>\n"
-"\tstripe-width=<RAID stride * data disks in blocks>\n"
+"\tstride=<stride length in blocks>\n"
 "\tresize=<resize maximum size in blocks>\n"
-"\n"
 "\ttest_fs\n"
 msgstr ""
 "\n"
@@ -3808,15 +3707,7 @@ msgstr ""
 "\tresize=<maximln velikost zmny velikosti vblocch>\n"
 "\ttest_fs\n"
 
-#: misc/mke2fs.c:893
-#, c-format
-msgid ""
-"\n"
-"Warning: RAID stripe-width %u not an even multiple of stride %u.\n"
-"\n"
-msgstr ""
-
-#: misc/mke2fs.c:920
+#: misc/mke2fs.c:888
 #, c-format
 msgid ""
 "Syntax error in mke2fs config file (%s, line #%d)\n"
@@ -3825,101 +3716,97 @@ msgstr ""
 "Chyba syntaxe vkonfiguranm souboru mke2fs (%s, dek .%d)\n"
 "\t%s\n"
 
-#: misc/mke2fs.c:933 misc/tune2fs.c:335
+#: misc/mke2fs.c:901 misc/tune2fs.c:314
 #, c-format
 msgid "Invalid filesystem option set: %s\n"
 msgstr "Neplatn sada pepna systmu soubor: %s\n"
 
-#: misc/mke2fs.c:1040
+#: misc/mke2fs.c:1008
 #, c-format
 msgid "invalid block size - %s"
 msgstr "patn velikost bloku %s"
 
-#: misc/mke2fs.c:1044
+#: misc/mke2fs.c:1012
 #, c-format
 msgid "Warning: blocksize %d not usable on most systems.\n"
 msgstr "Varovn: velikost bloku %d nen na vtin systm pouiteln.\n"
 
-#: misc/mke2fs.c:1061
+#: misc/mke2fs.c:1029
 #, c-format
 msgid "invalid fragment size - %s"
 msgstr "patn velikost fragmentu %s"
 
-#: misc/mke2fs.c:1067
+#: misc/mke2fs.c:1035
 #, c-format
 msgid "Warning: fragments not supported.  Ignoring -f option\n"
 msgstr "Varovn: fragmenty nepodporovny. Ignoruji pepna -f\n"
 
-#: misc/mke2fs.c:1074
+#: misc/mke2fs.c:1042
 msgid "Illegal number for blocks per group"
 msgstr "Neplatn poet blok ve skupin"
 
-#: misc/mke2fs.c:1079
+#: misc/mke2fs.c:1047
 msgid "blocks per group must be multiple of 8"
 msgstr "bloky ve skupin mus bt nsobek 8"
 
-#: misc/mke2fs.c:1089
+#: misc/mke2fs.c:1057
 #, c-format
 msgid "invalid inode ratio %s (min %d/max %d)"
 msgstr "patn podl iuzl %s (min %d/max %d)"
 
-#: misc/mke2fs.c:1106
+#: misc/mke2fs.c:1074
 msgid "in malloc for bad_blocks_filename"
 msgstr "v malloc pro bad_blocks_filename"
 
-#: misc/mke2fs.c:1115
+#: misc/mke2fs.c:1083
 #, c-format
 msgid "invalid reserved blocks percent - %s"
 msgstr "patn procento rezervovanch blok %s"
 
-#: misc/mke2fs.c:1133
+#: misc/mke2fs.c:1101
 #, c-format
 msgid "bad revision level - %s"
 msgstr "patn slo revize %s"
 
-#: misc/mke2fs.c:1145
+#: misc/mke2fs.c:1113
 #, c-format
 msgid "invalid inode size - %s"
 msgstr "patn velikost iuzlu %s"
 
-#: misc/mke2fs.c:1165
+#: misc/mke2fs.c:1133
 #, c-format
 msgid "bad num inodes - %s"
 msgstr "chybn poet iuzl %s"
 
-#: misc/mke2fs.c:1223 misc/mke2fs.c:1745
+#: misc/mke2fs.c:1191 misc/mke2fs.c:1713
 #, c-format
 msgid "while trying to open journal device %s\n"
 msgstr "pi pokusu otevt zazen urnlu %s\n"
 
-#: misc/mke2fs.c:1229
+#: misc/mke2fs.c:1197
 #, c-format
 msgid "Journal dev blocksize (%d) smaller than minimum blocksize %d\n"
-msgstr ""
-"Velikost bloku zazen urnlu (%d) men ne minimln velikost bloku %d\n"
+msgstr "Velikost bloku zazen urnlu (%d) men ne minimln velikost bloku %d\n"
 
-#: misc/mke2fs.c:1243
+#: misc/mke2fs.c:1211
 #, c-format
 msgid "%d-byte blocks too big for system (max %d)"
 msgstr "%d-bajtov bloky pli velk pro systm (max %d)"
 
-#: misc/mke2fs.c:1247
+#: misc/mke2fs.c:1215
 #, c-format
-msgid ""
-"Warning: %d-byte blocks too big for system (max %d), forced to continue\n"
-msgstr ""
-"Varovn: %d-bajtov bloky pli velk pro systm (max %d), donucen "
-"pokraovat\n"
+msgid "Warning: %d-byte blocks too big for system (max %d), forced to continue\n"
+msgstr "Varovn: %d-bajtov bloky pli velk pro systm (max %d), donucen pokraovat\n"
 
-#: misc/mke2fs.c:1265
+#: misc/mke2fs.c:1233
 msgid "filesystem"
 msgstr "systm soubor"
 
-#: misc/mke2fs.c:1288 resize/main.c:332
+#: misc/mke2fs.c:1256 resize/main.c:332
 msgid "while trying to determine filesystem size"
 msgstr "pi pokusu zjistit velikost systmu soubor"
 
-#: misc/mke2fs.c:1294
+#: misc/mke2fs.c:1262
 msgid ""
 "Couldn't determine device size; you must specify\n"
 "the size of the filesystem\n"
@@ -3927,7 +3814,7 @@ msgstr ""
 "Nemohu zjistit velikost zazen; muste zadat\n"
 "velikost systmu soubor\n"
 
-#: misc/mke2fs.c:1301
+#: misc/mke2fs.c:1269
 msgid ""
 "Device size reported to be zero.  Invalid partition specified, or\n"
 "\tpartition table wasn't reread after running fdisk, due to\n"
@@ -3939,40 +3826,40 @@ msgstr ""
 "         oddl se pouv. Mon budete muset pro optovn naten\n"
 "         sv tabulky oddl znovu zavst systm.\n"
 
-#: misc/mke2fs.c:1319
+#: misc/mke2fs.c:1287
 msgid "Filesystem larger than apparent device size."
 msgstr "Systm soubor vt ne velikost zazen."
 
-#: misc/mke2fs.c:1367
+#: misc/mke2fs.c:1335
 #, c-format
 msgid "Filesystem features not supported with revision 0 filesystems\n"
 msgstr "Vlastnosti systmu soubor nejsou vrevizi 0 podporovny\n"
 
-#: misc/mke2fs.c:1374
+#: misc/mke2fs.c:1342
 #, c-format
 msgid "Sparse superblocks not supported with revision 0 filesystems\n"
 msgstr "dk superbloky systmu soubor nejsou vrevizi 0 podporovny\n"
 
-#: misc/mke2fs.c:1386
+#: misc/mke2fs.c:1354
 #, c-format
 msgid "Journals not supported with revision 0 filesystems\n"
 msgstr "Revize 0 systmu soubor urnly nepodporuje\n"
 
-#: misc/mke2fs.c:1412
+#: misc/mke2fs.c:1380
 msgid "while trying to determine hardware sector size"
 msgstr "pi pokusu zjistit velikost hardwarovho sektoru"
 
-#: misc/mke2fs.c:1464
+#: misc/mke2fs.c:1432
 msgid "reserved online resize blocks not supported on non-sparse filesystem"
 msgstr ""
 "bloky vyhrazen pro zmnu velikosti za bhu nejsou podporovny na nedkm\n"
 "\tsystmu soubor"
 
-#: misc/mke2fs.c:1473
+#: misc/mke2fs.c:1441
 msgid "blocks per group count out of range"
 msgstr "poet blok ve skupin mimo rozsah"
 
-#: misc/mke2fs.c:1480
+#: misc/mke2fs.c:1448
 msgid ""
 "Filesystem too large.  No more than 2**31-1 blocks\n"
 "\t (8TB using a blocksize of 4k) are currently supported."
@@ -3980,7 +3867,7 @@ msgstr ""
 "Souborov systm je pli velk. Vsouasnosti nen podporovno vce jak\n"
 "\t2**31-1 blok (8TB pi 4k blocch)."
 
-#: misc/mke2fs.c:1487
+#: misc/mke2fs.c:1455
 #, c-format
 msgid ""
 "\n"
@@ -3993,27 +3880,27 @@ msgstr ""
 "\tJe-li to v ppad, pouijte -b 4096.\n"
 "\n"
 
-#: misc/mke2fs.c:1504
+#: misc/mke2fs.c:1472
 #, c-format
 msgid "invalid inode size %d (min %d/max %d)"
 msgstr "patn velikost iuzlu %d (min %d/max %d)"
 
-#: misc/mke2fs.c:1510
+#: misc/mke2fs.c:1478
 #, c-format
 msgid "Warning: %d-byte inodes not usable on older systems\n"
 msgstr "Varovn: %dbajtov iuzly nejsou na starch systmech pouiteln\n"
 
-#: misc/mke2fs.c:1522
+#: misc/mke2fs.c:1490
 #, c-format
 msgid "too many inodes (%llu), raise inode ratio?"
 msgstr "pli mnoho iuzl (%'llu), zvit pomr iuzlu?"
 
-#: misc/mke2fs.c:1527
+#: misc/mke2fs.c:1495
 #, c-format
 msgid "too many inodes (%llu), specify < 2^32 inodes"
 msgstr "pli mnoho iuzl (%'llu), zadejte < 2^32 iuzl"
 
-#: misc/mke2fs.c:1542
+#: misc/mke2fs.c:1510
 #, c-format
 msgid ""
 "inode_size (%u) * inodes_count (%u) too big for a\n"
@@ -4024,38 +3911,38 @@ msgstr ""
 "\tsystm soubor s %'lu bloky, zadejte vy pomr_iuzlu (-i)\n"
 "\tnebo snite poet iuzl (-N).\n"
 
-#: misc/mke2fs.c:1591
+#: misc/mke2fs.c:1559
 msgid "while setting up superblock"
 msgstr "pi nastavovn superbloku"
 
-#: misc/mke2fs.c:1628
+#: misc/mke2fs.c:1596
 #, c-format
 msgid "unknown os - %s"
 msgstr "neznm os %s"
 
-#: misc/mke2fs.c:1682
+#: misc/mke2fs.c:1650
 msgid "while trying to allocate filesystem tables"
 msgstr "pi pokusu alokovat tabulky systmu soubor"
 
-#: misc/mke2fs.c:1713
+#: misc/mke2fs.c:1681
 #, c-format
 msgid "while zeroing block %u at end of filesystem"
 msgstr "pi nulovn bloku %u na konci systmu soubor"
 
-#: misc/mke2fs.c:1727
+#: misc/mke2fs.c:1695
 msgid "while reserving blocks for online resize"
 msgstr "pi rezervaci blok pro zmnu velikosti za bhu"
 
-#: misc/mke2fs.c:1738 misc/tune2fs.c:433
+#: misc/mke2fs.c:1706 misc/tune2fs.c:399
 msgid "journal"
 msgstr "urnl"
 
-#: misc/mke2fs.c:1750
+#: misc/mke2fs.c:1718
 #, c-format
 msgid "Adding journal to device %s: "
 msgstr "Pidvm urnl k zazen %s: "
 
-#: misc/mke2fs.c:1757
+#: misc/mke2fs.c:1725
 #, c-format
 msgid ""
 "\n"
@@ -4064,17 +3951,17 @@ msgstr ""
 "\n"
 "\tpi pokusu pidat urnl k zazen %s"
 
-#: misc/mke2fs.c:1762 misc/mke2fs.c:1788 misc/tune2fs.c:461 misc/tune2fs.c:475
+#: misc/mke2fs.c:1730 misc/mke2fs.c:1756 misc/tune2fs.c:427 misc/tune2fs.c:441
 #, c-format
 msgid "done\n"
 msgstr "hotovo\n"
 
-#: misc/mke2fs.c:1793
+#: misc/mke2fs.c:1761
 #, c-format
 msgid "Writing superblocks and filesystem accounting information: "
 msgstr "Zapisuji superbloky a tovac informace systmu soubor: "
 
-#: misc/mke2fs.c:1798
+#: misc/mke2fs.c:1766
 #, c-format
 msgid ""
 "\n"
@@ -4083,7 +3970,7 @@ msgstr ""
 "\n"
 "Varovn, ml jsem problmy pi zpisu superblok."
 
-#: misc/mke2fs.c:1801
+#: misc/mke2fs.c:1769
 #, c-format
 msgid ""
 "done\n"
@@ -4097,17 +3984,18 @@ msgstr ""
 msgid "Usage: mklost+found\n"
 msgstr "Pouit: mklost+found\n"
 
-#: misc/tune2fs.c:91
+#: misc/tune2fs.c:89
 msgid "Please run e2fsck on the filesystem.\n"
 msgstr "Spuste prosm na tomto systmu soubor e2fsck.\n"
 
-#: misc/tune2fs.c:98
-#, fuzzy, c-format
+#: misc/tune2fs.c:96
+#, c-format
 msgid ""
 "Usage: %s [-c max_mounts_count] [-e errors_behavior] [-g group]\n"
-"\t[-i interval[d|m|w]] [-j] [-J journal_options] [-l]\n"
-"\t[-m reserved_blocks_percent] [-o [^]mount_options[,...]] \n"
-"\t[-r reserved_blocks_count] [-u user] [-C mount_count] [-L volume_label]\n"
+"\t[-i interval[d|m|w]] [-j] [-J journal_options]\n"
+"\t[-l] [-s sparse_flag] [-m reserved_blocks_percent]\n"
+"\t[-o [^]mount_options[,...]] [-r reserved_blocks_count]\n"
+"\t[-u user] [-C mount_count] [-L volume_label]\n"
 "\t[-M last_mounted_dir] [-O [^]feature[,...]]\n"
 "\t[-E extended-option[,...]] [-T last_check_time] [-U UUID] device\n"
 msgstr ""
@@ -4119,59 +4007,49 @@ msgstr ""
 "\t[-M posledn_adres_pipojen] [-O [^]vlastnost[,]]\n"
 "\t[-E rozen-pepna[,]] [-T as_posledn_kontroly] [-U UUID] zazen\n"
 
-#: misc/tune2fs.c:171
+#: misc/tune2fs.c:153
 msgid "while trying to open external journal"
 msgstr "pi pokusu otevt extern urnl"
 
-#: misc/tune2fs.c:175
+#: misc/tune2fs.c:157
 #, c-format
 msgid "%s is not a journal device.\n"
 msgstr "%s nen zazen urnlu.\n"
 
-#: misc/tune2fs.c:190
+#: misc/tune2fs.c:172
 msgid "Journal superblock not found!\n"
 msgstr "Superblok urnlu nenalezen!\n"
 
-#: misc/tune2fs.c:202
+#: misc/tune2fs.c:184
 msgid "Filesystem's UUID not found on journal device.\n"
 msgstr "UUID systmu soubor nenalezeno na zazen urnlu.\n"
 
-#: misc/tune2fs.c:223
+#: misc/tune2fs.c:205
 msgid "Journal NOT removed\n"
 msgstr "urnl NEODSTRANN\n"
 
-#: misc/tune2fs.c:229
+#: misc/tune2fs.c:211
 msgid "Journal removed\n"
 msgstr "urnl odstrann\n"
 
-#: misc/tune2fs.c:268
+#: misc/tune2fs.c:250
 msgid "while reading bitmaps"
 msgstr "pi ten bitmap"
 
-#: misc/tune2fs.c:275
+#: misc/tune2fs.c:257
 msgid "while clearing journal inode"
 msgstr "pi mazn inode urnlu"
 
-#: misc/tune2fs.c:286
+#: misc/tune2fs.c:268
 msgid "while writing journal inode"
 msgstr "pi zpisu inode urnlu"
 
-#: misc/tune2fs.c:301
+#: misc/tune2fs.c:283
 #, c-format
 msgid "Invalid mount option set: %s\n"
 msgstr "Nastaven neplatn pepna pipojen: %s\n"
 
-#: misc/tune2fs.c:338
-#, fuzzy, c-format
-msgid "Clearing filesystem feature '%s' not supported.\n"
-msgstr "Vlastnosti systmu soubor nejsou vrevizi 0 podporovny\n"
-
-#: misc/tune2fs.c:344
-#, fuzzy, c-format
-msgid "Setting filesystem feature '%s' not supported.\n"
-msgstr "Vlastnosti systmu soubor nejsou vrevizi 0 podporovny\n"
-
-#: misc/tune2fs.c:353
+#: misc/tune2fs.c:329
 msgid ""
 "The has_journal flag may only be cleared when the filesystem is\n"
 "unmounted or mounted read-only.\n"
@@ -4179,7 +4057,7 @@ msgstr ""
 "Pznak has_journal me bt vymazn jen kdy je systm soubor\n"
 "odpojen nebo pipojen jen pro ten.\n"
 
-#: misc/tune2fs.c:361
+#: misc/tune2fs.c:337
 msgid ""
 "The needs_recovery flag is set.  Please run e2fsck before clearing\n"
 "the has_journal flag.\n"
@@ -4187,11 +4065,11 @@ msgstr ""
 "Pznak needs_recovery je nastaven. Ped vymaznm pznaku has_journal\n"
 "prosm spuste e2fsck.\n"
 
-#: misc/tune2fs.c:428
+#: misc/tune2fs.c:394
 msgid "The filesystem already has a journal.\n"
 msgstr "Systm soubor ji urnl m.\n"
 
-#: misc/tune2fs.c:445
+#: misc/tune2fs.c:411
 #, c-format
 msgid ""
 "\n"
@@ -4200,21 +4078,21 @@ msgstr ""
 "\n"
 "\tpi pokusu otevt urnl na %s\n"
 
-#: misc/tune2fs.c:449
+#: misc/tune2fs.c:415
 #, c-format
 msgid "Creating journal on device %s: "
 msgstr "Vytvm urnl na zazen %s: "
 
-#: misc/tune2fs.c:457
+#: misc/tune2fs.c:423
 #, c-format
 msgid "while adding filesystem to journal on %s"
 msgstr "pi pidvn systmu soubor do urnlu na %s"
 
-#: misc/tune2fs.c:463
+#: misc/tune2fs.c:429
 msgid "Creating journal inode: "
 msgstr "Vytvm inode urnlu: "
 
-#: misc/tune2fs.c:472
+#: misc/tune2fs.c:438
 msgid ""
 "\n"
 "\twhile trying to create journal file"
@@ -4222,66 +4100,56 @@ msgstr ""
 "\n"
 "\tpi pokusu vytvoit soubor urnlu"
 
-#: misc/tune2fs.c:539
+#: misc/tune2fs.c:505
 #, c-format
 msgid "Couldn't parse date/time specifier: %s"
 msgstr "Nemohu zpracovat uren data/asu: %s"
 
-#: misc/tune2fs.c:563 misc/tune2fs.c:576
+#: misc/tune2fs.c:529 misc/tune2fs.c:542
 #, c-format
 msgid "bad mounts count - %s"
 msgstr "patn poet pipojen - %s"
 
-#: misc/tune2fs.c:592
+#: misc/tune2fs.c:558
 #, c-format
 msgid "bad error behavior - %s"
 msgstr "patn chovn pi chybch - %s"
 
-#: misc/tune2fs.c:619
+#: misc/tune2fs.c:585
 #, c-format
 msgid "bad gid/group name - %s"
 msgstr "patn gid/jmno skupiny - %s"
 
-#: misc/tune2fs.c:652
+#: misc/tune2fs.c:618
 #, c-format
 msgid "bad interval - %s"
 msgstr "patn interval - %s"
 
-#: misc/tune2fs.c:680
+#: misc/tune2fs.c:646
 #, c-format
 msgid "bad reserved block ratio - %s"
 msgstr "patn podl rezervovanch blok - %s"
 
-#: misc/tune2fs.c:695
+#: misc/tune2fs.c:661
 msgid "-o may only be specified once"
 msgstr "-o me bt zadno jen jednou"
 
-#: misc/tune2fs.c:705
+#: misc/tune2fs.c:671
 msgid "-O may only be specified once"
 msgstr "-O me bt zadno jen jednou"
 
-#: misc/tune2fs.c:715
+#: misc/tune2fs.c:681
 #, c-format
 msgid "bad reserved blocks count - %s"
 msgstr "patn poet rezervovanch blok - %s"
 
-#: misc/tune2fs.c:744
+#: misc/tune2fs.c:710
 #, c-format
 msgid "bad uid/user name - %s"
 msgstr "patn uid/jmno uivatele - %s"
 
-#: misc/tune2fs.c:842
-#, fuzzy, c-format
-msgid "Invalid RAID stride: %s\n"
-msgstr "Neplatn parametr kroku (stride): %s\n"
-
-#: misc/tune2fs.c:857
-#, fuzzy, c-format
-msgid "Invalid RAID stripe-width: %s\n"
-msgstr "Neplatn parametr kroku (stride): %s\n"
-
-#: misc/tune2fs.c:867
-#, fuzzy, c-format
+#: misc/tune2fs.c:804
+#, c-format
 msgid ""
 "\n"
 "Bad options specified.\n"
@@ -4290,8 +4158,6 @@ msgid ""
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk chunk size in blocks>\n"
-"\tstripe-width=<RAID stride*data disks in blocks>\n"
 "\ttest_fs\n"
 "\t^test_fs\n"
 msgstr ""
@@ -4301,57 +4167,56 @@ msgstr ""
 "Rozen pepnae jsou oddleny rkami a mohou mt argument, kter je\n"
 "\toddlen znamnkem rovn se (=).\n"
 "\n"
-"Platn pepnae jsou:\n"
-"\tstride=<dlka kroku (stride) vblocch>\n"
-"\tresize=<maximln velikost zmny velikosti vblocch>\n"
+"Platn rozen pepnae jsou:\n"
 "\ttest_fs\n"
+"\t^test_fs\n"
 
-#: misc/tune2fs.c:927
+#: misc/tune2fs.c:862
 #, c-format
 msgid "Filesystem %s has unsupported features enabled.\n"
 msgstr "Systm soubor %s m zapnut nepodporovan vlastnosti.\n"
 
-#: misc/tune2fs.c:951
+#: misc/tune2fs.c:886
 #, c-format
 msgid "Setting maximal mount count to %d\n"
 msgstr "Nastavuji maximln poet pipojen na %d\n"
 
-#: misc/tune2fs.c:957
+#: misc/tune2fs.c:892
 #, c-format
 msgid "Setting current mount count to %d\n"
 msgstr "Nastavuji aktuln poet pipojen na %d\n"
 
-#: misc/tune2fs.c:962
+#: misc/tune2fs.c:897
 #, c-format
 msgid "Setting error behavior to %d\n"
 msgstr "Nastavuji chovn pi chybch na %d\n"
 
-#: misc/tune2fs.c:967
+#: misc/tune2fs.c:902
 #, c-format
 msgid "Setting reserved blocks gid to %lu\n"
 msgstr "Nastavuji gid rezervovanch blok na %lu\n"
 
-#: misc/tune2fs.c:972
+#: misc/tune2fs.c:907
 #, c-format
 msgid "Setting interval between checks to %lu seconds\n"
 msgstr "Nastavuji interval mezi kontrolami na %'lu sekund\n"
 
-#: misc/tune2fs.c:978
+#: misc/tune2fs.c:913
 #, c-format
 msgid "Setting reserved blocks percentage to %g%% (%u blocks)\n"
 msgstr "Nastavuji procento rezervovanch blok na %g%% (%'u blok)\n"
 
-#: misc/tune2fs.c:984
+#: misc/tune2fs.c:919
 #, c-format
 msgid "reserved blocks count is too big (%lu)"
 msgstr "poet rezervovanch blok je pli velk (%'lu)"
 
-#: misc/tune2fs.c:990
+#: misc/tune2fs.c:925
 #, c-format
 msgid "Setting reserved blocks count to %lu\n"
 msgstr "Nastavuji poet rezervovanch blok na %'lu\n"
 
-#: misc/tune2fs.c:996
+#: misc/tune2fs.c:931
 msgid ""
 "\n"
 "The filesystem already has sparse superblocks.\n"
@@ -4359,7 +4224,7 @@ msgstr ""
 "\n"
 "Systm soubor ji m dk superbloky.\n"
 
-#: misc/tune2fs.c:1003
+#: misc/tune2fs.c:938
 #, c-format
 msgid ""
 "\n"
@@ -4368,36 +4233,37 @@ msgstr ""
 "\n"
 "Pznak dkch superblok nastaven.  %s"
 
-#: misc/tune2fs.c:1008
+#: misc/tune2fs.c:945
+msgid ""
+"\n"
+"The filesystem already has sparse superblocks disabled.\n"
+msgstr ""
+"\n"
+"Systm soubor ji m dk superbloky zakzny.\n"
+
+#: misc/tune2fs.c:953
+#, c-format
 msgid ""
 "\n"
-"Clearing the sparse superflag not supported.\n"
+"Sparse superblock flag cleared.  %s"
 msgstr ""
+"\n"
+"Pznak dkch superblok vymazn.  %s"
 
-#: misc/tune2fs.c:1015
+#: misc/tune2fs.c:960
 #, c-format
 msgid "Setting time filesystem last checked to %s\n"
 msgstr "Nastavuji as posledn kontroly systmu soubor na %s\n"
 
-#: misc/tune2fs.c:1021
+#: misc/tune2fs.c:966
 #, c-format
 msgid "Setting reserved blocks uid to %lu\n"
 msgstr "Nastavuji uid rezervovanch blok na %lu\n"
 
-#: misc/tune2fs.c:1056
+#: misc/tune2fs.c:1001
 msgid "Invalid UUID format\n"
 msgstr "Neplatn formt UUID\n"
 
-#: misc/tune2fs.c:1067
-#, fuzzy, c-format
-msgid "Setting stride size to %d\n"
-msgstr "Nastavuji gid rezervovanch blok na %lu\n"
-
-#: misc/tune2fs.c:1072
-#, fuzzy, c-format
-msgid "Setting stripe width to %d\n"
-msgstr "Nastavuji gid rezervovanch blok na %lu\n"
-
 #: misc/util.c:72
 msgid "Proceed anyway? (y,n) "
 msgstr "Pesto pokraovat? (a,n) "
@@ -4642,25 +4508,10 @@ msgstr "bloky pro pesun"
 msgid "meta-data blocks"
 msgstr "bloky meta-dat"
 
-#: resize/resize2fs.c:1550
+#: resize/resize2fs.c:1534
 #, c-format
 msgid "Should never happen: resize inode corrupt!\n"
-msgstr ""
-"Toto by se nikdy nemlo stt:iuzly pro zmnu velikosti jsou pokozeny!\n"
-
-#~ msgid ""
-#~ "\n"
-#~ "The filesystem already has sparse superblocks disabled.\n"
-#~ msgstr ""
-#~ "\n"
-#~ "Systm soubor ji m dk superbloky zakzny.\n"
-
-#~ msgid ""
-#~ "\n"
-#~ "Sparse superblock flag cleared.  %s"
-#~ msgstr ""
-#~ "\n"
-#~ "Pznak dkch superblok vymazn.  %s"
+msgstr "Toto by se nikdy nemlo stt:iuzly pro zmnu velikosti jsou pokozeny!\n"
 
 #~ msgid "Clone duplicate/bad blocks"
 #~ msgstr "Klonovat dupliktn/patn bloky"
@@ -4690,8 +4541,7 @@ msgstr ""
 #~ msgstr "Duplikovan/patn blok(y) v inode %i:"
 
 #~ msgid "Forcibly clearing HTREE flag on @i %d (%q).  (Beta test code)\n"
-#~ msgstr ""
-#~ "Vynucen mau pznak HTREE v inode %d (%q). (Kd v beta testovn)\n"
+#~ msgstr "Vynucen mau pznak HTREE v inode %d (%q). (Kd v beta testovn)\n"
 
 #~ msgid ""
 #~ "\n"
Files e2fsprogs-1.40.7/po/de.gmo and e2fsprogs/po/de.gmo differ
diff -Nurp e2fsprogs-1.40.7/po/de.po e2fsprogs/po/de.po
--- e2fsprogs-1.40.7/po/de.po	2008-02-29 02:46:05.000000000 +0000
+++ e2fsprogs/po/de.po	2008-02-29 11:23:57.000000000 +0000
@@ -65,7 +65,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: e2fsprogs-1.28\n"
 "Report-Msgid-Bugs-To: tytso@alum.mit.edu\n"
-"POT-Creation-Date: 2008-02-28 21:45-0500\n"
+"POT-Creation-Date: 2008-02-09 23:16-0500\n"
 "PO-Revision-Date: 2007-12-05 15:25+0100\n"
 "Last-Translator: Marc Langer <marc@marclanger.de>\n"
 "Language-Team: German <translation-team-de@lists.sourceforge.net>\n"
@@ -74,7 +74,7 @@ msgstr ""
 "Content-Transfer-Encoding: 8bit\n"
 "Plural-Forms: nplurals=2; plural=(n != 1);\n"
 
-#: e2fsck/badblocks.c:22 misc/mke2fs.c:157
+#: e2fsck/badblocks.c:22 misc/mke2fs.c:156
 #, c-format
 msgid "Bad block %u out of range; ignored.\n"
 msgstr "Bad block %u auerhalb des gltigen Bereichs; ignoriert.\n"
@@ -88,10 +88,10 @@ msgid "while reading the bad blocks inod
 msgstr "whrend des Lesens des 'Bad Block'-Inodes"
 
 #: e2fsck/badblocks.c:71 e2fsck/iscan.c:112 e2fsck/scantest.c:109
-#: e2fsck/unix.c:1010 e2fsck/unix.c:1093 misc/badblocks.c:1025
+#: e2fsck/unix.c:992 e2fsck/unix.c:1075 misc/badblocks.c:1025
 #: misc/badblocks.c:1033 misc/badblocks.c:1047 misc/badblocks.c:1059
-#: misc/dumpe2fs.c:483 misc/e2image.c:571 misc/e2image.c:664
-#: misc/e2image.c:680 misc/mke2fs.c:173 misc/tune2fs.c:916 resize/main.c:296
+#: misc/dumpe2fs.c:400 misc/e2image.c:571 misc/e2image.c:664
+#: misc/e2image.c:680 misc/mke2fs.c:172 misc/tune2fs.c:851 resize/main.c:296
 #, c-format
 msgid "while trying to open %s"
 msgstr "beim Versuch, %s zu ffnen"
@@ -101,15 +101,15 @@ msgstr "beim Versuch, %s zu ffnen"
 msgid "while trying popen '%s'"
 msgstr "beim Versuch, '%s' mittels 'popen' zu ffnen"
 
-#: e2fsck/badblocks.c:93 misc/mke2fs.c:180
+#: e2fsck/badblocks.c:93 misc/mke2fs.c:179
 msgid "while reading in list of bad blocks from file"
 msgstr "beim Lesen der 'Bad Block'-Liste aus der Datei"
 
-#: e2fsck/badblocks.c:104
+#: e2fsck/badblocks.c:103
 msgid "while updating bad block inode"
 msgstr "beim Updaten des 'Bad Block'-Inodes"
 
-#: e2fsck/badblocks.c:130
+#: e2fsck/badblocks.c:129
 #, c-format
 msgid "Warning: illegal block %u found in bad block inode.  Cleared.\n"
 msgstr ""
@@ -458,7 +458,7 @@ msgstr "interner Fehler; dup_blk fr %d 
 msgid "internal error: couldn't lookup EA inode record for %u"
 msgstr "Interner Fehler: kann dir_info fr %i nicht finden.\n"
 
-#: e2fsck/pass1.c:404 e2fsck/pass2.c:770
+#: e2fsck/pass1.c:404 e2fsck/pass2.c:779
 #, fuzzy
 msgid "reading directory block"
 msgstr "lese indirekte Blcke von Inode %u"
@@ -530,7 +530,7 @@ msgstr "inode bitmap"
 msgid "inode table"
 msgstr "Inode-Tabelle"
 
-#: e2fsck/pass2.c:283
+#: e2fsck/pass2.c:292
 msgid "Pass 2"
 msgstr "Durchgang 2"
 
@@ -2407,7 +2407,7 @@ msgstr "%s: %u/%u Dateien (%0d.%d%% nich
 msgid "         # of inodes with ind/dind/tind blocks: %u/%u/%u\n"
 msgstr "         # von Inodes mit ind/dind/tind Blcken: %u/%u/%u\n"
 
-#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:941 misc/util.c:151
+#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:876 misc/util.c:151
 #: resize/main.c:237
 #, c-format
 msgid "while determining whether %s is mounted."
@@ -2546,7 +2546,7 @@ msgid "Byte-swapping filesystems not com
 msgstr ""
 "Das Byte-Swapping wurde in diese Version von e2fsck nicht einkompiliert.\n"
 
-#: e2fsck/unix.c:770 misc/tune2fs.c:504 misc/tune2fs.c:769 misc/tune2fs.c:786
+#: e2fsck/unix.c:770 misc/tune2fs.c:470 misc/tune2fs.c:735 misc/tune2fs.c:752
 #, c-format
 msgid "Unable to resolve '%s'"
 msgstr "Nicht mglich %s aufzulsen"
@@ -2577,38 +2577,38 @@ msgid ""
 "\n"
 msgstr ""
 
-#: e2fsck/unix.c:905
+#: e2fsck/unix.c:904
 #, c-format
 msgid "Error: ext2fs library version out of date!\n"
 msgstr "Fehler: ext2fs-Bibliotheks-Version ist zu alt!\n"
 
-#: e2fsck/unix.c:913
+#: e2fsck/unix.c:912
 msgid "while trying to initialize program"
 msgstr "bei der Programminitialisierung"
 
-#: e2fsck/unix.c:927
+#: e2fsck/unix.c:926
 #, c-format
 msgid "\tUsing %s, %s\n"
 msgstr "\tBenutze %s, %s\n"
 
-#: e2fsck/unix.c:939
+#: e2fsck/unix.c:938
 msgid "need terminal for interactive repairs"
 msgstr "Bentige ein Terminal fr interaktive Reparaturen"
 
-#: e2fsck/unix.c:983
+#: e2fsck/unix.c:978
 #, fuzzy, c-format
 msgid "%s: %s trying backup blocks...\n"
 msgstr "%s versuche Backup-Blcke...\n"
 
-#: e2fsck/unix.c:985
+#: e2fsck/unix.c:980
 msgid "Superblock invalid,"
 msgstr ""
 
-#: e2fsck/unix.c:986
+#: e2fsck/unix.c:981
 msgid "Group descriptors look bad..."
 msgstr "Gruppen-Deskriptoren scheinen defekt zu sein..."
 
-#: e2fsck/unix.c:1013
+#: e2fsck/unix.c:995
 #, c-format
 msgid ""
 "The filesystem revision is apparently too high for this version of e2fsck.\n"
@@ -2619,28 +2619,28 @@ msgstr ""
 "von e2fsck (oder der Dateisystem-Superblock ist defekt).\n"
 "\n"
 
-#: e2fsck/unix.c:1019
+#: e2fsck/unix.c:1001
 #, c-format
 msgid "Could this be a zero-length partition?\n"
 msgstr "Knnte es eine Partion der Lnge Null sein?\n"
 
-#: e2fsck/unix.c:1021
+#: e2fsck/unix.c:1003
 #, c-format
 msgid "You must have %s access to the filesystem or be root\n"
 msgstr "Sie bentigen %s- oder root-Rechte fr das Dateisystem.\n"
 
-#: e2fsck/unix.c:1026
+#: e2fsck/unix.c:1008
 #, c-format
 msgid "Possibly non-existent or swap device?\n"
 msgstr ""
 "Mglicherweise ist die Partition nicht vorhanden oder eine Swap-Partition?\n"
 
-#: e2fsck/unix.c:1028
+#: e2fsck/unix.c:1010
 #, c-format
 msgid "Filesystem mounted or opened exclusively by another program?\n"
 msgstr ""
 
-#: e2fsck/unix.c:1032
+#: e2fsck/unix.c:1014
 #, c-format
 msgid ""
 "Disk write-protected; use the -n option to do a read-only\n"
@@ -2649,16 +2649,16 @@ msgstr ""
 "Laufwerk ist schreibgeschtzt, nutzen Sie die -n Option\n"
 "um es im Nur-Lesen-Modus zu prfen.\n"
 
-#: e2fsck/unix.c:1096
+#: e2fsck/unix.c:1078
 msgid "Get a newer version of e2fsck!"
 msgstr "Neuere Version von e2fsck bentigt!"
 
-#: e2fsck/unix.c:1117
+#: e2fsck/unix.c:1099
 #, c-format
 msgid "while checking ext3 journal for %s"
 msgstr "whrend der Prfung des ext3-Journals fr %s"
 
-#: e2fsck/unix.c:1128
+#: e2fsck/unix.c:1110
 #, c-format
 msgid ""
 "Warning: skipping journal recovery because doing a read-only filesystem "
@@ -2667,26 +2667,21 @@ msgstr ""
 "Warnung: berspringe Journal-Wiederherstellung, da das Dateisystem im Nur-"
 "Lesen-Modus ist.\n"
 
-#: e2fsck/unix.c:1141
+#: e2fsck/unix.c:1123
 #, c-format
 msgid "unable to set superblock flags on %s\n"
 msgstr "Superblock-Flags konntan auf %s nicht gesetzt werden\n"
 
-#: e2fsck/unix.c:1147
+#: e2fsck/unix.c:1129
 #, c-format
 msgid "while recovering ext3 journal of %s"
 msgstr "bei der Wiederherstellung des ext3-Journals von %s"
 
-#: e2fsck/unix.c:1171
-#, fuzzy, c-format
-msgid "%s has unsupported feature(s):"
-msgstr "@h %i hat eine nicht untersttzte hash-Version (%N)\n"
-
-#: e2fsck/unix.c:1187
+#: e2fsck/unix.c:1158
 msgid "Warning: compression support is experimental.\n"
 msgstr "Warnung: Die Kompressionsuntersttzung ist experimentell.\n"
 
-#: e2fsck/unix.c:1192
+#: e2fsck/unix.c:1163
 #, c-format
 msgid ""
 "E2fsck not compiled with HTREE support,\n"
@@ -2695,30 +2690,30 @@ msgstr ""
 "Die Untersttzung fr HTREE wurde in e2fsck nicht aktiviert,\n"
 "\taber das Dateisystem %s besitzt HTREE Verzeichnisse.\n"
 
-#: e2fsck/unix.c:1241
+#: e2fsck/unix.c:1212
 #, c-format
 msgid "%s: Filesystem byte order already normalized.\n"
 msgstr "%s: die Byte-Reihenfolge des Dateisystems wurde schon normalisiert.\n"
 
-#: e2fsck/unix.c:1261
+#: e2fsck/unix.c:1232
 msgid "while reading bad blocks inode"
 msgstr "beim Lesen des Bad-Block-Inodes"
 
-#: e2fsck/unix.c:1263
+#: e2fsck/unix.c:1234
 #, c-format
 msgid "This doesn't bode well, but we'll try to go on...\n"
 msgstr "Das verheit nichts gutes, aber wir versuchen es trotzdem ..\n"
 
-#: e2fsck/unix.c:1289
+#: e2fsck/unix.c:1260
 msgid "Couldn't determine journal size"
 msgstr ""
 
-#: e2fsck/unix.c:1292 misc/mke2fs.c:1776
+#: e2fsck/unix.c:1263 misc/mke2fs.c:1744
 #, c-format
 msgid "Creating journal (%d blocks): "
 msgstr "Erstelle Journal (%d Blcke): "
 
-#: e2fsck/unix.c:1299 misc/mke2fs.c:1784
+#: e2fsck/unix.c:1270 misc/mke2fs.c:1752
 msgid ""
 "\n"
 "\twhile trying to create journal"
@@ -2726,37 +2721,37 @@ msgstr ""
 "\n"
 "\tbeim Erstellen des Journals"
 
-#: e2fsck/unix.c:1302
+#: e2fsck/unix.c:1273
 #, c-format
 msgid " Done.\n"
 msgstr " erledigt.\n"
 
-#: e2fsck/unix.c:1303
+#: e2fsck/unix.c:1274
 #, c-format
 msgid ""
 "\n"
 "*** journal has been re-created - filesystem is now ext3 again ***\n"
 msgstr ""
 
-#: e2fsck/unix.c:1310
+#: e2fsck/unix.c:1281
 #, c-format
 msgid "Restarting e2fsck from the beginning...\n"
 msgstr "Beginne e2fsck neu ...\n"
 
-#: e2fsck/unix.c:1314
+#: e2fsck/unix.c:1285
 msgid "while resetting context"
 msgstr "beim Rcksetzen des Kontexts"
 
-#: e2fsck/unix.c:1321
+#: e2fsck/unix.c:1292
 #, c-format
 msgid "%s: e2fsck canceled.\n"
 msgstr "%s: e2fsck abgebrochen.\n"
 
-#: e2fsck/unix.c:1326
+#: e2fsck/unix.c:1297
 msgid "aborted"
 msgstr "abgebrochen"
 
-#: e2fsck/unix.c:1338
+#: e2fsck/unix.c:1309
 #, c-format
 msgid ""
 "\n"
@@ -2765,12 +2760,12 @@ msgstr ""
 "\n"
 "%s: ***** DATEISYSTEM WURDE VERNDERT *****\n"
 
-#: e2fsck/unix.c:1341
+#: e2fsck/unix.c:1312
 #, c-format
 msgid "%s: ***** REBOOT LINUX *****\n"
 msgstr "%s: ***** LINUX MUSS NEU GESTARTET WERDEN *****\n"
 
-#: e2fsck/unix.c:1349
+#: e2fsck/unix.c:1320
 #, c-format
 msgid ""
 "\n"
@@ -3073,7 +3068,7 @@ msgstr ""
 msgid "while trying to determine device size"
 msgstr "beim Versuch, die Gertegre festzustellen"
 
-#: misc/badblocks.c:996 misc/mke2fs.c:1255
+#: misc/badblocks.c:996 misc/mke2fs.c:1223
 #, fuzzy, c-format
 msgid "invalid blocks count - %s"
 msgstr "Bad Blocks Anzahl - %s"
@@ -3238,7 +3233,7 @@ msgstr "beim Ausgeben der 'Bad Block'-Li
 msgid "Bad blocks: %u"
 msgstr "Bad Blocks: %u"
 
-#: misc/dumpe2fs.c:274 misc/tune2fs.c:261
+#: misc/dumpe2fs.c:274 misc/tune2fs.c:243
 msgid "while reading journal inode"
 msgstr "beim Lesen des Journal-Inodes"
 
@@ -3246,7 +3241,7 @@ msgstr "beim Lesen des Journal-Inodes"
 msgid "Journal size:             "
 msgstr ""
 
-#: misc/dumpe2fs.c:296 misc/tune2fs.c:183
+#: misc/dumpe2fs.c:296 misc/tune2fs.c:165
 msgid "while reading journal superblock"
 msgstr "beim Lesen des Journal-Superblocks"
 
@@ -3278,62 +3273,22 @@ msgstr ""
 msgid "Journal users:            %s\n"
 msgstr ""
 
-#: misc/dumpe2fs.c:337 misc/mke2fs.c:768 misc/tune2fs.c:810
-#, fuzzy, c-format
-msgid "Couldn't allocate memory to parse options!\n"
-msgstr ""
-"Speicher zum Parsen der RAID-Optionen konnte nicht reserviert werden!\n"
-
-#: misc/dumpe2fs.c:363
-#, fuzzy, c-format
-msgid "Invalid superblock parameter: %s\n"
-msgstr "Ungltiger \"stride\"-Parameter: %s\n"
-
-#: misc/dumpe2fs.c:378
-#, fuzzy, c-format
-msgid "Invalid blocksize parameter: %s\n"
-msgstr "Ungltiger \"resize\"-Parameter: %s\n"
-
-#: misc/dumpe2fs.c:389
-#, fuzzy, c-format
-msgid ""
-"\n"
-"Bad extended option(s) specified: %s\n"
-"\n"
-"Extended options are separated by commas, and may take an argument which\n"
-"\tis set off by an equals ('=') sign.\n"
-"\n"
-"Valid extended options are:\n"
-"\tsuperblock=<superblock number>\n"
-"\tblocksize=<blocksize>\n"
-msgstr ""
-"\n"
-"falsche Raid-Optionen angegeben.\n"
-"\n"
-"Raid-Optionen werden mit Kommatas getrennt angegeben, sie knnen ein "
-"Argument\n"
-"\terhalten welches mit Gleichheitszeichen ('=') zugewiesen wird.\n"
-"\n"
-"gltige Raid-Optionen sind:\n"
-"\tstride=<stride length in blocks>\n"
-"\n"
-
-#: misc/dumpe2fs.c:449 misc/mke2fs.c:1199
+#: misc/dumpe2fs.c:376 misc/mke2fs.c:1167
 #, c-format
 msgid "\tUsing %s\n"
 msgstr "\tBenutze %s\n"
 
-#: misc/dumpe2fs.c:485 misc/e2image.c:666 misc/tune2fs.c:919 resize/main.c:298
+#: misc/dumpe2fs.c:402 misc/e2image.c:666 misc/tune2fs.c:854 resize/main.c:298
 #, c-format
 msgid "Couldn't find valid filesystem superblock.\n"
 msgstr "Kann keinen gltigen Dateisystem-Superblock finden.\n"
 
-#: misc/dumpe2fs.c:496
+#: misc/dumpe2fs.c:413
 #, c-format
 msgid "Note: This is a byte-swapped filesystem\n"
 msgstr "Anmerkung: Dieses ist ein Byte-Swapped Dateisystem.\n"
 
-#: misc/dumpe2fs.c:515
+#: misc/dumpe2fs.c:432
 #, c-format
 msgid ""
 "\n"
@@ -3392,7 +3347,7 @@ msgstr "e2label: Lesefehler im Superbloc
 msgid "e2label: not an ext2 filesystem\n"
 msgstr "e2label: Kein ext2 Dateisystem\n"
 
-#: misc/e2label.c:96 misc/tune2fs.c:1025
+#: misc/e2label.c:96 misc/tune2fs.c:970
 #, c-format
 msgid "Warning: label too long, truncating.\n"
 msgstr "Warnung: Name zu lang, krze ihn.\n"
@@ -3407,7 +3362,7 @@ msgstr "e2label: cannot seek to superblo
 msgid "e2label: error writing superblock\n"
 msgstr "e2label: Fehler beim Schreiben des Superblocks\n"
 
-#: misc/e2label.c:116 misc/tune2fs.c:496
+#: misc/e2label.c:116 misc/tune2fs.c:462
 #, c-format
 msgid "Usage: e2label device [newlabel]\n"
 msgstr "Verwendung: e2label Gert [neuer_Name]\n"
@@ -3492,25 +3447,24 @@ msgstr "fsck: kann %s nicht berprfen: 
 msgid "Checking all file systems.\n"
 msgstr "berprfe alle Dateisysteme.\n"
 
-#: misc/fsck.c:1046
+#: misc/fsck.c:1041
 #, c-format
 msgid "--waiting-- (pass %d)\n"
 msgstr "--warten-- (Durchgang %d)\n"
 
-#: misc/fsck.c:1066
-#, fuzzy
+#: misc/fsck.c:1061
 msgid ""
-"Usage: fsck [-AMNPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
+"Usage: fsck [-ANPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
 msgstr ""
 "Verwendung: fsck [-ANPRTV] [-C [fd]] [-t Dateisystemtyp] [fs-Optionen] "
 "[Dateisystem...]\n"
 
-#: misc/fsck.c:1108
+#: misc/fsck.c:1103
 #, c-format
 msgid "%s: too many devices\n"
 msgstr "%s: zu viele Gerte\n"
 
-#: misc/fsck.c:1141 misc/fsck.c:1227
+#: misc/fsck.c:1136 misc/fsck.c:1222
 #, c-format
 msgid "%s: too many arguments\n"
 msgstr "%s: zu viele Argumente\n"
@@ -3533,12 +3487,12 @@ msgstr "Beim Lesen der Version von %s"
 #: misc/mke2fs.c:97
 #, fuzzy, c-format
 msgid ""
-"Usage: %s [-c|-l filename] [-b block-size] [-f fragment-size]\n"
-"\t[-i bytes-per-inode] [-I inode-size] [-J journal-options]\n"
+"Usage: %s [-c|-t|-l filename] [-b block-size] [-f fragment-size]\n"
+"\t[-i bytes-per-inode] [-I inode-size] [-j] [-J journal-options]\n"
 "\t[-N number-of-inodes] [-m reserved-blocks-percentage] [-o creator-os]\n"
 "\t[-g blocks-per-group] [-L volume-label] [-M last-mounted-directory]\n"
-"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]]\n"
-"\t[-T fs-type] [-jnqvFSV] device [blocks-count]\n"
+"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]] [-qvSV]\n"
+"\tdevice [blocks-count]\n"
 msgstr ""
 "Verwendung: %s [-c|-t|-l Dateiname] [-b Blockgre] [-f Fragmentgre]\n"
 "\t[-i Bytes-pro-Inode] [-j] [-J Journal-Optionen] [-N Anzahl_der_Inoden]\n"
@@ -3546,37 +3500,37 @@ msgstr ""
 "\t[-L volume-label] [-M last-mounted-directory] [-O feature[,...]]\n"
 "\t[-r fs-revision] [-R raid_opts] [-qvSV] Gert [Blockanzahl]\n"
 
-#: misc/mke2fs.c:198
+#: misc/mke2fs.c:197
 #, c-format
 msgid "Running command: %s\n"
 msgstr "Fhre aus: %s\n"
 
-#: misc/mke2fs.c:202
+#: misc/mke2fs.c:201
 #, fuzzy, c-format
 msgid "while trying to run '%s'"
 msgstr "whrend des Ausfhrungsversuchs von '%s'"
 
-#: misc/mke2fs.c:209
+#: misc/mke2fs.c:208
 msgid "while processing list of bad blocks from program"
 msgstr "beim Auswerten der 'Bad Block'-Liste vom Programm"
 
-#: misc/mke2fs.c:236
+#: misc/mke2fs.c:235
 #, c-format
 msgid "Block %d in primary superblock/group descriptor area bad.\n"
 msgstr "Block %d im primren Superblock/Gruppendeskriptorbereich defekt.\n"
 
-#: misc/mke2fs.c:238
+#: misc/mke2fs.c:237
 #, fuzzy, c-format
 msgid "Blocks %u through %u must be good in order to build a filesystem.\n"
 msgstr ""
 "Die Blcke %d bis einschlielich %d mssen i.O. sein um ein Dateisystem zu "
 "erstellen.\n"
 
-#: misc/mke2fs.c:241
+#: misc/mke2fs.c:240
 msgid "Aborting....\n"
 msgstr "Breche ab...\n"
 
-#: misc/mke2fs.c:261
+#: misc/mke2fs.c:260
 #, fuzzy, c-format
 msgid ""
 "Warning: the backup superblock/group descriptors at block %u contain\n"
@@ -3588,23 +3542,23 @@ msgstr ""
 "\tdefekte Blcke.\n"
 "\n"
 
-#: misc/mke2fs.c:279
+#: misc/mke2fs.c:278
 msgid "while marking bad blocks as used"
 msgstr "beim Markieren von defekten Blcken als 'belegt'"
 
-#: misc/mke2fs.c:337
+#: misc/mke2fs.c:336
 msgid "done                            \n"
 msgstr "erledigt                           \n"
 
-#: misc/mke2fs.c:372
+#: misc/mke2fs.c:371
 msgid "while allocating zeroizing buffer"
 msgstr "while allocating zeroizing buffer"
 
-#: misc/mke2fs.c:414
+#: misc/mke2fs.c:413
 msgid "Writing inode tables: "
 msgstr "Schreibe Inode-Tabellen: "
 
-#: misc/mke2fs.c:431
+#: misc/mke2fs.c:430
 #, c-format
 msgid ""
 "\n"
@@ -3613,67 +3567,67 @@ msgstr ""
 "\n"
 "Konnte %d Blcke nicht in Inoden-Tabelle schreiben, beginnend bei %u: %s\n"
 
-#: misc/mke2fs.c:487
+#: misc/mke2fs.c:486
 msgid "while creating root dir"
 msgstr "beim Erstellen des Wurzelverzeichnisses"
 
-#: misc/mke2fs.c:494
+#: misc/mke2fs.c:493
 msgid "while reading root inode"
 msgstr "beim Lesen des Root-Inode"
 
-#: misc/mke2fs.c:508
+#: misc/mke2fs.c:507
 msgid "while setting root inode ownership"
 msgstr "beim Setzen des Root-Inode-Eigentmers"
 
-#: misc/mke2fs.c:526
+#: misc/mke2fs.c:525
 msgid "while creating /lost+found"
 msgstr "beim Erstellen von /lost+found"
 
-#: misc/mke2fs.c:533
+#: misc/mke2fs.c:532
 msgid "while looking up /lost+found"
 msgstr "beim Suchen von /lost+found"
 
-#: misc/mke2fs.c:543
+#: misc/mke2fs.c:542
 msgid "while expanding /lost+found"
 msgstr "beim Expandieren von /lost+found"
 
-#: misc/mke2fs.c:559
+#: misc/mke2fs.c:558
 msgid "while setting bad block inode"
 msgstr "beim Setzen des 'Bad Block'-Inodes"
 
-#: misc/mke2fs.c:591
+#: misc/mke2fs.c:590
 #, c-format
 msgid "Out of memory erasing sectors %d-%d\n"
 msgstr "Speicher voll beim Lschen der Sektoren %d-%d\n"
 
-#: misc/mke2fs.c:601
+#: misc/mke2fs.c:600
 #, c-format
 msgid "Warning: could not read block 0: %s\n"
 msgstr "Warnung: konnte Block %s nicht lesen\n"
 
-#: misc/mke2fs.c:617
+#: misc/mke2fs.c:616
 #, c-format
 msgid "Warning: could not erase sector %d: %s\n"
 msgstr "Warnung: konnte Sektor %d: %s nicht lschen\n"
 
-#: misc/mke2fs.c:633
+#: misc/mke2fs.c:632
 msgid "while initializing journal superblock"
 msgstr "beim Initialisieren des Journal-Superblocks"
 
-#: misc/mke2fs.c:639
+#: misc/mke2fs.c:638
 msgid "Zeroing journal device: "
 msgstr "berschreibe Journal-Device mit Nullen: "
 
-#: misc/mke2fs.c:646
+#: misc/mke2fs.c:645
 #, c-format
 msgid "while zeroing journal device (block %u, count %d)"
 msgstr "beim berschreiben des Journal-Device mit Nullen (Block %u, Nr. %d)"
 
-#: misc/mke2fs.c:657
+#: misc/mke2fs.c:656
 msgid "while writing journal superblock"
 msgstr "beim Schreiben des Journal-Superblocks"
 
-#: misc/mke2fs.c:673
+#: misc/mke2fs.c:672
 #, c-format
 msgid ""
 "warning: %u blocks unused.\n"
@@ -3682,109 +3636,108 @@ msgstr ""
 "Warnung: %u Blcke unbenutzt.\n"
 "\n"
 
-#: misc/mke2fs.c:678
+#: misc/mke2fs.c:677
 #, c-format
 msgid "Filesystem label=%s\n"
 msgstr "Dateisystem-Label=%s\n"
 
-#: misc/mke2fs.c:679
+#: misc/mke2fs.c:678
 msgid "OS type: "
 msgstr "OS-Typ: "
 
-#: misc/mke2fs.c:684
+#: misc/mke2fs.c:683
 #, c-format
 msgid "Block size=%u (log=%u)\n"
 msgstr "Blockgre=%u (log=%u)\n"
 
-#: misc/mke2fs.c:686
+#: misc/mke2fs.c:685
 #, c-format
 msgid "Fragment size=%u (log=%u)\n"
 msgstr "Fragmentgre=%u (log=%u)\n"
 
-#: misc/mke2fs.c:688
+#: misc/mke2fs.c:687
 #, c-format
 msgid "%u inodes, %u blocks\n"
 msgstr "%u Inodes, %u Blcke\n"
 
-#: misc/mke2fs.c:690
+#: misc/mke2fs.c:689
 #, c-format
 msgid "%u blocks (%2.2f%%) reserved for the super user\n"
 msgstr "%u Blcke (%2.2f%%) reserviert fr den Superuser\n"
 
-#: misc/mke2fs.c:693
+#: misc/mke2fs.c:692
 #, c-format
 msgid "First data block=%u\n"
 msgstr "erster Datenblock=%u\n"
 
-#: misc/mke2fs.c:695
+#: misc/mke2fs.c:694
 #, fuzzy, c-format
 msgid "Maximum filesystem blocks=%lu\n"
 msgstr "Dateisystem-Label=%s\n"
 
-#: misc/mke2fs.c:700
+#: misc/mke2fs.c:699
 #, c-format
 msgid "%u block groups\n"
 msgstr "%u Blockgruppen\n"
 
-#: misc/mke2fs.c:702
+#: misc/mke2fs.c:701
 #, c-format
 msgid "%u block group\n"
 msgstr "%u Blockgruppe\n"
 
-#: misc/mke2fs.c:703
+#: misc/mke2fs.c:702
 #, c-format
 msgid "%u blocks per group, %u fragments per group\n"
 msgstr "%u Blcke pro Gruppe, %u Fragmente pro Gruppe\n"
 
-#: misc/mke2fs.c:705
+#: misc/mke2fs.c:704
 #, c-format
 msgid "%u inodes per group\n"
 msgstr "%u Inodes pro Gruppe\n"
 
-#: misc/mke2fs.c:712
+#: misc/mke2fs.c:711
 #, c-format
 msgid "Superblock backups stored on blocks: "
 msgstr "Superblock-Sicherungskopien gespeichert in den Blcken: "
 
-#: misc/mke2fs.c:793
+#: misc/mke2fs.c:767 misc/tune2fs.c:776
+#, fuzzy, c-format
+msgid "Couldn't allocate memory to parse options!\n"
+msgstr ""
+"Speicher zum Parsen der RAID-Optionen konnte nicht reserviert werden!\n"
+
+#: misc/mke2fs.c:791
 #, c-format
 msgid "Invalid stride parameter: %s\n"
 msgstr "Ungltiger \"stride\"-Parameter: %s\n"
 
-#: misc/mke2fs.c:808
-#, fuzzy, c-format
-msgid "Invalid stripe-width parameter: %s\n"
-msgstr "Ungltiger \"stride\"-Parameter: %s\n"
-
-#: misc/mke2fs.c:830
+#: misc/mke2fs.c:812
 #, c-format
 msgid "Invalid resize parameter: %s\n"
 msgstr "Ungltiger \"resize\"-Parameter: %s\n"
 
-#: misc/mke2fs.c:837
+#: misc/mke2fs.c:819
 #, c-format
 msgid "The resize maximum must be greater than the filesystem size.\n"
 msgstr ""
 
-#: misc/mke2fs.c:861
+#: misc/mke2fs.c:843
 #, c-format
 msgid "On-line resizing not supported with revision 0 filesystems\n"
 msgstr ""
 
-#: misc/mke2fs.c:878
+#: misc/mke2fs.c:858
 #, fuzzy, c-format
 msgid ""
 "\n"
-"Bad option(s) specified: %s\n"
+"Bad options specified.\n"
 "\n"
 "Extended options are separated by commas, and may take an argument which\n"
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk data chunk in blocks>\n"
-"\tstripe-width=<RAID stride * data disks in blocks>\n"
+"\tstride=<stride length in blocks>\n"
 "\tresize=<resize maximum size in blocks>\n"
-"\n"
 "\ttest_fs\n"
 msgstr ""
 "\n"
@@ -3798,114 +3751,106 @@ msgstr ""
 "\tstride=<stride length in blocks>\n"
 "\n"
 
-#: misc/mke2fs.c:893
-#, c-format
-msgid ""
-"\n"
-"Warning: RAID stripe-width %u not an even multiple of stride %u.\n"
-"\n"
-msgstr ""
-
-#: misc/mke2fs.c:920
+#: misc/mke2fs.c:888
 #, c-format
 msgid ""
 "Syntax error in mke2fs config file (%s, line #%d)\n"
 "\t%s\n"
 msgstr ""
 
-#: misc/mke2fs.c:933 misc/tune2fs.c:335
+#: misc/mke2fs.c:901 misc/tune2fs.c:314
 #, c-format
 msgid "Invalid filesystem option set: %s\n"
 msgstr "Ungltige Dateisystem-Option gesetzt: %s\n"
 
-#: misc/mke2fs.c:1040
+#: misc/mke2fs.c:1008
 #, c-format
 msgid "invalid block size - %s"
 msgstr "ungltige Blockgre - %s"
 
-#: misc/mke2fs.c:1044
+#: misc/mke2fs.c:1012
 #, c-format
 msgid "Warning: blocksize %d not usable on most systems.\n"
 msgstr "Warnung: Blockgre %d ist auf den meisten Systemen unbrauchbar.\n"
 
-#: misc/mke2fs.c:1061
+#: misc/mke2fs.c:1029
 #, c-format
 msgid "invalid fragment size - %s"
 msgstr "ungltige Fragmentgre - %s"
 
-#: misc/mke2fs.c:1067
+#: misc/mke2fs.c:1035
 #, c-format
 msgid "Warning: fragments not supported.  Ignoring -f option\n"
 msgstr "Warnung: Fragmente werden nicht untersttzt. Ignoriere -f Option\n"
 
-#: misc/mke2fs.c:1074
+#: misc/mke2fs.c:1042
 msgid "Illegal number for blocks per group"
 msgstr "unzulssige Angabe fr Blcke pro Gruppe"
 
-#: misc/mke2fs.c:1079
+#: misc/mke2fs.c:1047
 msgid "blocks per group must be multiple of 8"
 msgstr "Anzahl der Blcke pro Gruppe muss ein Vielfaches von 8 sein"
 
-#: misc/mke2fs.c:1089
+#: misc/mke2fs.c:1057
 #, fuzzy, c-format
 msgid "invalid inode ratio %s (min %d/max %d)"
 msgstr "Unzulssiges Inode-Verhltnis %s (Min %d/Max %d"
 
-#: misc/mke2fs.c:1106
+#: misc/mke2fs.c:1074
 msgid "in malloc for bad_blocks_filename"
 msgstr "in malloc for bad_blocks_filename"
 
-#: misc/mke2fs.c:1115
+#: misc/mke2fs.c:1083
 #, fuzzy, c-format
 msgid "invalid reserved blocks percent - %s"
 msgstr "Unzulssige \"Reservierte Blcke\"-Prozentangabe - %s"
 
-#: misc/mke2fs.c:1133
+#: misc/mke2fs.c:1101
 #, fuzzy, c-format
 msgid "bad revision level - %s"
 msgstr "ungltiges Intervall - %s"
 
-#: misc/mke2fs.c:1145
+#: misc/mke2fs.c:1113
 #, fuzzy, c-format
 msgid "invalid inode size - %s"
 msgstr "Unzulssige Inode-Gre - %s"
 
-#: misc/mke2fs.c:1165
+#: misc/mke2fs.c:1133
 #, fuzzy, c-format
 msgid "bad num inodes - %s"
 msgstr "ungltiges Intervall - %s"
 
-#: misc/mke2fs.c:1223 misc/mke2fs.c:1745
+#: misc/mke2fs.c:1191 misc/mke2fs.c:1713
 #, c-format
 msgid "while trying to open journal device %s\n"
 msgstr "beim Versuch, das Journal-Device %s zu ffnen\n"
 
-#: misc/mke2fs.c:1229
+#: misc/mke2fs.c:1197
 #, c-format
 msgid "Journal dev blocksize (%d) smaller than minimum blocksize %d\n"
 msgstr "Journal-Device Blockgre (%d) kleiner als Minimum-Blockgre %d\n"
 
-#: misc/mke2fs.c:1243
+#: misc/mke2fs.c:1211
 #, c-format
 msgid "%d-byte blocks too big for system (max %d)"
 msgstr "%d-Byte Blcke zu gro fr das System (max %d)"
 
-#: misc/mke2fs.c:1247
+#: misc/mke2fs.c:1215
 #, c-format
 msgid ""
 "Warning: %d-byte blocks too big for system (max %d), forced to continue\n"
 msgstr ""
 "Warnung: %d-byte Blcke zu gro fr das System (max %d), fahre dennoch fort\n"
 
-#: misc/mke2fs.c:1265
+#: misc/mke2fs.c:1233
 msgid "filesystem"
 msgstr "Dateisystem"
 
-#: misc/mke2fs.c:1288 resize/main.c:332
+#: misc/mke2fs.c:1256 resize/main.c:332
 msgid "while trying to determine filesystem size"
 msgstr "beim Bestimmen der Dateisystemgre"
 
-#: misc/mke2fs.c:1294
+#: misc/mke2fs.c:1262
 msgid ""
 "Couldn't determine device size; you must specify\n"
 "the size of the filesystem\n"
@@ -3913,7 +3858,7 @@ msgstr ""
 "Konnte die Gertegre nicht ermitteln. Geben\n"
 "Sie die Gre des Dateisystems an\n"
 
-#: misc/mke2fs.c:1301
+#: misc/mke2fs.c:1269
 msgid ""
 "Device size reported to be zero.  Invalid partition specified, or\n"
 "\tpartition table wasn't reread after running fdisk, due to\n"
@@ -3926,46 +3871,46 @@ msgstr ""
 "\tund gesperrt ist. Sie knnten gezwungen sein, neu zu booten, um die\n"
 "\tPartitionstabelle neu einzulesen.\n"
 
-#: misc/mke2fs.c:1319
+#: misc/mke2fs.c:1287
 msgid "Filesystem larger than apparent device size."
 msgstr "Dateisystem ist grer als augenscheinlich das Gert selbst."
 
-#: misc/mke2fs.c:1367
+#: misc/mke2fs.c:1335
 #, c-format
 msgid "Filesystem features not supported with revision 0 filesystems\n"
 msgstr ""
 
-#: misc/mke2fs.c:1374
+#: misc/mke2fs.c:1342
 #, c-format
 msgid "Sparse superblocks not supported with revision 0 filesystems\n"
 msgstr ""
 
-#: misc/mke2fs.c:1386
+#: misc/mke2fs.c:1354
 #, fuzzy, c-format
 msgid "Journals not supported with revision 0 filesystems\n"
 msgstr ""
 "\n"
 "Das Journal ist zu gro fr dieses Dateisystem.\n"
 
-#: misc/mke2fs.c:1412
+#: misc/mke2fs.c:1380
 msgid "while trying to determine hardware sector size"
 msgstr "beim Ermitteln der Hardware-Sektorgre"
 
-#: misc/mke2fs.c:1464
+#: misc/mke2fs.c:1432
 msgid "reserved online resize blocks not supported on non-sparse filesystem"
 msgstr ""
 
-#: misc/mke2fs.c:1473
+#: misc/mke2fs.c:1441
 msgid "blocks per group count out of range"
 msgstr "Anzahl der Blcke pro Gruppe nicht im gltigen Bereich"
 
-#: misc/mke2fs.c:1480
+#: misc/mke2fs.c:1448
 msgid ""
 "Filesystem too large.  No more than 2**31-1 blocks\n"
 "\t (8TB using a blocksize of 4k) are currently supported."
 msgstr ""
 
-#: misc/mke2fs.c:1487
+#: misc/mke2fs.c:1455
 #, c-format
 msgid ""
 "\n"
@@ -3974,28 +3919,28 @@ msgid ""
 "\n"
 msgstr ""
 
-#: misc/mke2fs.c:1504
+#: misc/mke2fs.c:1472
 #, c-format
 msgid "invalid inode size %d (min %d/max %d)"
 msgstr "ungltige Inode-Gre %d (min %d / max %d)"
 
-#: misc/mke2fs.c:1510
+#: misc/mke2fs.c:1478
 #, fuzzy, c-format
 msgid "Warning: %d-byte inodes not usable on older systems\n"
 msgstr ""
 "Warnung: %d-Byte Inodes sind auf den meisten Systemen nicht benutzbar\n"
 
-#: misc/mke2fs.c:1522
+#: misc/mke2fs.c:1490
 #, c-format
 msgid "too many inodes (%llu), raise inode ratio?"
 msgstr ""
 
-#: misc/mke2fs.c:1527
+#: misc/mke2fs.c:1495
 #, c-format
 msgid "too many inodes (%llu), specify < 2^32 inodes"
 msgstr ""
 
-#: misc/mke2fs.c:1542
+#: misc/mke2fs.c:1510
 #, c-format
 msgid ""
 "inode_size (%u) * inodes_count (%u) too big for a\n"
@@ -4003,39 +3948,39 @@ msgid ""
 "\tor lower inode count (-N).\n"
 msgstr ""
 
-#: misc/mke2fs.c:1591
+#: misc/mke2fs.c:1559
 msgid "while setting up superblock"
 msgstr "beim Erstellen des Superblocks"
 
-#: misc/mke2fs.c:1628
+#: misc/mke2fs.c:1596
 #, c-format
 msgid "unknown os - %s"
 msgstr "unbekanntes OS - %s"
 
-#: misc/mke2fs.c:1682
+#: misc/mke2fs.c:1650
 msgid "while trying to allocate filesystem tables"
 msgstr "beim Zuordnen von Dateisystemtabellen"
 
-#: misc/mke2fs.c:1713
+#: misc/mke2fs.c:1681
 #, c-format
 msgid "while zeroing block %u at end of filesystem"
 msgstr "beim Nullen von Block %u am Ende des Dateisystems"
 
-#: misc/mke2fs.c:1727
+#: misc/mke2fs.c:1695
 #, fuzzy
 msgid "while reserving blocks for online resize"
 msgstr "beim Lesen des Bad-Block-Inodes"
 
-#: misc/mke2fs.c:1738 misc/tune2fs.c:433
+#: misc/mke2fs.c:1706 misc/tune2fs.c:399
 msgid "journal"
 msgstr "Journal"
 
-#: misc/mke2fs.c:1750
+#: misc/mke2fs.c:1718
 #, c-format
 msgid "Adding journal to device %s: "
 msgstr "Erstelle Journal auf Gert %s: "
 
-#: misc/mke2fs.c:1757
+#: misc/mke2fs.c:1725
 #, c-format
 msgid ""
 "\n"
@@ -4044,17 +3989,17 @@ msgstr ""
 "\n"
 "\tbeim Erstellen des Journals auf Gert %s"
 
-#: misc/mke2fs.c:1762 misc/mke2fs.c:1788 misc/tune2fs.c:461 misc/tune2fs.c:475
+#: misc/mke2fs.c:1730 misc/mke2fs.c:1756 misc/tune2fs.c:427 misc/tune2fs.c:441
 #, c-format
 msgid "done\n"
 msgstr "erledigt\n"
 
-#: misc/mke2fs.c:1793
+#: misc/mke2fs.c:1761
 #, c-format
 msgid "Writing superblocks and filesystem accounting information: "
 msgstr "Schreibe Superblcke und Dateisystem-Accountinginformationen: "
 
-#: misc/mke2fs.c:1798
+#: misc/mke2fs.c:1766
 #, c-format
 msgid ""
 "\n"
@@ -4063,7 +4008,7 @@ msgstr ""
 "\n"
 "Warnung: Probleme beim Schreiben der Superblcke."
 
-#: misc/mke2fs.c:1801
+#: misc/mke2fs.c:1769
 #, c-format
 msgid ""
 "done\n"
@@ -4077,17 +4022,18 @@ msgstr ""
 msgid "Usage: mklost+found\n"
 msgstr "Verwendung: mklost+found\n"
 
-#: misc/tune2fs.c:91
+#: misc/tune2fs.c:89
 msgid "Please run e2fsck on the filesystem.\n"
 msgstr "Bitte e2fsck ber das Dateisystem laufen lassen.\n"
 
-#: misc/tune2fs.c:98
+#: misc/tune2fs.c:96
 #, fuzzy, c-format
 msgid ""
 "Usage: %s [-c max_mounts_count] [-e errors_behavior] [-g group]\n"
-"\t[-i interval[d|m|w]] [-j] [-J journal_options] [-l]\n"
-"\t[-m reserved_blocks_percent] [-o [^]mount_options[,...]] \n"
-"\t[-r reserved_blocks_count] [-u user] [-C mount_count] [-L volume_label]\n"
+"\t[-i interval[d|m|w]] [-j] [-J journal_options]\n"
+"\t[-l] [-s sparse_flag] [-m reserved_blocks_percent]\n"
+"\t[-o [^]mount_options[,...]] [-r reserved_blocks_count]\n"
+"\t[-u user] [-C mount_count] [-L volume_label]\n"
 "\t[-M last_mounted_dir] [-O [^]feature[,...]]\n"
 "\t[-E extended-option[,...]] [-T last_check_time] [-U UUID] device\n"
 msgstr ""
@@ -4098,59 +4044,49 @@ msgstr ""
 "\t[-u user] [-C mount-count] [-L volume-label] [-M last-mounted-dir]\n"
 "\t[-O [^]feature[,...]] [-T last-check-time] [-U UUID] Gert\n"
 
-#: misc/tune2fs.c:171
+#: misc/tune2fs.c:153
 msgid "while trying to open external journal"
 msgstr "beim ffnen des externen Journals"
 
-#: misc/tune2fs.c:175
+#: misc/tune2fs.c:157
 #, c-format
 msgid "%s is not a journal device.\n"
 msgstr "%s ist kein Journal-Gert.\n"
 
-#: misc/tune2fs.c:190
+#: misc/tune2fs.c:172
 msgid "Journal superblock not found!\n"
 msgstr "Journal-Superblock nicht gefunden!\n"
 
-#: misc/tune2fs.c:202
+#: misc/tune2fs.c:184
 msgid "Filesystem's UUID not found on journal device.\n"
 msgstr "UUID des Dateisystems auf Journal-Gert nicht gefunden.\n"
 
-#: misc/tune2fs.c:223
+#: misc/tune2fs.c:205
 msgid "Journal NOT removed\n"
 msgstr "Journal NICHT gelscht\n"
 
-#: misc/tune2fs.c:229
+#: misc/tune2fs.c:211
 msgid "Journal removed\n"
 msgstr "Journal gelscht\n"
 
-#: misc/tune2fs.c:268
+#: misc/tune2fs.c:250
 msgid "while reading bitmaps"
 msgstr "beim Lesen von Bitmaps"
 
-#: misc/tune2fs.c:275
+#: misc/tune2fs.c:257
 msgid "while clearing journal inode"
 msgstr "beim Bereinigen des Journal-Inodes"
 
-#: misc/tune2fs.c:286
+#: misc/tune2fs.c:268
 msgid "while writing journal inode"
 msgstr "beim Schreiben des Journal-Inodes"
 
-#: misc/tune2fs.c:301
+#: misc/tune2fs.c:283
 #, c-format
 msgid "Invalid mount option set: %s\n"
 msgstr "Ungltige Einhnge-Option gesetzt: %s\n"
 
-#: misc/tune2fs.c:338
-#, c-format
-msgid "Clearing filesystem feature '%s' not supported.\n"
-msgstr ""
-
-#: misc/tune2fs.c:344
-#, fuzzy, c-format
-msgid "Setting filesystem feature '%s' not supported.\n"
-msgstr "Setze Zeit des letzten Dateisystemchecks auf %s\n"
-
-#: misc/tune2fs.c:353
+#: misc/tune2fs.c:329
 msgid ""
 "The has_journal flag may only be cleared when the filesystem is\n"
 "unmounted or mounted read-only.\n"
@@ -4158,7 +4094,7 @@ msgstr ""
 "Das has_jounal Flag kann nur gelscht werden, wenn das Dateisystem\n"
 "nicht eingehngt oder im Nur-Lesen-Modus ist.\n"
 
-#: misc/tune2fs.c:361
+#: misc/tune2fs.c:337
 msgid ""
 "The needs_recovery flag is set.  Please run e2fsck before clearing\n"
 "the has_journal flag.\n"
@@ -4166,11 +4102,11 @@ msgstr ""
 "Das needs_recovery Flag ist gesetzt. Bitte starten sie e2fsck vor\n"
 "der Lschung des has_journal Flags.\n"
 
-#: misc/tune2fs.c:428
+#: misc/tune2fs.c:394
 msgid "The filesystem already has a journal.\n"
 msgstr "Das Dateisystem hat schon ein Journal.\n"
 
-#: misc/tune2fs.c:445
+#: misc/tune2fs.c:411
 #, c-format
 msgid ""
 "\n"
@@ -4179,21 +4115,21 @@ msgstr ""
 "\n"
 "\tbeim ffnen des Journals auf %s\n"
 
-#: misc/tune2fs.c:449
+#: misc/tune2fs.c:415
 #, c-format
 msgid "Creating journal on device %s: "
 msgstr "Erstelle Journal auf Gert %s: "
 
-#: misc/tune2fs.c:457
+#: misc/tune2fs.c:423
 #, c-format
 msgid "while adding filesystem to journal on %s"
 msgstr "beim Hinzufgen des Dateisystems zum Journal auf %s"
 
-#: misc/tune2fs.c:463
+#: misc/tune2fs.c:429
 msgid "Creating journal inode: "
 msgstr "Erstelle Journal-Inode: "
 
-#: misc/tune2fs.c:472
+#: misc/tune2fs.c:438
 msgid ""
 "\n"
 "\twhile trying to create journal file"
@@ -4201,65 +4137,55 @@ msgstr ""
 "\n"
 "\tbeim Erstellen der Journaldatei"
 
-#: misc/tune2fs.c:539
+#: misc/tune2fs.c:505
 #, c-format
 msgid "Couldn't parse date/time specifier: %s"
 msgstr "Konnte Datum/Zeit nicht parsen: %s"
 
-#: misc/tune2fs.c:563 misc/tune2fs.c:576
+#: misc/tune2fs.c:529 misc/tune2fs.c:542
 #, c-format
 msgid "bad mounts count - %s"
 msgstr "Ungltiger Mounts-Zhler - %s"
 
-#: misc/tune2fs.c:592
+#: misc/tune2fs.c:558
 #, c-format
 msgid "bad error behavior - %s"
 msgstr "ungltiges Fehler-Verhalten - %s"
 
-#: misc/tune2fs.c:619
+#: misc/tune2fs.c:585
 #, c-format
 msgid "bad gid/group name - %s"
 msgstr "ungltige(r) GID oder Gruppenname - %s"
 
-#: misc/tune2fs.c:652
+#: misc/tune2fs.c:618
 #, c-format
 msgid "bad interval - %s"
 msgstr "ungltiges Intervall - %s"
 
-#: misc/tune2fs.c:680
+#: misc/tune2fs.c:646
 #, c-format
 msgid "bad reserved block ratio - %s"
 msgstr "ungltiges Reservierte-Blcke-Verhltnis - %s"
 
-#: misc/tune2fs.c:695
+#: misc/tune2fs.c:661
 msgid "-o may only be specified once"
 msgstr "-o darf nur eimal angegeben werden"
 
-#: misc/tune2fs.c:705
+#: misc/tune2fs.c:671
 msgid "-O may only be specified once"
 msgstr "-O darf nur eimal angegeben werden"
 
-#: misc/tune2fs.c:715
+#: misc/tune2fs.c:681
 #, c-format
 msgid "bad reserved blocks count - %s"
 msgstr "ungltige Anzahl von reservierten Blcken - %s"
 
-#: misc/tune2fs.c:744
+#: misc/tune2fs.c:710
 #, c-format
 msgid "bad uid/user name - %s"
 msgstr "ungltige(r) UID/Benutzername - %s"
 
-#: misc/tune2fs.c:842
-#, fuzzy, c-format
-msgid "Invalid RAID stride: %s\n"
-msgstr "Ungltiger \"stride\"-Parameter: %s\n"
-
-#: misc/tune2fs.c:857
-#, fuzzy, c-format
-msgid "Invalid RAID stripe-width: %s\n"
-msgstr "Ungltiger \"stride\"-Parameter: %s\n"
-
-#: misc/tune2fs.c:867
+#: misc/tune2fs.c:804
 #, fuzzy, c-format
 msgid ""
 "\n"
@@ -4269,8 +4195,6 @@ msgid ""
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk chunk size in blocks>\n"
-"\tstripe-width=<RAID stride*data disks in blocks>\n"
 "\ttest_fs\n"
 "\t^test_fs\n"
 msgstr ""
@@ -4285,52 +4209,52 @@ msgstr ""
 "\tstride=<stride length in blocks>\n"
 "\n"
 
-#: misc/tune2fs.c:927
+#: misc/tune2fs.c:862
 #, c-format
 msgid "Filesystem %s has unsupported features enabled.\n"
 msgstr ""
 
-#: misc/tune2fs.c:951
+#: misc/tune2fs.c:886
 #, c-format
 msgid "Setting maximal mount count to %d\n"
 msgstr "Setze maximale Mount-Anzahl auf %d\n"
 
-#: misc/tune2fs.c:957
+#: misc/tune2fs.c:892
 #, c-format
 msgid "Setting current mount count to %d\n"
 msgstr "Setze derzeitige Mount-Anzahl auf %d\n"
 
-#: misc/tune2fs.c:962
+#: misc/tune2fs.c:897
 #, c-format
 msgid "Setting error behavior to %d\n"
 msgstr "Setze Fehler-Verhalten auf %d\n"
 
-#: misc/tune2fs.c:967
+#: misc/tune2fs.c:902
 #, c-format
 msgid "Setting reserved blocks gid to %lu\n"
 msgstr "Setze GID fr reservierte Blcke auf %lu\n"
 
-#: misc/tune2fs.c:972
+#: misc/tune2fs.c:907
 #, c-format
 msgid "Setting interval between checks to %lu seconds\n"
 msgstr "Setze Intervall zwischen Checks auf %lu Sekunden\n"
 
-#: misc/tune2fs.c:978
+#: misc/tune2fs.c:913
 #, c-format
 msgid "Setting reserved blocks percentage to %g%% (%u blocks)\n"
 msgstr "Setze Verhltnis der reservierten Blcke auf %g%% (%u blocks)\n"
 
-#: misc/tune2fs.c:984
+#: misc/tune2fs.c:919
 #, c-format
 msgid "reserved blocks count is too big (%lu)"
 msgstr "Anzahl der reservierten Blcke zu gro (%lu)"
 
-#: misc/tune2fs.c:990
+#: misc/tune2fs.c:925
 #, c-format
 msgid "Setting reserved blocks count to %lu\n"
 msgstr "Setze Anzahl der reservierten Blcke auf %lu\n"
 
-#: misc/tune2fs.c:996
+#: misc/tune2fs.c:931
 msgid ""
 "\n"
 "The filesystem already has sparse superblocks.\n"
@@ -4338,7 +4262,7 @@ msgstr ""
 "\n"
 "Das Dateisystem hat bereits einen \"sparse superblock\".\n"
 
-#: misc/tune2fs.c:1003
+#: misc/tune2fs.c:938
 #, c-format
 msgid ""
 "\n"
@@ -4347,36 +4271,37 @@ msgstr ""
 "\n"
 "Sparse superblock Flag gesetzt.  %s"
 
-#: misc/tune2fs.c:1008
+#: misc/tune2fs.c:945
+msgid ""
+"\n"
+"The filesystem already has sparse superblocks disabled.\n"
+msgstr ""
+"\n"
+"Sparse Superblocks sind auf dem Dateisystem bereits deaktiviert.\n"
+
+#: misc/tune2fs.c:953
+#, c-format
 msgid ""
 "\n"
-"Clearing the sparse superflag not supported.\n"
+"Sparse superblock flag cleared.  %s"
 msgstr ""
+"\n"
+"Sparse superblock Flag gelscht.  %s"
 
-#: misc/tune2fs.c:1015
+#: misc/tune2fs.c:960
 #, c-format
 msgid "Setting time filesystem last checked to %s\n"
 msgstr "Setze Zeit des letzten Dateisystemchecks auf %s\n"
 
-#: misc/tune2fs.c:1021
+#: misc/tune2fs.c:966
 #, c-format
 msgid "Setting reserved blocks uid to %lu\n"
 msgstr "Setze UID fr reservierte Blcke auf %lu\n"
 
-#: misc/tune2fs.c:1056
+#: misc/tune2fs.c:1001
 msgid "Invalid UUID format\n"
 msgstr "Ungltiges UUID Format\n"
 
-#: misc/tune2fs.c:1067
-#, fuzzy, c-format
-msgid "Setting stride size to %d\n"
-msgstr "Setze GID fr reservierte Blcke auf %lu\n"
-
-#: misc/tune2fs.c:1072
-#, fuzzy, c-format
-msgid "Setting stripe width to %d\n"
-msgstr "Setze GID fr reservierte Blcke auf %lu\n"
-
 #: misc/util.c:72
 msgid "Proceed anyway? (y,n) "
 msgstr "Trotzdem fortsetzen? (y,n) "
@@ -4624,7 +4549,7 @@ msgstr "zu verschiebene Blcke"
 msgid "meta-data blocks"
 msgstr "Metadaten-Blcke"
 
-#: resize/resize2fs.c:1550
+#: resize/resize2fs.c:1534
 #, c-format
 msgid "Should never happen: resize inode corrupt!\n"
 msgstr ""
@@ -4632,20 +4557,6 @@ msgstr ""
 #~ msgid "Couldn't find ext2 superblock,"
 #~ msgstr "Konnte den ext2-Superblock nicht finden,"
 
-#~ msgid ""
-#~ "\n"
-#~ "The filesystem already has sparse superblocks disabled.\n"
-#~ msgstr ""
-#~ "\n"
-#~ "Sparse Superblocks sind auf dem Dateisystem bereits deaktiviert.\n"
-
-#~ msgid ""
-#~ "\n"
-#~ "Sparse superblock flag cleared.  %s"
-#~ msgstr ""
-#~ "\n"
-#~ "Sparse superblock Flag gelscht.  %s"
-
 #, fuzzy
 #~ msgid "invalid blocks range: %lu-%lu"
 #~ msgstr "Bad Blocks Bereich: %lu-%lu"
diff -Nurp e2fsprogs-1.40.7/po/e2fsprogs.pot e2fsprogs/po/e2fsprogs.pot
--- e2fsprogs-1.40.7/po/e2fsprogs.pot	2008-02-29 02:45:56.000000000 +0000
+++ e2fsprogs/po/e2fsprogs.pot	2008-02-29 11:23:57.000000000 +0000
@@ -66,7 +66,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: PACKAGE VERSION\n"
 "Report-Msgid-Bugs-To: tytso@alum.mit.edu\n"
-"POT-Creation-Date: 2008-02-28 21:45-0500\n"
+"POT-Creation-Date: 2008-02-09 23:16-0500\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: LANGUAGE <LL@li.org>\n"
@@ -74,7 +74,7 @@ msgstr ""
 "Content-Type: text/plain; charset=CHARSET\n"
 "Content-Transfer-Encoding: 8bit\n"
 
-#: e2fsck/badblocks.c:22 misc/mke2fs.c:157
+#: e2fsck/badblocks.c:22 misc/mke2fs.c:156
 #, c-format
 msgid "Bad block %u out of range; ignored.\n"
 msgstr ""
@@ -88,10 +88,10 @@ msgid "while reading the bad blocks inod
 msgstr ""
 
 #: e2fsck/badblocks.c:71 e2fsck/iscan.c:112 e2fsck/scantest.c:109
-#: e2fsck/unix.c:1010 e2fsck/unix.c:1093 misc/badblocks.c:1025
+#: e2fsck/unix.c:992 e2fsck/unix.c:1075 misc/badblocks.c:1025
 #: misc/badblocks.c:1033 misc/badblocks.c:1047 misc/badblocks.c:1059
-#: misc/dumpe2fs.c:483 misc/e2image.c:571 misc/e2image.c:664
-#: misc/e2image.c:680 misc/mke2fs.c:173 misc/tune2fs.c:916 resize/main.c:296
+#: misc/dumpe2fs.c:400 misc/e2image.c:571 misc/e2image.c:664
+#: misc/e2image.c:680 misc/mke2fs.c:172 misc/tune2fs.c:851 resize/main.c:296
 #, c-format
 msgid "while trying to open %s"
 msgstr ""
@@ -101,15 +101,15 @@ msgstr ""
 msgid "while trying popen '%s'"
 msgstr ""
 
-#: e2fsck/badblocks.c:93 misc/mke2fs.c:180
+#: e2fsck/badblocks.c:93 misc/mke2fs.c:179
 msgid "while reading in list of bad blocks from file"
 msgstr ""
 
-#: e2fsck/badblocks.c:104
+#: e2fsck/badblocks.c:103
 msgid "while updating bad block inode"
 msgstr ""
 
-#: e2fsck/badblocks.c:130
+#: e2fsck/badblocks.c:129
 #, c-format
 msgid "Warning: illegal block %u found in bad block inode.  Cleared.\n"
 msgstr ""
@@ -456,7 +456,7 @@ msgstr ""
 msgid "internal error: couldn't lookup EA inode record for %u"
 msgstr ""
 
-#: e2fsck/pass1.c:404 e2fsck/pass2.c:770
+#: e2fsck/pass1.c:404 e2fsck/pass2.c:779
 msgid "reading directory block"
 msgstr ""
 
@@ -525,7 +525,7 @@ msgstr ""
 msgid "inode table"
 msgstr ""
 
-#: e2fsck/pass2.c:283
+#: e2fsck/pass2.c:292
 msgid "Pass 2"
 msgstr ""
 
@@ -2269,7 +2269,7 @@ msgstr ""
 msgid "         # of inodes with ind/dind/tind blocks: %u/%u/%u\n"
 msgstr ""
 
-#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:941 misc/util.c:151
+#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:876 misc/util.c:151
 #: resize/main.c:237
 #, c-format
 msgid "while determining whether %s is mounted."
@@ -2399,7 +2399,7 @@ msgstr ""
 msgid "Byte-swapping filesystems not compiled in this version of e2fsck\n"
 msgstr ""
 
-#: e2fsck/unix.c:770 misc/tune2fs.c:504 misc/tune2fs.c:769 misc/tune2fs.c:786
+#: e2fsck/unix.c:770 misc/tune2fs.c:470 misc/tune2fs.c:735 misc/tune2fs.c:752
 #, c-format
 msgid "Unable to resolve '%s'"
 msgstr ""
@@ -2429,38 +2429,38 @@ msgid ""
 "\n"
 msgstr ""
 
-#: e2fsck/unix.c:905
+#: e2fsck/unix.c:904
 #, c-format
 msgid "Error: ext2fs library version out of date!\n"
 msgstr ""
 
-#: e2fsck/unix.c:913
+#: e2fsck/unix.c:912
 msgid "while trying to initialize program"
 msgstr ""
 
-#: e2fsck/unix.c:927
+#: e2fsck/unix.c:926
 #, c-format
 msgid "\tUsing %s, %s\n"
 msgstr ""
 
-#: e2fsck/unix.c:939
+#: e2fsck/unix.c:938
 msgid "need terminal for interactive repairs"
 msgstr ""
 
-#: e2fsck/unix.c:983
+#: e2fsck/unix.c:978
 #, c-format
 msgid "%s: %s trying backup blocks...\n"
 msgstr ""
 
-#: e2fsck/unix.c:985
+#: e2fsck/unix.c:980
 msgid "Superblock invalid,"
 msgstr ""
 
-#: e2fsck/unix.c:986
+#: e2fsck/unix.c:981
 msgid "Group descriptors look bad..."
 msgstr ""
 
-#: e2fsck/unix.c:1013
+#: e2fsck/unix.c:995
 #, c-format
 msgid ""
 "The filesystem revision is apparently too high for this version of e2fsck.\n"
@@ -2468,147 +2468,142 @@ msgid ""
 "\n"
 msgstr ""
 
-#: e2fsck/unix.c:1019
+#: e2fsck/unix.c:1001
 #, c-format
 msgid "Could this be a zero-length partition?\n"
 msgstr ""
 
-#: e2fsck/unix.c:1021
+#: e2fsck/unix.c:1003
 #, c-format
 msgid "You must have %s access to the filesystem or be root\n"
 msgstr ""
 
-#: e2fsck/unix.c:1026
+#: e2fsck/unix.c:1008
 #, c-format
 msgid "Possibly non-existent or swap device?\n"
 msgstr ""
 
-#: e2fsck/unix.c:1028
+#: e2fsck/unix.c:1010
 #, c-format
 msgid "Filesystem mounted or opened exclusively by another program?\n"
 msgstr ""
 
-#: e2fsck/unix.c:1032
+#: e2fsck/unix.c:1014
 #, c-format
 msgid ""
 "Disk write-protected; use the -n option to do a read-only\n"
 "check of the device.\n"
 msgstr ""
 
-#: e2fsck/unix.c:1096
+#: e2fsck/unix.c:1078
 msgid "Get a newer version of e2fsck!"
 msgstr ""
 
-#: e2fsck/unix.c:1117
+#: e2fsck/unix.c:1099
 #, c-format
 msgid "while checking ext3 journal for %s"
 msgstr ""
 
-#: e2fsck/unix.c:1128
+#: e2fsck/unix.c:1110
 #, c-format
 msgid ""
 "Warning: skipping journal recovery because doing a read-only filesystem "
 "check.\n"
 msgstr ""
 
-#: e2fsck/unix.c:1141
+#: e2fsck/unix.c:1123
 #, c-format
 msgid "unable to set superblock flags on %s\n"
 msgstr ""
 
-#: e2fsck/unix.c:1147
+#: e2fsck/unix.c:1129
 #, c-format
 msgid "while recovering ext3 journal of %s"
 msgstr ""
 
-#: e2fsck/unix.c:1171
-#, c-format
-msgid "%s has unsupported feature(s):"
-msgstr ""
-
-#: e2fsck/unix.c:1187
+#: e2fsck/unix.c:1158
 msgid "Warning: compression support is experimental.\n"
 msgstr ""
 
-#: e2fsck/unix.c:1192
+#: e2fsck/unix.c:1163
 #, c-format
 msgid ""
 "E2fsck not compiled with HTREE support,\n"
 "\tbut filesystem %s has HTREE directories.\n"
 msgstr ""
 
-#: e2fsck/unix.c:1241
+#: e2fsck/unix.c:1212
 #, c-format
 msgid "%s: Filesystem byte order already normalized.\n"
 msgstr ""
 
-#: e2fsck/unix.c:1261
+#: e2fsck/unix.c:1232
 msgid "while reading bad blocks inode"
 msgstr ""
 
-#: e2fsck/unix.c:1263
+#: e2fsck/unix.c:1234
 #, c-format
 msgid "This doesn't bode well, but we'll try to go on...\n"
 msgstr ""
 
-#: e2fsck/unix.c:1289
+#: e2fsck/unix.c:1260
 msgid "Couldn't determine journal size"
 msgstr ""
 
-#: e2fsck/unix.c:1292 misc/mke2fs.c:1776
+#: e2fsck/unix.c:1263 misc/mke2fs.c:1744
 #, c-format
 msgid "Creating journal (%d blocks): "
 msgstr ""
 
-#: e2fsck/unix.c:1299 misc/mke2fs.c:1784
+#: e2fsck/unix.c:1270 misc/mke2fs.c:1752
 msgid ""
 "\n"
 "\twhile trying to create journal"
 msgstr ""
 
-#: e2fsck/unix.c:1302
+#: e2fsck/unix.c:1273
 #, c-format
 msgid " Done.\n"
 msgstr ""
 
-#: e2fsck/unix.c:1303
+#: e2fsck/unix.c:1274
 #, c-format
 msgid ""
 "\n"
 "*** journal has been re-created - filesystem is now ext3 again ***\n"
 msgstr ""
 
-#: e2fsck/unix.c:1310
+#: e2fsck/unix.c:1281
 #, c-format
 msgid "Restarting e2fsck from the beginning...\n"
 msgstr ""
 
-#: e2fsck/unix.c:1314
+#: e2fsck/unix.c:1285
 msgid "while resetting context"
 msgstr ""
 
-#: e2fsck/unix.c:1321
+#: e2fsck/unix.c:1292
 #, c-format
 msgid "%s: e2fsck canceled.\n"
 msgstr ""
 
-#: e2fsck/unix.c:1326
+#: e2fsck/unix.c:1297
 msgid "aborted"
 msgstr ""
 
-#: e2fsck/unix.c:1338
+#: e2fsck/unix.c:1309
 #, c-format
 msgid ""
 "\n"
 "%s: ***** FILE SYSTEM WAS MODIFIED *****\n"
 msgstr ""
 
-#: e2fsck/unix.c:1341
+#: e2fsck/unix.c:1312
 #, c-format
 msgid "%s: ***** REBOOT LINUX *****\n"
 msgstr ""
 
-#: e2fsck/unix.c:1349
+#: e2fsck/unix.c:1320
 #, c-format
 msgid ""
 "\n"
@@ -2890,7 +2885,7 @@ msgstr ""
 msgid "while trying to determine device size"
 msgstr ""
 
-#: misc/badblocks.c:996 misc/mke2fs.c:1255
+#: misc/badblocks.c:996 misc/mke2fs.c:1223
 #, c-format
 msgid "invalid blocks count - %s"
 msgstr ""
@@ -3049,7 +3044,7 @@ msgstr ""
 msgid "Bad blocks: %u"
 msgstr ""
 
-#: misc/dumpe2fs.c:274 misc/tune2fs.c:261
+#: misc/dumpe2fs.c:274 misc/tune2fs.c:243
 msgid "while reading journal inode"
 msgstr ""
 
@@ -3057,7 +3052,7 @@ msgstr ""
 msgid "Journal size:             "
 msgstr ""
 
-#: misc/dumpe2fs.c:296 misc/tune2fs.c:183
+#: misc/dumpe2fs.c:296 misc/tune2fs.c:165
 msgid "while reading journal superblock"
 msgstr ""
 
@@ -3082,51 +3077,22 @@ msgstr ""
 msgid "Journal users:            %s\n"
 msgstr ""
 
-#: misc/dumpe2fs.c:337 misc/mke2fs.c:768 misc/tune2fs.c:810
-#, c-format
-msgid "Couldn't allocate memory to parse options!\n"
-msgstr ""
-
-#: misc/dumpe2fs.c:363
-#, c-format
-msgid "Invalid superblock parameter: %s\n"
-msgstr ""
-
-#: misc/dumpe2fs.c:378
-#, c-format
-msgid "Invalid blocksize parameter: %s\n"
-msgstr ""
-
-#: misc/dumpe2fs.c:389
-#, c-format
-msgid ""
-"\n"
-"Bad extended option(s) specified: %s\n"
-"\n"
-"Extended options are separated by commas, and may take an argument which\n"
-"\tis set off by an equals ('=') sign.\n"
-"\n"
-"Valid extended options are:\n"
-"\tsuperblock=<superblock number>\n"
-"\tblocksize=<blocksize>\n"
-msgstr ""
-
-#: misc/dumpe2fs.c:449 misc/mke2fs.c:1199
+#: misc/dumpe2fs.c:376 misc/mke2fs.c:1167
 #, c-format
 msgid "\tUsing %s\n"
 msgstr ""
 
-#: misc/dumpe2fs.c:485 misc/e2image.c:666 misc/tune2fs.c:919 resize/main.c:298
+#: misc/dumpe2fs.c:402 misc/e2image.c:666 misc/tune2fs.c:854 resize/main.c:298
 #, c-format
 msgid "Couldn't find valid filesystem superblock.\n"
 msgstr ""
 
-#: misc/dumpe2fs.c:496
+#: misc/dumpe2fs.c:413
 #, c-format
 msgid "Note: This is a byte-swapped filesystem\n"
 msgstr ""
 
-#: misc/dumpe2fs.c:515
+#: misc/dumpe2fs.c:432
 #, c-format
 msgid ""
 "\n"
@@ -3183,7 +3149,7 @@ msgstr ""
 msgid "e2label: not an ext2 filesystem\n"
 msgstr ""
 
-#: misc/e2label.c:96 misc/tune2fs.c:1025
+#: misc/e2label.c:96 misc/tune2fs.c:970
 #, c-format
 msgid "Warning: label too long, truncating.\n"
 msgstr ""
@@ -3198,7 +3164,7 @@ msgstr ""
 msgid "e2label: error writing superblock\n"
 msgstr ""
 
-#: misc/e2label.c:116 misc/tune2fs.c:496
+#: misc/e2label.c:116 misc/tune2fs.c:462
 #, c-format
 msgid "Usage: e2label device [newlabel]\n"
 msgstr ""
@@ -3277,22 +3243,22 @@ msgstr ""
 msgid "Checking all file systems.\n"
 msgstr ""
 
-#: misc/fsck.c:1046
+#: misc/fsck.c:1041
 #, c-format
 msgid "--waiting-- (pass %d)\n"
 msgstr ""
 
-#: misc/fsck.c:1066
+#: misc/fsck.c:1061
 msgid ""
-"Usage: fsck [-AMNPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
+"Usage: fsck [-ANPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
 msgstr ""
 
-#: misc/fsck.c:1108
+#: misc/fsck.c:1103
 #, c-format
 msgid "%s: too many devices\n"
 msgstr ""
 
-#: misc/fsck.c:1141 misc/fsck.c:1227
+#: misc/fsck.c:1136 misc/fsck.c:1222
 #, c-format
 msgid "%s: too many arguments\n"
 msgstr ""
@@ -3315,43 +3281,43 @@ msgstr ""
 #: misc/mke2fs.c:97
 #, c-format
 msgid ""
-"Usage: %s [-c|-l filename] [-b block-size] [-f fragment-size]\n"
-"\t[-i bytes-per-inode] [-I inode-size] [-J journal-options]\n"
+"Usage: %s [-c|-t|-l filename] [-b block-size] [-f fragment-size]\n"
+"\t[-i bytes-per-inode] [-I inode-size] [-j] [-J journal-options]\n"
 "\t[-N number-of-inodes] [-m reserved-blocks-percentage] [-o creator-os]\n"
 "\t[-g blocks-per-group] [-L volume-label] [-M last-mounted-directory]\n"
-"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]]\n"
-"\t[-T fs-type] [-jnqvFSV] device [blocks-count]\n"
+"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]] [-qvSV]\n"
+"\tdevice [blocks-count]\n"
 msgstr ""
 
-#: misc/mke2fs.c:198
+#: misc/mke2fs.c:197
 #, c-format
 msgid "Running command: %s\n"
 msgstr ""
 
-#: misc/mke2fs.c:202
+#: misc/mke2fs.c:201
 #, c-format
 msgid "while trying to run '%s'"
 msgstr ""
 
-#: misc/mke2fs.c:209
+#: misc/mke2fs.c:208
 msgid "while processing list of bad blocks from program"
 msgstr ""
 
-#: misc/mke2fs.c:236
+#: misc/mke2fs.c:235
 #, c-format
 msgid "Block %d in primary superblock/group descriptor area bad.\n"
 msgstr ""
 
-#: misc/mke2fs.c:238
+#: misc/mke2fs.c:237
 #, c-format
 msgid "Blocks %u through %u must be good in order to build a filesystem.\n"
 msgstr ""
 
-#: misc/mke2fs.c:241
+#: misc/mke2fs.c:240
 msgid "Aborting....\n"
 msgstr ""
 
-#: misc/mke2fs.c:261
+#: misc/mke2fs.c:260
 #, c-format
 msgid ""
 "Warning: the backup superblock/group descriptors at block %u contain\n"
@@ -3359,315 +3325,305 @@ msgid ""
 "\n"
 msgstr ""
 
-#: misc/mke2fs.c:279
+#: misc/mke2fs.c:278
 msgid "while marking bad blocks as used"
 msgstr ""
 
-#: misc/mke2fs.c:337
+#: misc/mke2fs.c:336
 msgid "done                            \n"
 msgstr ""
 
-#: misc/mke2fs.c:372
+#: misc/mke2fs.c:371
 msgid "while allocating zeroizing buffer"
 msgstr ""
 
-#: misc/mke2fs.c:414
+#: misc/mke2fs.c:413
 msgid "Writing inode tables: "
 msgstr ""
 
-#: misc/mke2fs.c:431
+#: misc/mke2fs.c:430
 #, c-format
 msgid ""
 "\n"
 "Could not write %d blocks in inode table starting at %u: %s\n"
 msgstr ""
 
-#: misc/mke2fs.c:487
+#: misc/mke2fs.c:486
 msgid "while creating root dir"
 msgstr ""
 
-#: misc/mke2fs.c:494
+#: misc/mke2fs.c:493
 msgid "while reading root inode"
 msgstr ""
 
-#: misc/mke2fs.c:508
+#: misc/mke2fs.c:507
 msgid "while setting root inode ownership"
 msgstr ""
 
-#: misc/mke2fs.c:526
+#: misc/mke2fs.c:525
 msgid "while creating /lost+found"
 msgstr ""
 
-#: misc/mke2fs.c:533
+#: misc/mke2fs.c:532
 msgid "while looking up /lost+found"
 msgstr ""
 
-#: misc/mke2fs.c:543
+#: misc/mke2fs.c:542
 msgid "while expanding /lost+found"
 msgstr ""
 
-#: misc/mke2fs.c:559
+#: misc/mke2fs.c:558
 msgid "while setting bad block inode"
 msgstr ""
 
-#: misc/mke2fs.c:591
+#: misc/mke2fs.c:590
 #, c-format
 msgid "Out of memory erasing sectors %d-%d\n"
 msgstr ""
 
-#: misc/mke2fs.c:601
+#: misc/mke2fs.c:600
 #, c-format
 msgid "Warning: could not read block 0: %s\n"
 msgstr ""
 
-#: misc/mke2fs.c:617
+#: misc/mke2fs.c:616
 #, c-format
 msgid "Warning: could not erase sector %d: %s\n"
 msgstr ""
 
-#: misc/mke2fs.c:633
+#: misc/mke2fs.c:632
 msgid "while initializing journal superblock"
 msgstr ""
 
-#: misc/mke2fs.c:639
+#: misc/mke2fs.c:638
 msgid "Zeroing journal device: "
 msgstr ""
 
-#: misc/mke2fs.c:646
+#: misc/mke2fs.c:645
 #, c-format
 msgid "while zeroing journal device (block %u, count %d)"
 msgstr ""
 
-#: misc/mke2fs.c:657
+#: misc/mke2fs.c:656
 msgid "while writing journal superblock"
 msgstr ""
 
-#: misc/mke2fs.c:673
+#: misc/mke2fs.c:672
 #, c-format
 msgid ""
 "warning: %u blocks unused.\n"
 "\n"
 msgstr ""
 
-#: misc/mke2fs.c:678
+#: misc/mke2fs.c:677
 #, c-format
 msgid "Filesystem label=%s\n"
 msgstr ""
 
-#: misc/mke2fs.c:679
+#: misc/mke2fs.c:678
 msgid "OS type: "
 msgstr ""
 
-#: misc/mke2fs.c:684
+#: misc/mke2fs.c:683
 #, c-format
 msgid "Block size=%u (log=%u)\n"
 msgstr ""
 
-#: misc/mke2fs.c:686
+#: misc/mke2fs.c:685
 #, c-format
 msgid "Fragment size=%u (log=%u)\n"
 msgstr ""
 
-#: misc/mke2fs.c:688
+#: misc/mke2fs.c:687
 #, c-format
 msgid "%u inodes, %u blocks\n"
 msgstr ""
 
-#: misc/mke2fs.c:690
+#: misc/mke2fs.c:689
 #, c-format
 msgid "%u blocks (%2.2f%%) reserved for the super user\n"
 msgstr ""
 
-#: misc/mke2fs.c:693
+#: misc/mke2fs.c:692
 #, c-format
 msgid "First data block=%u\n"
 msgstr ""
 
-#: misc/mke2fs.c:695
+#: misc/mke2fs.c:694
 #, c-format
 msgid "Maximum filesystem blocks=%lu\n"
 msgstr ""
 
-#: misc/mke2fs.c:700
+#: misc/mke2fs.c:699
 #, c-format
 msgid "%u block groups\n"
 msgstr ""
 
-#: misc/mke2fs.c:702
+#: misc/mke2fs.c:701
 #, c-format
 msgid "%u block group\n"
 msgstr ""
 
-#: misc/mke2fs.c:703
+#: misc/mke2fs.c:702
 #, c-format
 msgid "%u blocks per group, %u fragments per group\n"
 msgstr ""
 
-#: misc/mke2fs.c:705
+#: misc/mke2fs.c:704
 #, c-format
 msgid "%u inodes per group\n"
 msgstr ""
 
-#: misc/mke2fs.c:712
+#: misc/mke2fs.c:711
 #, c-format
 msgid "Superblock backups stored on blocks: "
 msgstr ""
 
-#: misc/mke2fs.c:793
+#: misc/mke2fs.c:767 misc/tune2fs.c:776
 #, c-format
-msgid "Invalid stride parameter: %s\n"
+msgid "Couldn't allocate memory to parse options!\n"
 msgstr ""
 
-#: misc/mke2fs.c:808
+#: misc/mke2fs.c:791
 #, c-format
-msgid "Invalid stripe-width parameter: %s\n"
+msgid "Invalid stride parameter: %s\n"
 msgstr ""
 
-#: misc/mke2fs.c:830
+#: misc/mke2fs.c:812
 #, c-format
 msgid "Invalid resize parameter: %s\n"
 msgstr ""
 
-#: misc/mke2fs.c:837
+#: misc/mke2fs.c:819
 #, c-format
 msgid "The resize maximum must be greater than the filesystem size.\n"
 msgstr ""
 
-#: misc/mke2fs.c:861
+#: misc/mke2fs.c:843
 #, c-format
 msgid "On-line resizing not supported with revision 0 filesystems\n"
 msgstr ""
 
-#: misc/mke2fs.c:878
+#: misc/mke2fs.c:858
 #, c-format
 msgid ""
 "\n"
-"Bad option(s) specified: %s\n"
+"Bad options specified.\n"
 "\n"
 "Extended options are separated by commas, and may take an argument which\n"
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk data chunk in blocks>\n"
-"\tstripe-width=<RAID stride * data disks in blocks>\n"
+"\tstride=<stride length in blocks>\n"
 "\tresize=<resize maximum size in blocks>\n"
-"\n"
 "\ttest_fs\n"
 msgstr ""
 
-#: misc/mke2fs.c:893
-#, c-format
-msgid ""
-"\n"
-"Warning: RAID stripe-width %u not an even multiple of stride %u.\n"
-"\n"
-msgstr ""
-
-#: misc/mke2fs.c:920
+#: misc/mke2fs.c:888
 #, c-format
 msgid ""
 "Syntax error in mke2fs config file (%s, line #%d)\n"
 "\t%s\n"
 msgstr ""
 
-#: misc/mke2fs.c:933 misc/tune2fs.c:335
+#: misc/mke2fs.c:901 misc/tune2fs.c:314
 #, c-format
 msgid "Invalid filesystem option set: %s\n"
 msgstr ""
 
-#: misc/mke2fs.c:1040
+#: misc/mke2fs.c:1008
 #, c-format
 msgid "invalid block size - %s"
 msgstr ""
 
-#: misc/mke2fs.c:1044
+#: misc/mke2fs.c:1012
 #, c-format
 msgid "Warning: blocksize %d not usable on most systems.\n"
 msgstr ""
 
-#: misc/mke2fs.c:1061
+#: misc/mke2fs.c:1029
 #, c-format
 msgid "invalid fragment size - %s"
 msgstr ""
 
-#: misc/mke2fs.c:1067
+#: misc/mke2fs.c:1035
 #, c-format
 msgid "Warning: fragments not supported.  Ignoring -f option\n"
 msgstr ""
 
-#: misc/mke2fs.c:1074
+#: misc/mke2fs.c:1042
 msgid "Illegal number for blocks per group"
 msgstr ""
 
-#: misc/mke2fs.c:1079
+#: misc/mke2fs.c:1047
 msgid "blocks per group must be multiple of 8"
 msgstr ""
 
-#: misc/mke2fs.c:1089
+#: misc/mke2fs.c:1057
 #, c-format
 msgid "invalid inode ratio %s (min %d/max %d)"
 msgstr ""
 
-#: misc/mke2fs.c:1106
+#: misc/mke2fs.c:1074
 msgid "in malloc for bad_blocks_filename"
 msgstr ""
 
-#: misc/mke2fs.c:1115
+#: misc/mke2fs.c:1083
 #, c-format
 msgid "invalid reserved blocks percent - %s"
 msgstr ""
 
-#: misc/mke2fs.c:1133
+#: misc/mke2fs.c:1101
 #, c-format
 msgid "bad revision level - %s"
 msgstr ""
 
-#: misc/mke2fs.c:1145
+#: misc/mke2fs.c:1113
 #, c-format
 msgid "invalid inode size - %s"
 msgstr ""
 
-#: misc/mke2fs.c:1165
+#: misc/mke2fs.c:1133
 #, c-format
 msgid "bad num inodes - %s"
 msgstr ""
 
-#: misc/mke2fs.c:1223 misc/mke2fs.c:1745
+#: misc/mke2fs.c:1191 misc/mke2fs.c:1713
 #, c-format
 msgid "while trying to open journal device %s\n"
 msgstr ""
 
-#: misc/mke2fs.c:1229
+#: misc/mke2fs.c:1197
 #, c-format
 msgid "Journal dev blocksize (%d) smaller than minimum blocksize %d\n"
 msgstr ""
 
-#: misc/mke2fs.c:1243
+#: misc/mke2fs.c:1211
 #, c-format
 msgid "%d-byte blocks too big for system (max %d)"
 msgstr ""
 
-#: misc/mke2fs.c:1247
+#: misc/mke2fs.c:1215
 #, c-format
 msgid ""
 "Warning: %d-byte blocks too big for system (max %d), forced to continue\n"
 msgstr ""
 
-#: misc/mke2fs.c:1265
+#: misc/mke2fs.c:1233
 msgid "filesystem"
 msgstr ""
 
-#: misc/mke2fs.c:1288 resize/main.c:332
+#: misc/mke2fs.c:1256 resize/main.c:332
 msgid "while trying to determine filesystem size"
 msgstr ""
 
-#: misc/mke2fs.c:1294
+#: misc/mke2fs.c:1262
 msgid ""
 "Couldn't determine device size; you must specify\n"
 "the size of the filesystem\n"
 msgstr ""
 
-#: misc/mke2fs.c:1301
+#: misc/mke2fs.c:1269
 msgid ""
 "Device size reported to be zero.  Invalid partition specified, or\n"
 "\tpartition table wasn't reread after running fdisk, due to\n"
@@ -3675,44 +3631,44 @@ msgid ""
 "\tto re-read your partition table.\n"
 msgstr ""
 
-#: misc/mke2fs.c:1319
+#: misc/mke2fs.c:1287
 msgid "Filesystem larger than apparent device size."
 msgstr ""
 
-#: misc/mke2fs.c:1367
+#: misc/mke2fs.c:1335
 #, c-format
 msgid "Filesystem features not supported with revision 0 filesystems\n"
 msgstr ""
 
-#: misc/mke2fs.c:1374
+#: misc/mke2fs.c:1342
 #, c-format
 msgid "Sparse superblocks not supported with revision 0 filesystems\n"
 msgstr ""
 
-#: misc/mke2fs.c:1386
+#: misc/mke2fs.c:1354
 #, c-format
 msgid "Journals not supported with revision 0 filesystems\n"
 msgstr ""
 
-#: misc/mke2fs.c:1412
+#: misc/mke2fs.c:1380
 msgid "while trying to determine hardware sector size"
 msgstr ""
 
-#: misc/mke2fs.c:1464
+#: misc/mke2fs.c:1432
 msgid "reserved online resize blocks not supported on non-sparse filesystem"
 msgstr ""
 
-#: misc/mke2fs.c:1473
+#: misc/mke2fs.c:1441
 msgid "blocks per group count out of range"
 msgstr ""
 
-#: misc/mke2fs.c:1480
+#: misc/mke2fs.c:1448
 msgid ""
 "Filesystem too large.  No more than 2**31-1 blocks\n"
 "\t (8TB using a blocksize of 4k) are currently supported."
 msgstr ""
 
-#: misc/mke2fs.c:1487
+#: misc/mke2fs.c:1455
 #, c-format
 msgid ""
 "\n"
@@ -3721,27 +3677,27 @@ msgid ""
 "\n"
 msgstr ""
 
-#: misc/mke2fs.c:1504
+#: misc/mke2fs.c:1472
 #, c-format
 msgid "invalid inode size %d (min %d/max %d)"
 msgstr ""
 
-#: misc/mke2fs.c:1510
+#: misc/mke2fs.c:1478
 #, c-format
 msgid "Warning: %d-byte inodes not usable on older systems\n"
 msgstr ""
 
-#: misc/mke2fs.c:1522
+#: misc/mke2fs.c:1490
 #, c-format
 msgid "too many inodes (%llu), raise inode ratio?"
 msgstr ""
 
-#: misc/mke2fs.c:1527
+#: misc/mke2fs.c:1495
 #, c-format
 msgid "too many inodes (%llu), specify < 2^32 inodes"
 msgstr ""
 
-#: misc/mke2fs.c:1542
+#: misc/mke2fs.c:1510
 #, c-format
 msgid ""
 "inode_size (%u) * inodes_count (%u) too big for a\n"
@@ -3749,62 +3705,62 @@ msgid ""
 "\tor lower inode count (-N).\n"
 msgstr ""
 
-#: misc/mke2fs.c:1591
+#: misc/mke2fs.c:1559
 msgid "while setting up superblock"
 msgstr ""
 
-#: misc/mke2fs.c:1628
+#: misc/mke2fs.c:1596
 #, c-format
 msgid "unknown os - %s"
 msgstr ""
 
-#: misc/mke2fs.c:1682
+#: misc/mke2fs.c:1650
 msgid "while trying to allocate filesystem tables"
 msgstr ""
 
-#: misc/mke2fs.c:1713
+#: misc/mke2fs.c:1681
 #, c-format
 msgid "while zeroing block %u at end of filesystem"
 msgstr ""
 
-#: misc/mke2fs.c:1727
+#: misc/mke2fs.c:1695
 msgid "while reserving blocks for online resize"
 msgstr ""
 
-#: misc/mke2fs.c:1738 misc/tune2fs.c:433
+#: misc/mke2fs.c:1706 misc/tune2fs.c:399
 msgid "journal"
 msgstr ""
 
-#: misc/mke2fs.c:1750
+#: misc/mke2fs.c:1718
 #, c-format
 msgid "Adding journal to device %s: "
 msgstr ""
 
-#: misc/mke2fs.c:1757
+#: misc/mke2fs.c:1725
 #, c-format
 msgid ""
 "\n"
 "\twhile trying to add journal to device %s"
 msgstr ""
 
-#: misc/mke2fs.c:1762 misc/mke2fs.c:1788 misc/tune2fs.c:461 misc/tune2fs.c:475
+#: misc/mke2fs.c:1730 misc/mke2fs.c:1756 misc/tune2fs.c:427 misc/tune2fs.c:441
 #, c-format
 msgid "done\n"
 msgstr ""
 
-#: misc/mke2fs.c:1793
+#: misc/mke2fs.c:1761
 #, c-format
 msgid "Writing superblocks and filesystem accounting information: "
 msgstr ""
 
-#: misc/mke2fs.c:1798
+#: misc/mke2fs.c:1766
 #, c-format
 msgid ""
 "\n"
 "Warning, had trouble writing out superblocks."
 msgstr ""
 
-#: misc/mke2fs.c:1801
+#: misc/mke2fs.c:1769
 #, c-format
 msgid ""
 "done\n"
@@ -3816,175 +3772,156 @@ msgstr ""
 msgid "Usage: mklost+found\n"
 msgstr ""
 
-#: misc/tune2fs.c:91
+#: misc/tune2fs.c:89
 msgid "Please run e2fsck on the filesystem.\n"
 msgstr ""
 
-#: misc/tune2fs.c:98
+#: misc/tune2fs.c:96
 #, c-format
 msgid ""
 "Usage: %s [-c max_mounts_count] [-e errors_behavior] [-g group]\n"
-"\t[-i interval[d|m|w]] [-j] [-J journal_options] [-l]\n"
-"\t[-m reserved_blocks_percent] [-o [^]mount_options[,...]] \n"
-"\t[-r reserved_blocks_count] [-u user] [-C mount_count] [-L volume_label]\n"
+"\t[-i interval[d|m|w]] [-j] [-J journal_options]\n"
+"\t[-l] [-s sparse_flag] [-m reserved_blocks_percent]\n"
+"\t[-o [^]mount_options[,...]] [-r reserved_blocks_count]\n"
+"\t[-u user] [-C mount_count] [-L volume_label]\n"
 "\t[-M last_mounted_dir] [-O [^]feature[,...]]\n"
 "\t[-E extended-option[,...]] [-T last_check_time] [-U UUID] device\n"
 msgstr ""
 
-#: misc/tune2fs.c:171
+#: misc/tune2fs.c:153
 msgid "while trying to open external journal"
 msgstr ""
 
-#: misc/tune2fs.c:175
+#: misc/tune2fs.c:157
 #, c-format
 msgid "%s is not a journal device.\n"
 msgstr ""
 
-#: misc/tune2fs.c:190
+#: misc/tune2fs.c:172
 msgid "Journal superblock not found!\n"
 msgstr ""
 
-#: misc/tune2fs.c:202
+#: misc/tune2fs.c:184
 msgid "Filesystem's UUID not found on journal device.\n"
 msgstr ""
 
-#: misc/tune2fs.c:223
+#: misc/tune2fs.c:205
 msgid "Journal NOT removed\n"
 msgstr ""
 
-#: misc/tune2fs.c:229
+#: misc/tune2fs.c:211
 msgid "Journal removed\n"
 msgstr ""
 
-#: misc/tune2fs.c:268
+#: misc/tune2fs.c:250
 msgid "while reading bitmaps"
 msgstr ""
 
-#: misc/tune2fs.c:275
+#: misc/tune2fs.c:257
 msgid "while clearing journal inode"
 msgstr ""
 
-#: misc/tune2fs.c:286
+#: misc/tune2fs.c:268
 msgid "while writing journal inode"
 msgstr ""
 
-#: misc/tune2fs.c:301
+#: misc/tune2fs.c:283
 #, c-format
 msgid "Invalid mount option set: %s\n"
 msgstr ""
 
-#: misc/tune2fs.c:338
-#, c-format
-msgid "Clearing filesystem feature '%s' not supported.\n"
-msgstr ""
-
-#: misc/tune2fs.c:344
-#, c-format
-msgid "Setting filesystem feature '%s' not supported.\n"
-msgstr ""
-
-#: misc/tune2fs.c:353
+#: misc/tune2fs.c:329
 msgid ""
 "The has_journal flag may only be cleared when the filesystem is\n"
 "unmounted or mounted read-only.\n"
 msgstr ""
 
-#: misc/tune2fs.c:361
+#: misc/tune2fs.c:337
 msgid ""
 "The needs_recovery flag is set.  Please run e2fsck before clearing\n"
 "the has_journal flag.\n"
 msgstr ""
 
-#: misc/tune2fs.c:428
+#: misc/tune2fs.c:394
 msgid "The filesystem already has a journal.\n"
 msgstr ""
 
-#: misc/tune2fs.c:445
+#: misc/tune2fs.c:411
 #, c-format
 msgid ""
 "\n"
 "\twhile trying to open journal on %s\n"
 msgstr ""
 
-#: misc/tune2fs.c:449
+#: misc/tune2fs.c:415
 #, c-format
 msgid "Creating journal on device %s: "
 msgstr ""
 
-#: misc/tune2fs.c:457
+#: misc/tune2fs.c:423
 #, c-format
 msgid "while adding filesystem to journal on %s"
 msgstr ""
 
-#: misc/tune2fs.c:463
+#: misc/tune2fs.c:429
 msgid "Creating journal inode: "
 msgstr ""
 
-#: misc/tune2fs.c:472
+#: misc/tune2fs.c:438
 msgid ""
 "\n"
 "\twhile trying to create journal file"
 msgstr ""
 
-#: misc/tune2fs.c:539
+#: misc/tune2fs.c:505
 #, c-format
 msgid "Couldn't parse date/time specifier: %s"
 msgstr ""
 
-#: misc/tune2fs.c:563 misc/tune2fs.c:576
+#: misc/tune2fs.c:529 misc/tune2fs.c:542
 #, c-format
 msgid "bad mounts count - %s"
 msgstr ""
 
-#: misc/tune2fs.c:592
+#: misc/tune2fs.c:558
 #, c-format
 msgid "bad error behavior - %s"
 msgstr ""
 
-#: misc/tune2fs.c:619
+#: misc/tune2fs.c:585
 #, c-format
 msgid "bad gid/group name - %s"
 msgstr ""
 
-#: misc/tune2fs.c:652
+#: misc/tune2fs.c:618
 #, c-format
 msgid "bad interval - %s"
 msgstr ""
 
-#: misc/tune2fs.c:680
+#: misc/tune2fs.c:646
 #, c-format
 msgid "bad reserved block ratio - %s"
 msgstr ""
 
-#: misc/tune2fs.c:695
+#: misc/tune2fs.c:661
 msgid "-o may only be specified once"
 msgstr ""
 
-#: misc/tune2fs.c:705
+#: misc/tune2fs.c:671
 msgid "-O may only be specified once"
 msgstr ""
 
-#: misc/tune2fs.c:715
+#: misc/tune2fs.c:681
 #, c-format
 msgid "bad reserved blocks count - %s"
 msgstr ""
 
-#: misc/tune2fs.c:744
+#: misc/tune2fs.c:710
 #, c-format
 msgid "bad uid/user name - %s"
 msgstr ""
 
-#: misc/tune2fs.c:842
-#, c-format
-msgid "Invalid RAID stride: %s\n"
-msgstr ""
-
-#: misc/tune2fs.c:857
-#, c-format
-msgid "Invalid RAID stripe-width: %s\n"
-msgstr ""
-
-#: misc/tune2fs.c:867
+#: misc/tune2fs.c:804
 #, c-format
 msgid ""
 "\n"
@@ -3994,98 +3931,93 @@ msgid ""
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk chunk size in blocks>\n"
-"\tstripe-width=<RAID stride*data disks in blocks>\n"
 "\ttest_fs\n"
 "\t^test_fs\n"
 msgstr ""
 
-#: misc/tune2fs.c:927
+#: misc/tune2fs.c:862
 #, c-format
 msgid "Filesystem %s has unsupported features enabled.\n"
 msgstr ""
 
-#: misc/tune2fs.c:951
+#: misc/tune2fs.c:886
 #, c-format
 msgid "Setting maximal mount count to %d\n"
 msgstr ""
 
-#: misc/tune2fs.c:957
+#: misc/tune2fs.c:892
 #, c-format
 msgid "Setting current mount count to %d\n"
 msgstr ""
 
-#: misc/tune2fs.c:962
+#: misc/tune2fs.c:897
 #, c-format
 msgid "Setting error behavior to %d\n"
 msgstr ""
 
-#: misc/tune2fs.c:967
+#: misc/tune2fs.c:902
 #, c-format
 msgid "Setting reserved blocks gid to %lu\n"
 msgstr ""
 
-#: misc/tune2fs.c:972
+#: misc/tune2fs.c:907
 #, c-format
 msgid "Setting interval between checks to %lu seconds\n"
 msgstr ""
 
-#: misc/tune2fs.c:978
+#: misc/tune2fs.c:913
 #, c-format
 msgid "Setting reserved blocks percentage to %g%% (%u blocks)\n"
 msgstr ""
 
-#: misc/tune2fs.c:984
+#: misc/tune2fs.c:919
 #, c-format
 msgid "reserved blocks count is too big (%lu)"
 msgstr ""
 
-#: misc/tune2fs.c:990
+#: misc/tune2fs.c:925
 #, c-format
 msgid "Setting reserved blocks count to %lu\n"
 msgstr ""
 
-#: misc/tune2fs.c:996
+#: misc/tune2fs.c:931
 msgid ""
 "\n"
 "The filesystem already has sparse superblocks.\n"
 msgstr ""
 
-#: misc/tune2fs.c:1003
+#: misc/tune2fs.c:938
 #, c-format
 msgid ""
 "\n"
 "Sparse superblock flag set.  %s"
 msgstr ""
 
-#: misc/tune2fs.c:1008
+#: misc/tune2fs.c:945
 msgid ""
 "\n"
-"Clearing the sparse superflag not supported.\n"
+"The filesystem already has sparse superblocks disabled.\n"
 msgstr ""
 
-#: misc/tune2fs.c:1015
+#: misc/tune2fs.c:953
 #, c-format
-msgid "Setting time filesystem last checked to %s\n"
+msgid ""
+"\n"
+"Sparse superblock flag cleared.  %s"
 msgstr ""
 
-#: misc/tune2fs.c:1021
+#: misc/tune2fs.c:960
 #, c-format
-msgid "Setting reserved blocks uid to %lu\n"
-msgstr ""
-
-#: misc/tune2fs.c:1056
-msgid "Invalid UUID format\n"
+msgid "Setting time filesystem last checked to %s\n"
 msgstr ""
 
-#: misc/tune2fs.c:1067
+#: misc/tune2fs.c:966
 #, c-format
-msgid "Setting stride size to %d\n"
+msgid "Setting reserved blocks uid to %lu\n"
 msgstr ""
 
-#: misc/tune2fs.c:1072
-#, c-format
-msgid "Setting stripe width to %d\n"
+#: misc/tune2fs.c:1001
+msgid "Invalid UUID format\n"
 msgstr ""
 
 #: misc/util.c:72
@@ -4298,7 +4230,7 @@ msgstr ""
 msgid "meta-data blocks"
 msgstr ""
 
-#: resize/resize2fs.c:1550
+#: resize/resize2fs.c:1534
 #, c-format
 msgid "Should never happen: resize inode corrupt!\n"
 msgstr ""
Files e2fsprogs-1.40.7/po/es.gmo and e2fsprogs/po/es.gmo differ
diff -Nurp e2fsprogs-1.40.7/po/es.po e2fsprogs/po/es.po
--- e2fsprogs-1.40.7/po/es.po	2008-02-29 02:46:09.000000000 +0000
+++ e2fsprogs/po/es.po	2008-02-29 11:23:57.000000000 +0000
@@ -64,7 +64,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: GNU e2fsprogs 1.38-b3\n"
 "Report-Msgid-Bugs-To: tytso@alum.mit.edu\n"
-"POT-Creation-Date: 2008-02-28 21:45-0500\n"
+"POT-Creation-Date: 2008-02-09 23:16-0500\n"
 "PO-Revision-Date: 2005-06-22 11:26-0500\n"
 "Last-Translator: Max de Mendizbal <max@upn.mx>\n"
 "Language-Team: Spanish <es@li.org>\n"
@@ -79,7 +79,7 @@ msgstr ""
 # Qu tal "se descarta"? Me gustara saber si hay algn glosario de 
 # frases para traducir programas GNU, son cosas que deberan ser 
 # estndar. mm
-#: e2fsck/badblocks.c:22 misc/mke2fs.c:157
+#: e2fsck/badblocks.c:22 misc/mke2fs.c:156
 #, c-format
 msgid "Bad block %u out of range; ignored.\n"
 msgstr "El bloque daado %u est fuera del intervalo; se descarta.\n"
@@ -102,10 +102,10 @@ msgid "while reading the bad blocks inod
 msgstr "mientras se lea el nodo-i que tiene bloques daados"
 
 #: e2fsck/badblocks.c:71 e2fsck/iscan.c:112 e2fsck/scantest.c:109
-#: e2fsck/unix.c:1010 e2fsck/unix.c:1093 misc/badblocks.c:1025
+#: e2fsck/unix.c:992 e2fsck/unix.c:1075 misc/badblocks.c:1025
 #: misc/badblocks.c:1033 misc/badblocks.c:1047 misc/badblocks.c:1059
-#: misc/dumpe2fs.c:483 misc/e2image.c:571 misc/e2image.c:664
-#: misc/e2image.c:680 misc/mke2fs.c:173 misc/tune2fs.c:916 resize/main.c:296
+#: misc/dumpe2fs.c:400 misc/e2image.c:571 misc/e2image.c:664
+#: misc/e2image.c:680 misc/mke2fs.c:172 misc/tune2fs.c:851 resize/main.c:296
 #, c-format
 msgid "while trying to open %s"
 msgstr "mientras se intentaba abrir %s"
@@ -115,17 +115,17 @@ msgstr "mientras se intentaba abrir %s"
 msgid "while trying popen '%s'"
 msgstr "mientras se intentaba abrir una tubera a '%s'"
 
-#: e2fsck/badblocks.c:93 misc/mke2fs.c:180
+#: e2fsck/badblocks.c:93 misc/mke2fs.c:179
 msgid "while reading in list of bad blocks from file"
 msgstr "mientras se lea una lista de bloques daados desde un fichero"
 
-#: e2fsck/badblocks.c:104
+#: e2fsck/badblocks.c:103
 msgid "while updating bad block inode"
 msgstr "mientras se actualizaba el nodo-i que tiene un bloque daado"
 
 # Solemos traducir Warning por Atencin. sv
 # Ok, uniformizo. mm
-#: e2fsck/badblocks.c:130
+#: e2fsck/badblocks.c:129
 #, c-format
 msgid "Warning: illegal block %u found in bad block inode.  Cleared.\n"
 msgstr ""
@@ -503,7 +503,7 @@ msgstr "Error interno: no se puede encon
 msgid "internal error: couldn't lookup EA inode record for %u"
 msgstr "Error interno: no se puede encontrar el dir_info para %i.\n"
 
-#: e2fsck/pass1.c:404 e2fsck/pass2.c:770
+#: e2fsck/pass1.c:404 e2fsck/pass2.c:779
 #, fuzzy
 msgid "reading directory block"
 msgstr "leyendo bloques indirectos del nodo-i %u"
@@ -577,7 +577,7 @@ msgstr "mapa de bits del nodo-i"
 msgid "inode table"
 msgstr "tabla de nodos i"
 
-#: e2fsck/pass2.c:283
+#: e2fsck/pass2.c:292
 msgid "Pass 2"
 msgstr "Paso 2"
 
@@ -2537,7 +2537,7 @@ msgstr "%s: ficheros %d/%d (%0d.%d%% no 
 msgid "         # of inodes with ind/dind/tind blocks: %u/%u/%u\n"
 msgstr "         # de nodos i con bloques ind/dind/tind: %d/%d/%d\n"
 
-#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:941 misc/util.c:151
+#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:876 misc/util.c:151
 #: resize/main.c:237
 #, c-format
 msgid "while determining whether %s is mounted."
@@ -2689,7 +2689,7 @@ msgstr ""
 "Los sistemas con trasposicin de bytes no estn compilados en esta versin "
 "de e2fsck\n"
 
-#: e2fsck/unix.c:770 misc/tune2fs.c:504 misc/tune2fs.c:769 misc/tune2fs.c:786
+#: e2fsck/unix.c:770 misc/tune2fs.c:470 misc/tune2fs.c:735 misc/tune2fs.c:752
 #, c-format
 msgid "Unable to resolve '%s'"
 msgstr "No es posible resolver '%s'"
@@ -2721,39 +2721,39 @@ msgid ""
 "\n"
 msgstr ""
 
-#: e2fsck/unix.c:905
+#: e2fsck/unix.c:904
 #, c-format
 msgid "Error: ext2fs library version out of date!\n"
 msgstr "Error: la versin de la biblioteca ext2fs est caduca!\n"
 
-#: e2fsck/unix.c:913
+#: e2fsck/unix.c:912
 msgid "while trying to initialize program"
 msgstr "mientras se intentaba inicializar el programa"
 
-#: e2fsck/unix.c:927
+#: e2fsck/unix.c:926
 #, c-format
 msgid "\tUsing %s, %s\n"
 msgstr "\tAl emplear %s, %s\n"
 
-#: e2fsck/unix.c:939
+#: e2fsck/unix.c:938
 msgid "need terminal for interactive repairs"
 msgstr "se necesita una terminal para hacer las reparaciones interactivas"
 
-#: e2fsck/unix.c:983
+#: e2fsck/unix.c:978
 #, fuzzy, c-format
 msgid "%s: %s trying backup blocks...\n"
 msgstr "%s est intentando respaldar los bloques...\n"
 
-#: e2fsck/unix.c:985
+#: e2fsck/unix.c:980
 msgid "Superblock invalid,"
 msgstr ""
 
-#: e2fsck/unix.c:986
+#: e2fsck/unix.c:981
 msgid "Group descriptors look bad..."
 msgstr "Los descriptores de los grupos parecen daados..."
 
 # esta versin (el "esta" no necesita tilde).
-#: e2fsck/unix.c:1013
+#: e2fsck/unix.c:995
 #, c-format
 msgid ""
 "The filesystem revision is apparently too high for this version of e2fsck.\n"
@@ -2764,27 +2764,27 @@ msgstr ""
 "sta\n"
 "versin de e2fsck. (O el superbloque del sistema de archivos est daado)\n"
 
-#: e2fsck/unix.c:1019
+#: e2fsck/unix.c:1001
 #, c-format
 msgid "Could this be a zero-length partition?\n"
 msgstr "Esta podra ser una particin de longitud cero?\n"
 
-#: e2fsck/unix.c:1021
+#: e2fsck/unix.c:1003
 #, c-format
 msgid "You must have %s access to the filesystem or be root\n"
 msgstr "Se debe tener acceso %s al sistema de ficheros o ser root\n"
 
-#: e2fsck/unix.c:1026
+#: e2fsck/unix.c:1008
 #, c-format
 msgid "Possibly non-existent or swap device?\n"
 msgstr "Es posible que no exista o que sea un dispositivo de intercambio?\n"
 
-#: e2fsck/unix.c:1028
+#: e2fsck/unix.c:1010
 #, c-format
 msgid "Filesystem mounted or opened exclusively by another program?\n"
 msgstr ""
 
-#: e2fsck/unix.c:1032
+#: e2fsck/unix.c:1014
 #, c-format
 msgid ""
 "Disk write-protected; use the -n option to do a read-only\n"
@@ -2794,17 +2794,17 @@ msgstr ""
 "hacer una revisin de slo lectura al dispositivo.\n"
 
 # ms moderna.
-#: e2fsck/unix.c:1096
+#: e2fsck/unix.c:1078
 msgid "Get a newer version of e2fsck!"
 msgstr "Consiga una versin ms nueva de e2fsck!"
 
-#: e2fsck/unix.c:1117
+#: e2fsck/unix.c:1099
 #, c-format
 msgid "while checking ext3 journal for %s"
 msgstr "mientras se revisaba el fichero de transacciones ext3 para %s"
 
 # Atencin
-#: e2fsck/unix.c:1128
+#: e2fsck/unix.c:1110
 #, c-format
 msgid ""
 "Warning: skipping journal recovery because doing a read-only filesystem "
@@ -2813,27 +2813,22 @@ msgstr ""
 "Atencin: se omitir la recuperacin del fichero de transacciones debido a "
 "que se est haciendo una revisin de slo lectura del sistema de ficheros.\n"
 
-#: e2fsck/unix.c:1141
+#: e2fsck/unix.c:1123
 #, c-format
 msgid "unable to set superblock flags on %s\n"
 msgstr "no es posible poner las banderas de superbloque en %s\n"
 
-#: e2fsck/unix.c:1147
+#: e2fsck/unix.c:1129
 #, c-format
 msgid "while recovering ext3 journal of %s"
 msgstr "mientras se recuperaba el fichero de transacciones ext3 de %s"
 
-#: e2fsck/unix.c:1171
-#, fuzzy, c-format
-msgid "%s has unsupported feature(s):"
-msgstr "El @h %i tiene una versin de hash no implementada (%N)\n"
-
 # Atencin
-#: e2fsck/unix.c:1187
+#: e2fsck/unix.c:1158
 msgid "Warning: compression support is experimental.\n"
 msgstr "Atencin: el soporte a la compresin es experimental.\n"
 
-#: e2fsck/unix.c:1192
+#: e2fsck/unix.c:1163
 #, c-format
 msgid ""
 "E2fsck not compiled with HTREE support,\n"
@@ -2842,30 +2837,30 @@ msgstr ""
 "E2fsck no est compilado con soporte a RBOLES-H,\n"
 "\tpero el sistema de ficheros %s tiene directorios con RBOLES-H.\n"
 
-#: e2fsck/unix.c:1241
+#: e2fsck/unix.c:1212
 #, c-format
 msgid "%s: Filesystem byte order already normalized.\n"
 msgstr "%s: el orden de los bytes del sistema de ficheros ya se normaliz.\n"
 
-#: e2fsck/unix.c:1261
+#: e2fsck/unix.c:1232
 msgid "while reading bad blocks inode"
 msgstr "mientras se lean los bloques daados del nodo-i"
 
-#: e2fsck/unix.c:1263
+#: e2fsck/unix.c:1234
 #, c-format
 msgid "This doesn't bode well, but we'll try to go on...\n"
 msgstr "Esto no se se ve muy bien, pero se intentar continuar...\n"
 
-#: e2fsck/unix.c:1289
+#: e2fsck/unix.c:1260
 msgid "Couldn't determine journal size"
 msgstr ""
 
-#: e2fsck/unix.c:1292 misc/mke2fs.c:1776
+#: e2fsck/unix.c:1263 misc/mke2fs.c:1744
 #, c-format
 msgid "Creating journal (%d blocks): "
 msgstr "Creando el fichero de transacciones (%d bloques): "
 
-#: e2fsck/unix.c:1299 misc/mke2fs.c:1784
+#: e2fsck/unix.c:1270 misc/mke2fs.c:1752
 msgid ""
 "\n"
 "\twhile trying to create journal"
@@ -2873,37 +2868,37 @@ msgstr ""
 "\n"
 "\tmientras se intentaba crear el fichero de transacciones"
 
-#: e2fsck/unix.c:1302
+#: e2fsck/unix.c:1273
 #, fuzzy, c-format
 msgid " Done.\n"
 msgstr "hecho\n"
 
-#: e2fsck/unix.c:1303
+#: e2fsck/unix.c:1274
 #, c-format
 msgid ""
 "\n"
 "*** journal has been re-created - filesystem is now ext3 again ***\n"
 msgstr ""
 
-#: e2fsck/unix.c:1310
+#: e2fsck/unix.c:1281
 #, c-format
 msgid "Restarting e2fsck from the beginning...\n"
 msgstr "Se reinicia e2fsck desde el principio...\n"
 
-#: e2fsck/unix.c:1314
+#: e2fsck/unix.c:1285
 msgid "while resetting context"
 msgstr "mientras se reajusta el contexto"
 
-#: e2fsck/unix.c:1321
+#: e2fsck/unix.c:1292
 #, c-format
 msgid "%s: e2fsck canceled.\n"
 msgstr "%s: se cancela e2fsck.\n"
 
-#: e2fsck/unix.c:1326
+#: e2fsck/unix.c:1297
 msgid "aborted"
 msgstr "finalizado"
 
-#: e2fsck/unix.c:1338
+#: e2fsck/unix.c:1309
 #, c-format
 msgid ""
 "\n"
@@ -2912,13 +2907,13 @@ msgstr ""
 "\n"
 "%s: ***** EL SISTEMA DE FICHEROS FUE MODIFICADO *****\n"
 
-#: e2fsck/unix.c:1341
+#: e2fsck/unix.c:1312
 #, c-format
 msgid "%s: ***** REBOOT LINUX *****\n"
 msgstr "%s: ***** REINICIE LINUX *****\n"
 
 # ATENCIN
-#: e2fsck/unix.c:1349
+#: e2fsck/unix.c:1320
 #, c-format
 msgid ""
 "\n"
@@ -3229,7 +3224,7 @@ msgstr ""
 msgid "while trying to determine device size"
 msgstr "mientras se intentaba determinar el tamao del dispositivo"
 
-#: misc/badblocks.c:996 misc/mke2fs.c:1255
+#: misc/badblocks.c:996 misc/mke2fs.c:1223
 #, c-format
 msgid "invalid blocks count - %s"
 msgstr "cuenta de bloques no vlida - %s"
@@ -3402,7 +3397,7 @@ msgstr "mientras se imprima la lista de
 msgid "Bad blocks: %u"
 msgstr "Bloques daados: %d"
 
-#: misc/dumpe2fs.c:274 misc/tune2fs.c:261
+#: misc/dumpe2fs.c:274 misc/tune2fs.c:243
 msgid "while reading journal inode"
 msgstr "mientras se lea el nodo-i del fichero de transacciones"
 
@@ -3411,7 +3406,7 @@ msgstr "mientras se lea el nodo-i del f
 msgid "Journal size:             "
 msgstr "Usuarios del fichero de transacciones:           %s\n"
 
-#: misc/dumpe2fs.c:296 misc/tune2fs.c:183
+#: misc/dumpe2fs.c:296 misc/tune2fs.c:165
 msgid "while reading journal superblock"
 msgstr "mientras se lea el superbloque del fichero de transacciones"
 
@@ -3445,63 +3440,23 @@ msgstr ""
 msgid "Journal users:            %s\n"
 msgstr "Usuarios del fichero de transacciones:           %s\n"
 
-#: misc/dumpe2fs.c:337 misc/mke2fs.c:768 misc/tune2fs.c:810
-#, c-format
-msgid "Couldn't allocate memory to parse options!\n"
-msgstr ""
-"No se puede reservar memoria para analizar sintcticamente las opciones!\n"
-
-#: misc/dumpe2fs.c:363
-#, fuzzy, c-format
-msgid "Invalid superblock parameter: %s\n"
-msgstr "Parmetro de zancada no vlido: %s\n"
-
-#: misc/dumpe2fs.c:378
-#, fuzzy, c-format
-msgid "Invalid blocksize parameter: %s\n"
-msgstr "Parmetro de variacin de tamao no vlido: %s\n"
-
-#: misc/dumpe2fs.c:389
-#, fuzzy, c-format
-msgid ""
-"\n"
-"Bad extended option(s) specified: %s\n"
-"\n"
-"Extended options are separated by commas, and may take an argument which\n"
-"\tis set off by an equals ('=') sign.\n"
-"\n"
-"Valid extended options are:\n"
-"\tsuperblock=<superblock number>\n"
-"\tblocksize=<blocksize>\n"
-msgstr ""
-"\n"
-"Las opciones especificadas son incorrectas.\n"
-"\n"
-"Las opciones extendidas deben estar separadas por comas, y pueden tomar un\n"
-"\targumento que se ajusta con un signo de igual ('=').\n"
-"\n"
-"Las opciones extendidas vlidas son:\n"
-"\tstride=<longitud de la zancada en bloques>\n"
-"\tresize=<mximo de variacin de tamao en bloques>\n"
-"\n"
-
-#: misc/dumpe2fs.c:449 misc/mke2fs.c:1199
+#: misc/dumpe2fs.c:376 misc/mke2fs.c:1167
 #, c-format
 msgid "\tUsing %s\n"
 msgstr "\tSe emplea %s\n"
 
-#: misc/dumpe2fs.c:485 misc/e2image.c:666 misc/tune2fs.c:919 resize/main.c:298
+#: misc/dumpe2fs.c:402 misc/e2image.c:666 misc/tune2fs.c:854 resize/main.c:298
 #, c-format
 msgid "Couldn't find valid filesystem superblock.\n"
 msgstr ""
 "No se pudo encontrar un superbloque vlido para el sistema de ficheros.\n"
 
-#: misc/dumpe2fs.c:496
+#: misc/dumpe2fs.c:413
 #, c-format
 msgid "Note: This is a byte-swapped filesystem\n"
 msgstr "Nota: este es un sistema de archivos con trasposicin de bytes\n"
 
-#: misc/dumpe2fs.c:515
+#: misc/dumpe2fs.c:432
 #, c-format
 msgid ""
 "\n"
@@ -3560,7 +3515,7 @@ msgstr "e2label: error leyendo el superb
 msgid "e2label: not an ext2 filesystem\n"
 msgstr "e2label: no es un sistema de ficheros ext2\n"
 
-#: misc/e2label.c:96 misc/tune2fs.c:1025
+#: misc/e2label.c:96 misc/tune2fs.c:970
 #, c-format
 msgid "Warning: label too long, truncating.\n"
 msgstr "Atencin: la etiqueta es muy larga, se trunca.\n"
@@ -3575,7 +3530,7 @@ msgstr "e2label: de nuevo, no se puede e
 msgid "e2label: error writing superblock\n"
 msgstr "e2label: error al escribir el superbloque\n"
 
-#: misc/e2label.c:116 misc/tune2fs.c:496
+#: misc/e2label.c:116 misc/tune2fs.c:462
 #, c-format
 msgid "Usage: e2label device [newlabel]\n"
 msgstr "Modo de empleo: e2label dispositivo [nuevabandera]\n"
@@ -3666,25 +3621,24 @@ msgstr "fsck: no se puede verificar %s: 
 msgid "Checking all file systems.\n"
 msgstr "Revisando todos los sistemas de ficheros.\n"
 
-#: misc/fsck.c:1046
+#: misc/fsck.c:1041
 #, c-format
 msgid "--waiting-- (pass %d)\n"
 msgstr "--esperando-- (paso %d)\n"
 
-#: misc/fsck.c:1066
-#, fuzzy
+#: misc/fsck.c:1061
 msgid ""
-"Usage: fsck [-AMNPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
+"Usage: fsck [-ANPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
 msgstr ""
 "Modo de empleo: fsck [-ANPRTV] [ -C [ fd ] ] [-t tipodefs] [opciones-fs] "
 "[sistficheros ...]\n"
 
-#: misc/fsck.c:1108
+#: misc/fsck.c:1103
 #, c-format
 msgid "%s: too many devices\n"
 msgstr "%s: demasiados dispositivos\n"
 
-#: misc/fsck.c:1141 misc/fsck.c:1227
+#: misc/fsck.c:1136 misc/fsck.c:1222
 #, c-format
 msgid "%s: too many arguments\n"
 msgstr "%s: demasiados argumentos\n"
@@ -3707,12 +3661,12 @@ msgstr "Mientras se lea la versin en %
 #: misc/mke2fs.c:97
 #, fuzzy, c-format
 msgid ""
-"Usage: %s [-c|-l filename] [-b block-size] [-f fragment-size]\n"
-"\t[-i bytes-per-inode] [-I inode-size] [-J journal-options]\n"
+"Usage: %s [-c|-t|-l filename] [-b block-size] [-f fragment-size]\n"
+"\t[-i bytes-per-inode] [-I inode-size] [-j] [-J journal-options]\n"
 "\t[-N number-of-inodes] [-m reserved-blocks-percentage] [-o creator-os]\n"
 "\t[-g blocks-per-group] [-L volume-label] [-M last-mounted-directory]\n"
-"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]]\n"
-"\t[-T fs-type] [-jnqvFSV] device [blocks-count]\n"
+"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]] [-qvSV]\n"
+"\tdevice [blocks-count]\n"
 msgstr ""
 "Modo de empleo: %s [-c|-t|-l nombredelfichero] [-b tamao-del-bloque]\n"
 "\t[-f tamao-del fragmento] [-i bytes-por-nodo-i] [-j] \n"
@@ -3725,39 +3679,39 @@ msgstr ""
 
 # orden
 # ok. mm
-#: misc/mke2fs.c:198
+#: misc/mke2fs.c:197
 #, c-format
 msgid "Running command: %s\n"
 msgstr "Ejecutando orden: %s\n"
 
-#: misc/mke2fs.c:202
+#: misc/mke2fs.c:201
 #, c-format
 msgid "while trying to run '%s'"
 msgstr "mientras se intentaba ejecutar '%s'"
 
-#: misc/mke2fs.c:209
+#: misc/mke2fs.c:208
 msgid "while processing list of bad blocks from program"
 msgstr "mientras se procesaba la lista de bloques daados del programa"
 
-#: misc/mke2fs.c:236
+#: misc/mke2fs.c:235
 #, c-format
 msgid "Block %d in primary superblock/group descriptor area bad.\n"
 msgstr ""
 "El bloque %d en el rea del descriptor primario del superbloque/grupo est "
 "daado.\n"
 
-#: misc/mke2fs.c:238
+#: misc/mke2fs.c:237
 #, fuzzy, c-format
 msgid "Blocks %u through %u must be good in order to build a filesystem.\n"
 msgstr ""
 "Los bloques del %d al %d deben estar correctos para poder construir un "
 "sistema de ficheros.\n"
 
-#: misc/mke2fs.c:241
+#: misc/mke2fs.c:240
 msgid "Aborting....\n"
 msgstr "Finalizando...\n"
 
-#: misc/mke2fs.c:261
+#: misc/mke2fs.c:260
 #, fuzzy, c-format
 msgid ""
 "Warning: the backup superblock/group descriptors at block %u contain\n"
@@ -3769,15 +3723,15 @@ msgstr ""
 "\tcontienen bloques daados.\n"
 "\n"
 
-#: misc/mke2fs.c:279
+#: misc/mke2fs.c:278
 msgid "while marking bad blocks as used"
 msgstr "mientras se marcaban los bloques daados como utilizados"
 
-#: misc/mke2fs.c:337
+#: misc/mke2fs.c:336
 msgid "done                            \n"
 msgstr "se finaliza                                 \n"
 
-#: misc/mke2fs.c:372
+#: misc/mke2fs.c:371
 msgid "while allocating zeroizing buffer"
 msgstr "mientras se reservaba el bfer relleno con ceros"
 
@@ -3786,11 +3740,11 @@ msgstr "mientras se reservaba el bfer r
 # esto otro". Dice simplemente lo que est haciendo.
 # -> Escribiendo las tablas [...]
 # Ok. mm
-#: misc/mke2fs.c:414
+#: misc/mke2fs.c:413
 msgid "Writing inode tables: "
 msgstr "Escribiendo las tablas de nodos-i: "
 
-#: misc/mke2fs.c:431
+#: misc/mke2fs.c:430
 #, fuzzy, c-format
 msgid ""
 "\n"
@@ -3800,69 +3754,69 @@ msgstr ""
 "No se pueden escribir %d bloques en la tabla de nodos i al principio de %d: %"
 "s\n"
 
-#: misc/mke2fs.c:487
+#: misc/mke2fs.c:486
 msgid "while creating root dir"
 msgstr "mientras se creaba el directorio raz"
 
-#: misc/mke2fs.c:494
+#: misc/mke2fs.c:493
 msgid "while reading root inode"
 msgstr "mientras se lea el nodo-i raz"
 
-#: misc/mke2fs.c:508
+#: misc/mke2fs.c:507
 msgid "while setting root inode ownership"
 msgstr "mientras se ponan los permisos del dueo del nodo-i raz"
 
-#: misc/mke2fs.c:526
+#: misc/mke2fs.c:525
 msgid "while creating /lost+found"
 msgstr "mientras se creaba /lost+found"
 
-#: misc/mke2fs.c:533
+#: misc/mke2fs.c:532
 msgid "while looking up /lost+found"
 msgstr "mientras se revisaba /lost+found"
 
-#: misc/mke2fs.c:543
+#: misc/mke2fs.c:542
 msgid "while expanding /lost+found"
 msgstr "mientras se expanda /lost+found"
 
-#: misc/mke2fs.c:559
+#: misc/mke2fs.c:558
 msgid "while setting bad block inode"
 msgstr "mientras se pona el nodo-i de bloques daados"
 
-#: misc/mke2fs.c:591
+#: misc/mke2fs.c:590
 #, c-format
 msgid "Out of memory erasing sectors %d-%d\n"
 msgstr "Se agot la memoria cuando se borraban los sectores %d-%d\n"
 
-#: misc/mke2fs.c:601
+#: misc/mke2fs.c:600
 #, c-format
 msgid "Warning: could not read block 0: %s\n"
 msgstr "Atencin: no se puede leer el bloque 0: %s\n"
 
-#: misc/mke2fs.c:617
+#: misc/mke2fs.c:616
 #, c-format
 msgid "Warning: could not erase sector %d: %s\n"
 msgstr "Atencin: no se puede borrar el sector %d: %s\n"
 
-#: misc/mke2fs.c:633
+#: misc/mke2fs.c:632
 msgid "while initializing journal superblock"
 msgstr "mientras se inicializaba el superbloque del fichero de transacciones"
 
-#: misc/mke2fs.c:639
+#: misc/mke2fs.c:638
 msgid "Zeroing journal device: "
 msgstr "Se rellena con ceros el fichero de transacciones del dispositivo"
 
-#: misc/mke2fs.c:646
+#: misc/mke2fs.c:645
 #, c-format
 msgid "while zeroing journal device (block %u, count %d)"
 msgstr ""
 "mientras se inicializaba con ceros el fichero de transacciones del "
 "dispositivo (bloque %u, cuenta %d)"
 
-#: misc/mke2fs.c:657
+#: misc/mke2fs.c:656
 msgid "while writing journal superblock"
 msgstr "mientras se escriba el superbloque del fichero de transacciones"
 
-#: misc/mke2fs.c:673
+#: misc/mke2fs.c:672
 #, fuzzy, c-format
 msgid ""
 "warning: %u blocks unused.\n"
@@ -3871,115 +3825,114 @@ msgstr ""
 "cuidado: hay %d bloques sin usar.\n"
 "\n"
 
-#: misc/mke2fs.c:678
+#: misc/mke2fs.c:677
 #, c-format
 msgid "Filesystem label=%s\n"
 msgstr "Etiqueta del sistema de ficheros=%s\n"
 
-#: misc/mke2fs.c:679
+#: misc/mke2fs.c:678
 msgid "OS type: "
 msgstr "Tipo de SO: "
 
-#: misc/mke2fs.c:684
+#: misc/mke2fs.c:683
 #, c-format
 msgid "Block size=%u (log=%u)\n"
 msgstr "Tamao del bloque=%u (bitcora=%u)\n"
 
-#: misc/mke2fs.c:686
+#: misc/mke2fs.c:685
 #, c-format
 msgid "Fragment size=%u (log=%u)\n"
 msgstr "Tamao del fragmento=%u (bitcora=%u)\n"
 
-#: misc/mke2fs.c:688
+#: misc/mke2fs.c:687
 #, c-format
 msgid "%u inodes, %u blocks\n"
 msgstr "%u nodos i, %u bloques\n"
 
 # superusuario
 # ok. mm
-#: misc/mke2fs.c:690
+#: misc/mke2fs.c:689
 #, c-format
 msgid "%u blocks (%2.2f%%) reserved for the super user\n"
 msgstr "%u bloques (%2.2f%%) reservados para el superusuario\n"
 
-#: misc/mke2fs.c:693
+#: misc/mke2fs.c:692
 #, c-format
 msgid "First data block=%u\n"
 msgstr "Primer bloque de datos=%u\n"
 
-#: misc/mke2fs.c:695
+#: misc/mke2fs.c:694
 #, c-format
 msgid "Maximum filesystem blocks=%lu\n"
 msgstr "Mximo de bloques del sistema de ficheros=%lu\n"
 
-#: misc/mke2fs.c:700
+#: misc/mke2fs.c:699
 #, c-format
 msgid "%u block groups\n"
 msgstr "%u bloque de grupos\n"
 
-#: misc/mke2fs.c:702
+#: misc/mke2fs.c:701
 #, c-format
 msgid "%u block group\n"
 msgstr "%u bloque de grupo\n"
 
-#: misc/mke2fs.c:703
+#: misc/mke2fs.c:702
 #, c-format
 msgid "%u blocks per group, %u fragments per group\n"
 msgstr "%u bloques por grupo, %u fragmentos por grupo\n"
 
-#: misc/mke2fs.c:705
+#: misc/mke2fs.c:704
 #, c-format
 msgid "%u inodes per group\n"
 msgstr "%u nodos i por grupo\n"
 
-#: misc/mke2fs.c:712
+#: misc/mke2fs.c:711
 #, c-format
 msgid "Superblock backups stored on blocks: "
 msgstr "Respaldo del superbloque guardado en los bloques: "
 
-#: misc/mke2fs.c:793
+#: misc/mke2fs.c:767 misc/tune2fs.c:776
 #, c-format
-msgid "Invalid stride parameter: %s\n"
-msgstr "Parmetro de zancada no vlido: %s\n"
+msgid "Couldn't allocate memory to parse options!\n"
+msgstr ""
+"No se puede reservar memoria para analizar sintcticamente las opciones!\n"
 
-#: misc/mke2fs.c:808
-#, fuzzy, c-format
-msgid "Invalid stripe-width parameter: %s\n"
+#: misc/mke2fs.c:791
+#, c-format
+msgid "Invalid stride parameter: %s\n"
 msgstr "Parmetro de zancada no vlido: %s\n"
 
-#: misc/mke2fs.c:830
+#: misc/mke2fs.c:812
 #, c-format
 msgid "Invalid resize parameter: %s\n"
 msgstr "Parmetro de variacin de tamao no vlido: %s\n"
 
-#: misc/mke2fs.c:837
+#: misc/mke2fs.c:819
 #, c-format
 msgid "The resize maximum must be greater than the filesystem size.\n"
 msgstr ""
 "El mximo de la variacin de tamao debe ser mayor que el tamao del sistema "
 "de ficheros.\n"
 
-#: misc/mke2fs.c:861
+#: misc/mke2fs.c:843
 #, fuzzy, c-format
 msgid "On-line resizing not supported with revision 0 filesystems\n"
 msgstr ""
 "el cambio de tamao en lnea de los bloques reservados no est implementado "
 "para los sistemas de ficheros que no estn esparcidos"
 
-#: misc/mke2fs.c:878
+#: misc/mke2fs.c:858
 #, fuzzy, c-format
 msgid ""
 "\n"
-"Bad option(s) specified: %s\n"
+"Bad options specified.\n"
 "\n"
 "Extended options are separated by commas, and may take an argument which\n"
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk data chunk in blocks>\n"
-"\tstripe-width=<RAID stride * data disks in blocks>\n"
+"\tstride=<stride length in blocks>\n"
 "\tresize=<resize maximum size in blocks>\n"
-"\n"
 "\ttest_fs\n"
 msgstr ""
 "\n"
@@ -3993,104 +3946,96 @@ msgstr ""
 "\tresize=<mximo de variacin de tamao en bloques>\n"
 "\n"
 
-#: misc/mke2fs.c:893
-#, c-format
-msgid ""
-"\n"
-"Warning: RAID stripe-width %u not an even multiple of stride %u.\n"
-"\n"
-msgstr ""
-
-#: misc/mke2fs.c:920
+#: misc/mke2fs.c:888
 #, c-format
 msgid ""
 "Syntax error in mke2fs config file (%s, line #%d)\n"
 "\t%s\n"
 msgstr ""
 
-#: misc/mke2fs.c:933 misc/tune2fs.c:335
+#: misc/mke2fs.c:901 misc/tune2fs.c:314
 #, c-format
 msgid "Invalid filesystem option set: %s\n"
 msgstr "Se puso una opcin no vlida para el sistema de ficheros: %s\n"
 
-#: misc/mke2fs.c:1040
+#: misc/mke2fs.c:1008
 #, c-format
 msgid "invalid block size - %s"
 msgstr "tamao del bloque invlido - %s"
 
-#: misc/mke2fs.c:1044
+#: misc/mke2fs.c:1012
 #, c-format
 msgid "Warning: blocksize %d not usable on most systems.\n"
 msgstr ""
 "Atencin: el tamao del bloque %d no se puede utilizar en muchos sistemas.\n"
 
-#: misc/mke2fs.c:1061
+#: misc/mke2fs.c:1029
 #, c-format
 msgid "invalid fragment size - %s"
 msgstr "Tamao del fragmento invlido - %s"
 
-#: misc/mke2fs.c:1067
+#: misc/mke2fs.c:1035
 #, c-format
 msgid "Warning: fragments not supported.  Ignoring -f option\n"
 msgstr ""
 "Atencin: no estn implementados los fragmentos. Se descarta la opcin -f\n"
 
-#: misc/mke2fs.c:1074
+#: misc/mke2fs.c:1042
 msgid "Illegal number for blocks per group"
 msgstr "Nmero ilegal de bloques por grupo"
 
-#: misc/mke2fs.c:1079
+#: misc/mke2fs.c:1047
 msgid "blocks per group must be multiple of 8"
 msgstr "los bloques por grupo deben ser un mltiplo de 8"
 
-#: misc/mke2fs.c:1089
+#: misc/mke2fs.c:1057
 #, c-format
 msgid "invalid inode ratio %s (min %d/max %d)"
 msgstr "proporcin de nodos-i invlida %s (min %d/max %d)"
 
-#: misc/mke2fs.c:1106
+#: misc/mke2fs.c:1074
 msgid "in malloc for bad_blocks_filename"
 msgstr "en malloc para fichero_de_bloques_daados"
 
-#: misc/mke2fs.c:1115
+#: misc/mke2fs.c:1083
 #, c-format
 msgid "invalid reserved blocks percent - %s"
 msgstr "el porcentaje de bloques reservados es invlido - %s"
 
-#: misc/mke2fs.c:1133
+#: misc/mke2fs.c:1101
 #, fuzzy, c-format
 msgid "bad revision level - %s"
 msgstr "versin incorrecta - %s\n"
 
-#: misc/mke2fs.c:1145
+#: misc/mke2fs.c:1113
 #, c-format
 msgid "invalid inode size - %s"
 msgstr "tamao de los nodos-i invlido - %s"
 
-#: misc/mke2fs.c:1165
+#: misc/mke2fs.c:1133
 #, fuzzy, c-format
 msgid "bad num inodes - %s"
 msgstr "tamao de los nodos-i invlido - %s"
 
-#: misc/mke2fs.c:1223 misc/mke2fs.c:1745
+#: misc/mke2fs.c:1191 misc/mke2fs.c:1713
 #, c-format
 msgid "while trying to open journal device %s\n"
 msgstr ""
 "mientras se intentaba abrir el fichero de transacciones del dispositivo %s\n"
 
-#: misc/mke2fs.c:1229
+#: misc/mke2fs.c:1197
 #, c-format
 msgid "Journal dev blocksize (%d) smaller than minimum blocksize %d\n"
 msgstr ""
 "El tamao del bloque del dispositivo del fichero de transacciones (%d) es\n"
 "menor que el tamao del bloque mnimo %d\n"
 
-#: misc/mke2fs.c:1243
+#: misc/mke2fs.c:1211
 #, c-format
 msgid "%d-byte blocks too big for system (max %d)"
 msgstr "los bloques de %d-bytes son muy grandes para el sistema (mx %d)"
 
-#: misc/mke2fs.c:1247
+#: misc/mke2fs.c:1215
 #, c-format
 msgid ""
 "Warning: %d-byte blocks too big for system (max %d), forced to continue\n"
@@ -4098,15 +4043,15 @@ msgstr ""
 "Atencin: los bloques de %d-bytes son muy grandes para el sistema \n"
 "(mx %d), se hace un esfuerzo para continuar\n"
 
-#: misc/mke2fs.c:1265
+#: misc/mke2fs.c:1233
 msgid "filesystem"
 msgstr "sistema de ficheros"
 
-#: misc/mke2fs.c:1288 resize/main.c:332
+#: misc/mke2fs.c:1256 resize/main.c:332
 msgid "while trying to determine filesystem size"
 msgstr "mientras se intentaba determinar el tamao del sistema de ficheros"
 
-#: misc/mke2fs.c:1294
+#: misc/mke2fs.c:1262
 msgid ""
 "Couldn't determine device size; you must specify\n"
 "the size of the filesystem\n"
@@ -4116,7 +4061,7 @@ msgstr ""
 
 # tabla de particiones
 # Ok. mm
-#: misc/mke2fs.c:1301
+#: misc/mke2fs.c:1269
 msgid ""
 "Device size reported to be zero.  Invalid partition specified, or\n"
 "\tpartition table wasn't reread after running fdisk, due to\n"
@@ -4129,24 +4074,24 @@ msgstr ""
 "\tparticin modificada est ocupada o en uso.  Es necesario reiniciar\n"
 "\tpara poder releer la tabla de particiones.\n"
 
-#: misc/mke2fs.c:1319
+#: misc/mke2fs.c:1287
 msgid "Filesystem larger than apparent device size."
 msgstr ""
 "El sistema de ficheros es ms grande que el tamao aparente del dispositivo."
 
-#: misc/mke2fs.c:1367
+#: misc/mke2fs.c:1335
 #, c-format
 msgid "Filesystem features not supported with revision 0 filesystems\n"
 msgstr ""
 
-#: misc/mke2fs.c:1374
+#: misc/mke2fs.c:1342
 #, fuzzy, c-format
 msgid "Sparse superblocks not supported with revision 0 filesystems\n"
 msgstr ""
 "el cambio de tamao en lnea de los bloques reservados no est implementado "
 "para los sistemas de ficheros que no estn esparcidos"
 
-#: misc/mke2fs.c:1386
+#: misc/mke2fs.c:1354
 #, fuzzy, c-format
 msgid "Journals not supported with revision 0 filesystems\n"
 msgstr ""
@@ -4154,27 +4099,27 @@ msgstr ""
 "El tamao del fichero de transacciones es muy grande para el sistema de "
 "ficheros.\n"
 
-#: misc/mke2fs.c:1412
+#: misc/mke2fs.c:1380
 msgid "while trying to determine hardware sector size"
 msgstr "mientras se intentaba determinar el tamao del sector por hardware"
 
-#: misc/mke2fs.c:1464
+#: misc/mke2fs.c:1432
 msgid "reserved online resize blocks not supported on non-sparse filesystem"
 msgstr ""
 "el cambio de tamao en lnea de los bloques reservados no est implementado "
 "para los sistemas de ficheros que no estn esparcidos"
 
-#: misc/mke2fs.c:1473
+#: misc/mke2fs.c:1441
 msgid "blocks per group count out of range"
 msgstr "la cuenta de bloques por grupo est fuera del intervalo"
 
-#: misc/mke2fs.c:1480
+#: misc/mke2fs.c:1448
 msgid ""
 "Filesystem too large.  No more than 2**31-1 blocks\n"
 "\t (8TB using a blocksize of 4k) are currently supported."
 msgstr ""
 
-#: misc/mke2fs.c:1487
+#: misc/mke2fs.c:1455
 #, c-format
 msgid ""
 "\n"
@@ -4187,28 +4132,28 @@ msgstr ""
 "a 4096 con ext3.  Utilice -b 4096 si esto es un problema para usted.\n"
 "\n"
 
-#: misc/mke2fs.c:1504
+#: misc/mke2fs.c:1472
 #, c-format
 msgid "invalid inode size %d (min %d/max %d)"
 msgstr "tamao incorrecto del nodo-i %d (mn %d/mx %d)"
 
-#: misc/mke2fs.c:1510
+#: misc/mke2fs.c:1478
 #, fuzzy, c-format
 msgid "Warning: %d-byte inodes not usable on older systems\n"
 msgstr ""
 "Atencin: los nodos i de %d-bytes no se pueden utilizar en muchos sistemas\n"
 
-#: misc/mke2fs.c:1522
+#: misc/mke2fs.c:1490
 #, c-format
 msgid "too many inodes (%llu), raise inode ratio?"
 msgstr ""
 
-#: misc/mke2fs.c:1527
+#: misc/mke2fs.c:1495
 #, c-format
 msgid "too many inodes (%llu), specify < 2^32 inodes"
 msgstr ""
 
-#: misc/mke2fs.c:1542
+#: misc/mke2fs.c:1510
 #, c-format
 msgid ""
 "inode_size (%u) * inodes_count (%u) too big for a\n"
@@ -4216,39 +4161,39 @@ msgid ""
 "\tor lower inode count (-N).\n"
 msgstr ""
 
-#: misc/mke2fs.c:1591
+#: misc/mke2fs.c:1559
 msgid "while setting up superblock"
 msgstr "mientras se ajustaba el superbloque"
 
-#: misc/mke2fs.c:1628
+#: misc/mke2fs.c:1596
 #, c-format
 msgid "unknown os - %s"
 msgstr "sistema operativo desconocido - %s"
 
-#: misc/mke2fs.c:1682
+#: misc/mke2fs.c:1650
 msgid "while trying to allocate filesystem tables"
 msgstr "mientras se intentaba reservar las tablas del sistema de ficheros"
 
-#: misc/mke2fs.c:1713
+#: misc/mke2fs.c:1681
 #, c-format
 msgid "while zeroing block %u at end of filesystem"
 msgstr ""
 "mientras se inicializaba a cero el bloque %u al final del sistema de ficheros"
 
-#: misc/mke2fs.c:1727
+#: misc/mke2fs.c:1695
 msgid "while reserving blocks for online resize"
 msgstr "mientras se reservaban los bloques para el cambio de tamao en lnea"
 
-#: misc/mke2fs.c:1738 misc/tune2fs.c:433
+#: misc/mke2fs.c:1706 misc/tune2fs.c:399
 msgid "journal"
 msgstr "fichero de transacciones"
 
-#: misc/mke2fs.c:1750
+#: misc/mke2fs.c:1718
 #, c-format
 msgid "Adding journal to device %s: "
 msgstr "Aadiendo el fichero de transacciones al dispositivo %s: "
 
-#: misc/mke2fs.c:1757
+#: misc/mke2fs.c:1725
 #, c-format
 msgid ""
 "\n"
@@ -4257,18 +4202,18 @@ msgstr ""
 "\n"
 "\tmientras se intentaba aadir el fichero de transacciones al dispositivo %s"
 
-#: misc/mke2fs.c:1762 misc/mke2fs.c:1788 misc/tune2fs.c:461 misc/tune2fs.c:475
+#: misc/mke2fs.c:1730 misc/mke2fs.c:1756 misc/tune2fs.c:427 misc/tune2fs.c:441
 #, c-format
 msgid "done\n"
 msgstr "hecho\n"
 
-#: misc/mke2fs.c:1793
+#: misc/mke2fs.c:1761
 #, c-format
 msgid "Writing superblocks and filesystem accounting information: "
 msgstr ""
 "Escribiendo superbloques y la informacin contable del sistema de ficheros: "
 
-#: misc/mke2fs.c:1798
+#: misc/mke2fs.c:1766
 #, c-format
 msgid ""
 "\n"
@@ -4277,7 +4222,7 @@ msgstr ""
 "\n"
 "Atencin, se tuvo un problema al escribir los superbloques."
 
-#: misc/mke2fs.c:1801
+#: misc/mke2fs.c:1769
 #, c-format
 msgid ""
 "done\n"
@@ -4291,17 +4236,18 @@ msgstr ""
 msgid "Usage: mklost+found\n"
 msgstr "Modo de empleo: mklost+found\n"
 
-#: misc/tune2fs.c:91
+#: misc/tune2fs.c:89
 msgid "Please run e2fsck on the filesystem.\n"
 msgstr "Por favor ejecute e2fsck sobre el sistema de ficheros.\n"
 
-#: misc/tune2fs.c:98
+#: misc/tune2fs.c:96
 #, fuzzy, c-format
 msgid ""
 "Usage: %s [-c max_mounts_count] [-e errors_behavior] [-g group]\n"
-"\t[-i interval[d|m|w]] [-j] [-J journal_options] [-l]\n"
-"\t[-m reserved_blocks_percent] [-o [^]mount_options[,...]] \n"
-"\t[-r reserved_blocks_count] [-u user] [-C mount_count] [-L volume_label]\n"
+"\t[-i interval[d|m|w]] [-j] [-J journal_options]\n"
+"\t[-l] [-s sparse_flag] [-m reserved_blocks_percent]\n"
+"\t[-o [^]mount_options[,...]] [-r reserved_blocks_count]\n"
+"\t[-u user] [-C mount_count] [-L volume_label]\n"
 "\t[-M last_mounted_dir] [-O [^]feature[,...]]\n"
 "\t[-E extended-option[,...]] [-T last_check_time] [-U UUID] device\n"
 msgstr ""
@@ -4314,61 +4260,51 @@ msgstr ""
 "\t[-M ltimo-directorio-montado] [-O [^]caracterstica[,...]]\n"
 "\t[-T ltima-fecha-de-revisn] [-U UUID] dispositivo\n"
 
-#: misc/tune2fs.c:171
+#: misc/tune2fs.c:153
 msgid "while trying to open external journal"
 msgstr "mientras se intentaba abrir el fichero de transacciones externo"
 
-#: misc/tune2fs.c:175
+#: misc/tune2fs.c:157
 #, c-format
 msgid "%s is not a journal device.\n"
 msgstr "%s no es un dispositivo con fichero de transacciones.\n"
 
-#: misc/tune2fs.c:190
+#: misc/tune2fs.c:172
 msgid "Journal superblock not found!\n"
 msgstr "No se encontr el superbloque del fichero de transacciones!\n"
 
-#: misc/tune2fs.c:202
+#: misc/tune2fs.c:184
 msgid "Filesystem's UUID not found on journal device.\n"
 msgstr ""
 "No se encontr el UUID del sistema de ficheros en el fichero de\n"
 "transacciones del dispositivo.\n"
 
-#: misc/tune2fs.c:223
+#: misc/tune2fs.c:205
 msgid "Journal NOT removed\n"
 msgstr "NO se ha eliminado el fichero de transacciones\n"
 
-#: misc/tune2fs.c:229
+#: misc/tune2fs.c:211
 msgid "Journal removed\n"
 msgstr "Fichero de transacciones eliminado\n"
 
-#: misc/tune2fs.c:268
+#: misc/tune2fs.c:250
 msgid "while reading bitmaps"
 msgstr "mientras se lean los mapas de bits"
 
-#: misc/tune2fs.c:275
+#: misc/tune2fs.c:257
 msgid "while clearing journal inode"
 msgstr "mientras se borraba el nodo-i del fichero de transacciones"
 
-#: misc/tune2fs.c:286
+#: misc/tune2fs.c:268
 msgid "while writing journal inode"
 msgstr "mientras se escriba el nodo-i del fichero de transacciones"
 
-#: misc/tune2fs.c:301
+#: misc/tune2fs.c:283
 #, c-format
 msgid "Invalid mount option set: %s\n"
 msgstr "Se puso una opcin de montaje no vlida: %s\n"
 
-#: misc/tune2fs.c:338
-#, c-format
-msgid "Clearing filesystem feature '%s' not supported.\n"
-msgstr ""
-
-#: misc/tune2fs.c:344
-#, fuzzy, c-format
-msgid "Setting filesystem feature '%s' not supported.\n"
-msgstr "Se pone la hora de la ltima revisin al sistema de ficheros a %s\n"
-
-#: misc/tune2fs.c:353
+#: misc/tune2fs.c:329
 msgid ""
 "The has_journal flag may only be cleared when the filesystem is\n"
 "unmounted or mounted read-only.\n"
@@ -4376,7 +4312,7 @@ msgstr ""
 "La bandera has_journal slo puede ser borrada cuando el sistema de\n"
 "ficheros no est montada o est en modo de slo lectura.\n"
 
-#: misc/tune2fs.c:361
+#: misc/tune2fs.c:337
 msgid ""
 "The needs_recovery flag is set.  Please run e2fsck before clearing\n"
 "the has_journal flag.\n"
@@ -4384,11 +4320,11 @@ msgstr ""
 "La bandera needs_recovery est puesta.  Por favor ejecute e2fsck antes\n"
 "de limpiar la bandera has_journal.\n"
 
-#: misc/tune2fs.c:428
+#: misc/tune2fs.c:394
 msgid "The filesystem already has a journal.\n"
 msgstr "El sistema de ficheros ya tiene un fichero de transacciones.\n"
 
-#: misc/tune2fs.c:445
+#: misc/tune2fs.c:411
 #, c-format
 msgid ""
 "\n"
@@ -4397,22 +4333,22 @@ msgstr ""
 "\n"
 "\tmientras se intentaba abrir el fichero de transacciones en %s\n"
 
-#: misc/tune2fs.c:449
+#: misc/tune2fs.c:415
 #, c-format
 msgid "Creating journal on device %s: "
 msgstr "Creando un fichero de transacciones en el dispositivo %s: "
 
-#: misc/tune2fs.c:457
+#: misc/tune2fs.c:423
 #, c-format
 msgid "while adding filesystem to journal on %s"
 msgstr ""
 "mientras se agregaba un sistema de ficheros al fichero de transacciones en %s"
 
-#: misc/tune2fs.c:463
+#: misc/tune2fs.c:429
 msgid "Creating journal inode: "
 msgstr "Creando el nodo-i del fichero de transacciones: "
 
-#: misc/tune2fs.c:472
+#: misc/tune2fs.c:438
 msgid ""
 "\n"
 "\twhile trying to create journal file"
@@ -4420,69 +4356,59 @@ msgstr ""
 "\n"
 "\tmientras intentaba crear el fichero de transacciones"
 
-#: misc/tune2fs.c:539
+#: misc/tune2fs.c:505
 #, c-format
 msgid "Couldn't parse date/time specifier: %s"
 msgstr ""
 "No se puede analizar sintcticamente el especificador de fecha/hora: %s"
 
-#: misc/tune2fs.c:563 misc/tune2fs.c:576
+#: misc/tune2fs.c:529 misc/tune2fs.c:542
 #, c-format
 msgid "bad mounts count - %s"
 msgstr "cuenta de montajes incorrectos - %s"
 
-#: misc/tune2fs.c:592
+#: misc/tune2fs.c:558
 #, c-format
 msgid "bad error behavior - %s"
 msgstr "comportamiento de errores incorrecto - %s"
 
-#: misc/tune2fs.c:619
+#: misc/tune2fs.c:585
 #, c-format
 msgid "bad gid/group name - %s"
 msgstr "nombre del gid/grupo incorrecto - %s"
 
-#: misc/tune2fs.c:652
+#: misc/tune2fs.c:618
 #, c-format
 msgid "bad interval - %s"
 msgstr "intervalo incorrecto - %s"
 
-#: misc/tune2fs.c:680
+#: misc/tune2fs.c:646
 #, c-format
 msgid "bad reserved block ratio - %s"
 msgstr "proporcin de bloques reservados incorrecta - %s"
 
-#: misc/tune2fs.c:695
+#: misc/tune2fs.c:661
 msgid "-o may only be specified once"
 msgstr "-o solo podra ser especificado una vez"
 
 # otro caso en que la voz pasiva hace que suene a traduccin.
 # -> slo se puede especificar
 # Ok, mejora bastante. mm
-#: misc/tune2fs.c:705
+#: misc/tune2fs.c:671
 msgid "-O may only be specified once"
 msgstr "-O slo se puede especificar una vez"
 
-#: misc/tune2fs.c:715
+#: misc/tune2fs.c:681
 #, c-format
 msgid "bad reserved blocks count - %s"
 msgstr "cuenta de bloques reservados incorrecta - %s"
 
-#: misc/tune2fs.c:744
+#: misc/tune2fs.c:710
 #, c-format
 msgid "bad uid/user name - %s"
 msgstr "nombre de uid/usuario incorrecto - %s"
 
-#: misc/tune2fs.c:842
-#, fuzzy, c-format
-msgid "Invalid RAID stride: %s\n"
-msgstr "Parmetro de zancada no vlido: %s\n"
-
-#: misc/tune2fs.c:857
-#, fuzzy, c-format
-msgid "Invalid RAID stripe-width: %s\n"
-msgstr "Parmetro de zancada no vlido: %s\n"
-
-#: misc/tune2fs.c:867
+#: misc/tune2fs.c:804
 #, fuzzy, c-format
 msgid ""
 "\n"
@@ -4492,8 +4418,6 @@ msgid ""
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk chunk size in blocks>\n"
-"\tstripe-width=<RAID stride*data disks in blocks>\n"
 "\ttest_fs\n"
 "\t^test_fs\n"
 msgstr ""
@@ -4508,52 +4432,52 @@ msgstr ""
 "\tresize=<mximo de variacin de tamao en bloques>\n"
 "\n"
 
-#: misc/tune2fs.c:927
+#: misc/tune2fs.c:862
 #, c-format
 msgid "Filesystem %s has unsupported features enabled.\n"
 msgstr ""
 
-#: misc/tune2fs.c:951
+#: misc/tune2fs.c:886
 #, c-format
 msgid "Setting maximal mount count to %d\n"
 msgstr "Se pone la cuenta de montajes mxima a %d\n"
 
-#: misc/tune2fs.c:957
+#: misc/tune2fs.c:892
 #, c-format
 msgid "Setting current mount count to %d\n"
 msgstr "Se pone la cuenta de montajes actual a %d\n"
 
-#: misc/tune2fs.c:962
+#: misc/tune2fs.c:897
 #, c-format
 msgid "Setting error behavior to %d\n"
 msgstr "Se pone el comportamiento de errores a %d\n"
 
-#: misc/tune2fs.c:967
+#: misc/tune2fs.c:902
 #, c-format
 msgid "Setting reserved blocks gid to %lu\n"
 msgstr "Se pone el gid de los bloques reservados %lu\n"
 
-#: misc/tune2fs.c:972
+#: misc/tune2fs.c:907
 #, c-format
 msgid "Setting interval between checks to %lu seconds\n"
 msgstr "Se pone el intervalo entre revisiones en %lu segundos\n"
 
-#: misc/tune2fs.c:978
+#: misc/tune2fs.c:913
 #, fuzzy, c-format
 msgid "Setting reserved blocks percentage to %g%% (%u blocks)\n"
 msgstr "Se pone el porcentaje de bloques reservados a %lu (%u bloques)\n"
 
-#: misc/tune2fs.c:984
+#: misc/tune2fs.c:919
 #, c-format
 msgid "reserved blocks count is too big (%lu)"
 msgstr "la cantidad de bloques reservados es muy grande (%lu)"
 
-#: misc/tune2fs.c:990
+#: misc/tune2fs.c:925
 #, c-format
 msgid "Setting reserved blocks count to %lu\n"
 msgstr "Se pone la cantidad de bloques reservados a %lu\n"
 
-#: misc/tune2fs.c:996
+#: misc/tune2fs.c:931
 msgid ""
 "\n"
 "The filesystem already has sparse superblocks.\n"
@@ -4561,7 +4485,7 @@ msgstr ""
 "\n"
 "El sistema de ficheros ya tiene superbloques dispersos.\n"
 
-#: misc/tune2fs.c:1003
+#: misc/tune2fs.c:938
 #, c-format
 msgid ""
 "\n"
@@ -4570,36 +4494,37 @@ msgstr ""
 "\n"
 "La bandera de superbloques dispersos est puesta.  %s"
 
-#: misc/tune2fs.c:1008
+#: misc/tune2fs.c:945
+msgid ""
+"\n"
+"The filesystem already has sparse superblocks disabled.\n"
+msgstr ""
+"\n"
+"El sistema de ficheros ya tiene los superbloques dispersos deshabilitados.\n"
+
+#: misc/tune2fs.c:953
+#, c-format
 msgid ""
 "\n"
-"Clearing the sparse superflag not supported.\n"
+"Sparse superblock flag cleared.  %s"
 msgstr ""
+"\n"
+"La bandera de superbloques dispersos ha sido borrada.  %s"
 
-#: misc/tune2fs.c:1015
+#: misc/tune2fs.c:960
 #, c-format
 msgid "Setting time filesystem last checked to %s\n"
 msgstr "Se pone la hora de la ltima revisin al sistema de ficheros a %s\n"
 
-#: misc/tune2fs.c:1021
+#: misc/tune2fs.c:966
 #, c-format
 msgid "Setting reserved blocks uid to %lu\n"
 msgstr "Se pone el uid de los bloques reservados a %lu\n"
 
-#: misc/tune2fs.c:1056
+#: misc/tune2fs.c:1001
 msgid "Invalid UUID format\n"
 msgstr "Formato del UUID no vlido\n"
 
-#: misc/tune2fs.c:1067
-#, fuzzy, c-format
-msgid "Setting stride size to %d\n"
-msgstr "Se pone el gid de los bloques reservados %lu\n"
-
-#: misc/tune2fs.c:1072
-#, fuzzy, c-format
-msgid "Setting stripe width to %d\n"
-msgstr "Se pone el gid de los bloques reservados %lu\n"
-
 # Yo lo pondra en infinitivo: -> Continuar de todas formas? (s,n)
 # Ok. mm
 #: misc/util.c:72
@@ -4863,7 +4788,7 @@ msgstr "bloques por ser movidos"
 msgid "meta-data blocks"
 msgstr "bloques de metadatos"
 
-#: resize/resize2fs.c:1550
+#: resize/resize2fs.c:1534
 #, c-format
 msgid "Should never happen: resize inode corrupt!\n"
 msgstr ""
@@ -4880,21 +4805,6 @@ msgstr ""
 #~ msgstr "intervalo de bloques daados: %lu-%lu"
 
 #~ msgid ""
-#~ "\n"
-#~ "The filesystem already has sparse superblocks disabled.\n"
-#~ msgstr ""
-#~ "\n"
-#~ "El sistema de ficheros ya tiene los superbloques dispersos "
-#~ "deshabilitados.\n"
-
-#~ msgid ""
-#~ "\n"
-#~ "Sparse superblock flag cleared.  %s"
-#~ msgstr ""
-#~ "\n"
-#~ "La bandera de superbloques dispersos ha sido borrada.  %s"
-
-#~ msgid ""
 #~ "%s is mounted; can't resize a mounted filesystem!\n"
 #~ "\n"
 #~ msgstr ""
Files e2fsprogs-1.40.7/po/fr.gmo and e2fsprogs/po/fr.gmo differ
diff -Nurp e2fsprogs-1.40.7/po/fr.po e2fsprogs/po/fr.po
--- e2fsprogs-1.40.7/po/fr.po	2008-02-29 02:46:13.000000000 +0000
+++ e2fsprogs/po/fr.po	2008-02-29 11:23:57.000000000 +0000
@@ -64,7 +64,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: GNU e2fsprogs 1.39-b2\n"
 "Report-Msgid-Bugs-To: tytso@alum.mit.edu\n"
-"POT-Creation-Date: 2008-02-28 21:45-0500\n"
+"POT-Creation-Date: 2008-02-09 23:16-0500\n"
 "PO-Revision-Date: 2006-12-04 23:38+0100\n"
 "Last-Translator: Samuel Thibault <samuel.thibault@ens-lyon.org>\n"
 "Language-Team: French <traduc@traduc.org>\n"
@@ -73,7 +73,7 @@ msgstr ""
 "Content-Transfer-Encoding: 8-bit\n"
 "Plural-Forms: nplurals=2; plural=(n > 1);\n"
 
-#: e2fsck/badblocks.c:22 misc/mke2fs.c:157
+#: e2fsck/badblocks.c:22 misc/mke2fs.c:156
 #, c-format
 msgid "Bad block %u out of range; ignored.\n"
 msgstr "Bloc dfectueux %u hors limite; ignor.\n"
@@ -87,10 +87,10 @@ msgid "while reading the bad blocks inod
 msgstr "lors de la lecture de l'i-noeud des blocs dfectueux"
 
 #: e2fsck/badblocks.c:71 e2fsck/iscan.c:112 e2fsck/scantest.c:109
-#: e2fsck/unix.c:1010 e2fsck/unix.c:1093 misc/badblocks.c:1025
+#: e2fsck/unix.c:992 e2fsck/unix.c:1075 misc/badblocks.c:1025
 #: misc/badblocks.c:1033 misc/badblocks.c:1047 misc/badblocks.c:1059
-#: misc/dumpe2fs.c:483 misc/e2image.c:571 misc/e2image.c:664
-#: misc/e2image.c:680 misc/mke2fs.c:173 misc/tune2fs.c:916 resize/main.c:296
+#: misc/dumpe2fs.c:400 misc/e2image.c:571 misc/e2image.c:664
+#: misc/e2image.c:680 misc/mke2fs.c:172 misc/tune2fs.c:851 resize/main.c:296
 #, c-format
 msgid "while trying to open %s"
 msgstr "lors de la tentative d'ouverture de %s"
@@ -100,16 +100,16 @@ msgstr "lors de la tentative d'ouverture
 msgid "while trying popen '%s'"
 msgstr "lors de la tentative d'ouverture via popen() %s"
 
-#: e2fsck/badblocks.c:93 misc/mke2fs.c:180
+#: e2fsck/badblocks.c:93 misc/mke2fs.c:179
 msgid "while reading in list of bad blocks from file"
 msgstr ""
 "lors de la lecture de la liste des blocs dfectueux  partir du fichier"
 
-#: e2fsck/badblocks.c:104
+#: e2fsck/badblocks.c:103
 msgid "while updating bad block inode"
 msgstr "lors de la mise  jour de l'i-noeud des blocs dfectueux"
 
-#: e2fsck/badblocks.c:130
+#: e2fsck/badblocks.c:129
 #, c-format
 msgid "Warning: illegal block %u found in bad block inode.  Cleared.\n"
 msgstr ""
@@ -463,7 +463,7 @@ msgstr "erreur interne; ne peut trouver
 msgid "internal error: couldn't lookup EA inode record for %u"
 msgstr "Erreur interne: impossible de trouver dir_info pour %i.\n"
 
-#: e2fsck/pass1.c:404 e2fsck/pass2.c:770
+#: e2fsck/pass1.c:404 e2fsck/pass2.c:779
 #, fuzzy
 msgid "reading directory block"
 msgstr "lecture des blocs indirects de l'i-noeud %u"
@@ -535,7 +535,7 @@ msgstr "bitmap d'i-noeuds"
 msgid "inode table"
 msgstr "table d'i-noeuds"
 
-#: e2fsck/pass2.c:283
+#: e2fsck/pass2.c:292
 msgid "Pass 2"
 msgstr "Passe2"
 
@@ -2423,7 +2423,7 @@ msgstr "%s: %d/%d fichiers (%0d.%d%% no
 msgid "         # of inodes with ind/dind/tind blocks: %u/%u/%u\n"
 msgstr "         nombre d'i-noeuds avec des blocs ind/dind/tind: %d/%d/%d\n"
 
-#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:941 misc/util.c:151
+#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:876 misc/util.c:151
 #: resize/main.c:237
 #, c-format
 msgid "while determining whether %s is mounted."
@@ -2566,7 +2566,7 @@ msgstr ""
 "Les systmes de fichiers avec change d'octets ne sont pas compils pour\n"
 "cette version d'e2fsck\n"
 
-#: e2fsck/unix.c:770 misc/tune2fs.c:504 misc/tune2fs.c:769 misc/tune2fs.c:786
+#: e2fsck/unix.c:770 misc/tune2fs.c:470 misc/tune2fs.c:735 misc/tune2fs.c:752
 #, c-format
 msgid "Unable to resolve '%s'"
 msgstr "Impossible de rsoudre %s"
@@ -2598,38 +2598,38 @@ msgid ""
 "\n"
 msgstr ""
 
-#: e2fsck/unix.c:905
+#: e2fsck/unix.c:904
 #, c-format
 msgid "Error: ext2fs library version out of date!\n"
 msgstr "Erreur: la version de la bibliothque ext2fs est prime!\n"
 
-#: e2fsck/unix.c:913
+#: e2fsck/unix.c:912
 msgid "while trying to initialize program"
 msgstr "lors de la tentative d'initialisation du programme"
 
-#: e2fsck/unix.c:927
+#: e2fsck/unix.c:926
 #, c-format
 msgid "\tUsing %s, %s\n"
 msgstr "\tUtilisation de %s, %s\n"
 
-#: e2fsck/unix.c:939
+#: e2fsck/unix.c:938
 msgid "need terminal for interactive repairs"
 msgstr "a besoin d'un terminal pour des rparations en mode interactif"
 
-#: e2fsck/unix.c:983
+#: e2fsck/unix.c:978
 #, fuzzy, c-format
 msgid "%s: %s trying backup blocks...\n"
 msgstr "%s tente d'archiver les blocs...\n"
 
-#: e2fsck/unix.c:985
+#: e2fsck/unix.c:980
 msgid "Superblock invalid,"
 msgstr ""
 
-#: e2fsck/unix.c:986
+#: e2fsck/unix.c:981
 msgid "Group descriptors look bad..."
 msgstr "Les descripteurs de groupe semblent en mauvais tat..."
 
-#: e2fsck/unix.c:1013
+#: e2fsck/unix.c:995
 #, c-format
 msgid ""
 "The filesystem revision is apparently too high for this version of e2fsck.\n"
@@ -2641,29 +2641,29 @@ msgstr ""
 "corrompu)\n"
 "\n"
 
-#: e2fsck/unix.c:1019
+#: e2fsck/unix.c:1001
 #, c-format
 msgid "Could this be a zero-length partition?\n"
 msgstr "Peut-tre cette partition est-elle de taille zro?\n"
 
-#: e2fsck/unix.c:1021
+#: e2fsck/unix.c:1003
 #, c-format
 msgid "You must have %s access to the filesystem or be root\n"
 msgstr "Vous devez avoir un accs %s au systme de fichiers ou tre root\n"
 
-#: e2fsck/unix.c:1026
+#: e2fsck/unix.c:1008
 #, c-format
 msgid "Possibly non-existent or swap device?\n"
 msgstr "Priphrique peut-tre inexistent ou pour le swap?\n"
 
-#: e2fsck/unix.c:1028
+#: e2fsck/unix.c:1010
 #, c-format
 msgid "Filesystem mounted or opened exclusively by another program?\n"
 msgstr ""
 "Systme de fichier mont ou ouvert en mode exclusif par un autre\n"
 "programme?\n"
 
-#: e2fsck/unix.c:1032
+#: e2fsck/unix.c:1014
 #, c-format
 msgid ""
 "Disk write-protected; use the -n option to do a read-only\n"
@@ -2672,16 +2672,16 @@ msgstr ""
 "Disque protg en criture; utilisez l'option -n pour effectuer une\n"
 "vrification du priphrique en lecture seule.\n"
 
-#: e2fsck/unix.c:1096
+#: e2fsck/unix.c:1078
 msgid "Get a newer version of e2fsck!"
 msgstr "Veuillez obtenir une version plus rcente d'e2fsck!"
 
-#: e2fsck/unix.c:1117
+#: e2fsck/unix.c:1099
 #, c-format
 msgid "while checking ext3 journal for %s"
 msgstr "lors de la vrification du journal ext3 pour %s"
 
-#: e2fsck/unix.c:1128
+#: e2fsck/unix.c:1110
 #, c-format
 msgid ""
 "Warning: skipping journal recovery because doing a read-only filesystem "
@@ -2690,26 +2690,21 @@ msgstr ""
 "Avertissement: saute la rcupration du journal puisque l'on\n"
 "procde  l'examen d'un systme de fichiers en lecture seule.\n"
 
-#: e2fsck/unix.c:1141
+#: e2fsck/unix.c:1123
 #, c-format
 msgid "unable to set superblock flags on %s\n"
 msgstr "impossible d'initialiser les drapeaux du superbloc sur %s\n"
 
-#: e2fsck/unix.c:1147
+#: e2fsck/unix.c:1129
 #, c-format
 msgid "while recovering ext3 journal of %s"
 msgstr "lors de la rcupration du journal ext3 de %s"
 
-#: e2fsck/unix.c:1171
-#, fuzzy, c-format
-msgid "%s has unsupported feature(s):"
-msgstr "l'@h %i dispose d'une version de hachage non supporte (%N)\n"
-
-#: e2fsck/unix.c:1187
+#: e2fsck/unix.c:1158
 msgid "Warning: compression support is experimental.\n"
 msgstr "Avertissement: le support de la compression est exprimental.\n"
 
-#: e2fsck/unix.c:1192
+#: e2fsck/unix.c:1163
 #, c-format
 msgid ""
 "E2fsck not compiled with HTREE support,\n"
@@ -2718,30 +2713,30 @@ msgstr ""
 "E2fsck n'est pas compil avec le support pour HTREE,\n"
 "\tmais le systme de fichiers %s a des rpertoires HTREE.\n"
 
-#: e2fsck/unix.c:1241
+#: e2fsck/unix.c:1212
 #, c-format
 msgid "%s: Filesystem byte order already normalized.\n"
 msgstr "%s: l'ordre des octets du systme de fichiers a dj t normalis.\n"
 
-#: e2fsck/unix.c:1261
+#: e2fsck/unix.c:1232
 msgid "while reading bad blocks inode"
 msgstr "lors de la lecture de l'i-noeud des blocs dfectueux"
 
-#: e2fsck/unix.c:1263
+#: e2fsck/unix.c:1234
 #, c-format
 msgid "This doesn't bode well, but we'll try to go on...\n"
 msgstr "Cela ne semble pas tre bien, mais on va quand mme essayer...\n"
 
-#: e2fsck/unix.c:1289
+#: e2fsck/unix.c:1260
 msgid "Couldn't determine journal size"
 msgstr ""
 
-#: e2fsck/unix.c:1292 misc/mke2fs.c:1776
+#: e2fsck/unix.c:1263 misc/mke2fs.c:1744
 #, c-format
 msgid "Creating journal (%d blocks): "
 msgstr "Cration du journal (%d blocs): "
 
-#: e2fsck/unix.c:1299 misc/mke2fs.c:1784
+#: e2fsck/unix.c:1270 misc/mke2fs.c:1752
 msgid ""
 "\n"
 "\twhile trying to create journal"
@@ -2749,37 +2744,37 @@ msgstr ""
 "\n"
 "\tlors de la tentative de cration du journal"
 
-#: e2fsck/unix.c:1302
+#: e2fsck/unix.c:1273
 #, fuzzy, c-format
 msgid " Done.\n"
 msgstr "complt\n"
 
-#: e2fsck/unix.c:1303
+#: e2fsck/unix.c:1274
 #, c-format
 msgid ""
 "\n"
 "*** journal has been re-created - filesystem is now ext3 again ***\n"
 msgstr ""
 
-#: e2fsck/unix.c:1310
+#: e2fsck/unix.c:1281
 #, c-format
 msgid "Restarting e2fsck from the beginning...\n"
 msgstr "Re-dmarrons e2fsck depuis le dbut...\n"
 
-#: e2fsck/unix.c:1314
+#: e2fsck/unix.c:1285
 msgid "while resetting context"
 msgstr "lors de la rinitialisation du contexte"
 
-#: e2fsck/unix.c:1321
+#: e2fsck/unix.c:1292
 #, c-format
 msgid "%s: e2fsck canceled.\n"
 msgstr "%s: e2fsck a t annul.\n"
 
-#: e2fsck/unix.c:1326
+#: e2fsck/unix.c:1297
 msgid "aborted"
 msgstr "arrt"
 
-#: e2fsck/unix.c:1338
+#: e2fsck/unix.c:1309
 #, c-format
 msgid ""
 "\n"
@@ -2788,12 +2783,12 @@ msgstr ""
 "\n"
 "%s: ***** LE SYSTME DE FICHIERS A T MODIFI *****\n"
 
-#: e2fsck/unix.c:1341
+#: e2fsck/unix.c:1312
 #, c-format
 msgid "%s: ***** REBOOT LINUX *****\n"
 msgstr "%s: ***** R-AMORCER LINUX *****\n"
 
-#: e2fsck/unix.c:1349
+#: e2fsck/unix.c:1320
 #, c-format
 msgid ""
 "\n"
@@ -3100,7 +3095,7 @@ msgstr ""
 msgid "while trying to determine device size"
 msgstr "lors de la tentative de dtermination de la taille du priphrique"
 
-#: misc/badblocks.c:996 misc/mke2fs.c:1255
+#: misc/badblocks.c:996 misc/mke2fs.c:1223
 #, c-format
 msgid "invalid blocks count - %s"
 msgstr "dcompte de blocs invalide - %s"
@@ -3266,7 +3261,7 @@ msgstr "lors de l'affichage de la liste 
 msgid "Bad blocks: %u"
 msgstr "Blocs dfectueux: %d"
 
-#: misc/dumpe2fs.c:274 misc/tune2fs.c:261
+#: misc/dumpe2fs.c:274 misc/tune2fs.c:243
 msgid "while reading journal inode"
 msgstr "lors de la lecture de l'i-noeud du journal"
 
@@ -3274,7 +3269,7 @@ msgstr "lors de la lecture de l'i-noeud 
 msgid "Journal size:             "
 msgstr "Taille du journal:        "
 
-#: misc/dumpe2fs.c:296 misc/tune2fs.c:183
+#: misc/dumpe2fs.c:296 misc/tune2fs.c:165
 msgid "while reading journal superblock"
 msgstr "lors de la lecture du journal du superbloc"
 
@@ -3306,61 +3301,22 @@ msgstr ""
 msgid "Journal users:            %s\n"
 msgstr "Usagers du journal:      %s\n"
 
-#: misc/dumpe2fs.c:337 misc/mke2fs.c:768 misc/tune2fs.c:810
-#, c-format
-msgid "Couldn't allocate memory to parse options!\n"
-msgstr "Impossible d'allouer de la mmoire pour analyser les options!\n"
-
-#: misc/dumpe2fs.c:363
-#, fuzzy, c-format
-msgid "Invalid superblock parameter: %s\n"
-msgstr "Paramtre stride invalide: %s\n"
-
-#: misc/dumpe2fs.c:378
-#, fuzzy, c-format
-msgid "Invalid blocksize parameter: %s\n"
-msgstr "Paramtre de changement de taille invalide: %s\n"
-
-#: misc/dumpe2fs.c:389
-#, fuzzy, c-format
-msgid ""
-"\n"
-"Bad extended option(s) specified: %s\n"
-"\n"
-"Extended options are separated by commas, and may take an argument which\n"
-"\tis set off by an equals ('=') sign.\n"
-"\n"
-"Valid extended options are:\n"
-"\tsuperblock=<superblock number>\n"
-"\tblocksize=<blocksize>\n"
-msgstr ""
-"\n"
-"Les options spcifies sont errones.\n"
-"\n"
-"Les options tendues sont spares par des virgules et peuvent prendre un\n"
-"\targument qui est dfini  l'aide d'un signe d'galit ('=').\n"
-"\n"
-"Les options valides sont:\n"
-"\tstride=<longueur de stride en blocs>\n"
-"\tresize=<taille maximale de changement de taille en blocs>\n"
-"\n"
-
-#: misc/dumpe2fs.c:449 misc/mke2fs.c:1199
+#: misc/dumpe2fs.c:376 misc/mke2fs.c:1167
 #, c-format
 msgid "\tUsing %s\n"
 msgstr "\tUtilisation de %s\n"
 
-#: misc/dumpe2fs.c:485 misc/e2image.c:666 misc/tune2fs.c:919 resize/main.c:298
+#: misc/dumpe2fs.c:402 misc/e2image.c:666 misc/tune2fs.c:854 resize/main.c:298
 #, c-format
 msgid "Couldn't find valid filesystem superblock.\n"
 msgstr "Impossible de trouver un superbloc de systme de fichiers valide.\n"
 
-#: misc/dumpe2fs.c:496
+#: misc/dumpe2fs.c:413
 #, c-format
 msgid "Note: This is a byte-swapped filesystem\n"
 msgstr "Note: ce systme de fichiers est  change d'octets\n"
 
-#: misc/dumpe2fs.c:515
+#: misc/dumpe2fs.c:432
 #, c-format
 msgid ""
 "\n"
@@ -3420,7 +3376,7 @@ msgstr "e2label: erreur de lecture du s
 msgid "e2label: not an ext2 filesystem\n"
 msgstr "e2label: n'est pas un systme de fichiers ext2\n"
 
-#: misc/e2label.c:96 misc/tune2fs.c:1025
+#: misc/e2label.c:96 misc/tune2fs.c:970
 #, c-format
 msgid "Warning: label too long, truncating.\n"
 msgstr "Avertissement: tiquette trop longue, sera tronque.\n"
@@ -3435,7 +3391,7 @@ msgstr "e2label: ne peut atteindre le s
 msgid "e2label: error writing superblock\n"
 msgstr "e2label: erreur lors de l'criture du superbloc\n"
 
-#: misc/e2label.c:116 misc/tune2fs.c:496
+#: misc/e2label.c:116 misc/tune2fs.c:462
 #, c-format
 msgid "Usage: e2label device [newlabel]\n"
 msgstr "Usage: e2label priphrique [nouvelle_tiquette]\n"
@@ -3524,25 +3480,24 @@ msgstr "fsck: ne peut pas vrifier %s:
 msgid "Checking all file systems.\n"
 msgstr "Vrification de tous les systmes de fichiers.\n"
 
-#: misc/fsck.c:1046
+#: misc/fsck.c:1041
 #, c-format
 msgid "--waiting-- (pass %d)\n"
 msgstr "--en attente-- (passe %d)\n"
 
-#: misc/fsck.c:1066
-#, fuzzy
+#: misc/fsck.c:1061
 msgid ""
-"Usage: fsck [-AMNPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
+"Usage: fsck [-ANPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
 msgstr ""
 "Usage: fsck [-ANPRTV] [ -C [fd] ] [-t type_sys_fichiers] "
 "[options_sys_fichiers] [sys_fichiers...]\n"
 
-#: misc/fsck.c:1108
+#: misc/fsck.c:1103
 #, c-format
 msgid "%s: too many devices\n"
 msgstr "%s: trop de priphriques\n"
 
-#: misc/fsck.c:1141 misc/fsck.c:1227
+#: misc/fsck.c:1136 misc/fsck.c:1222
 #, c-format
 msgid "%s: too many arguments\n"
 msgstr "%s: trop d'arguments\n"
@@ -3565,12 +3520,12 @@ msgstr "Lors de la lecture de la version
 #: misc/mke2fs.c:97
 #, fuzzy, c-format
 msgid ""
-"Usage: %s [-c|-l filename] [-b block-size] [-f fragment-size]\n"
-"\t[-i bytes-per-inode] [-I inode-size] [-J journal-options]\n"
+"Usage: %s [-c|-t|-l filename] [-b block-size] [-f fragment-size]\n"
+"\t[-i bytes-per-inode] [-I inode-size] [-j] [-J journal-options]\n"
 "\t[-N number-of-inodes] [-m reserved-blocks-percentage] [-o creator-os]\n"
 "\t[-g blocks-per-group] [-L volume-label] [-M last-mounted-directory]\n"
-"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]]\n"
-"\t[-T fs-type] [-jnqvFSV] device [blocks-count]\n"
+"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]] [-qvSV]\n"
+"\tdevice [blocks-count]\n"
 msgstr ""
 "Usage: %s [-c|-t|-l nom-de-fichier] [-b taille-de-bloc]\n"
 "\t[-f taille-de-fragment] [-i octets-par-i-noeud] [-j]\n"
@@ -3581,40 +3536,40 @@ msgstr ""
 "\t[-O fonctionnalits [,...]] [-r rvision-du-systme-de-fichier]\n"
 "\t[-R options] [-qvSV] priphrique [nombre-de-blocs]\n"
 
-#: misc/mke2fs.c:198
+#: misc/mke2fs.c:197
 #, c-format
 msgid "Running command: %s\n"
 msgstr "Excution de la commande: %s\n"
 
-#: misc/mke2fs.c:202
+#: misc/mke2fs.c:201
 #, c-format
 msgid "while trying to run '%s'"
 msgstr "durant la tentative d'excution de %s"
 
-#: misc/mke2fs.c:209
+#: misc/mke2fs.c:208
 msgid "while processing list of bad blocks from program"
 msgstr ""
 "lors du traitement de la liste des blocs dfectueux  partir du programme"
 
-#: misc/mke2fs.c:236
+#: misc/mke2fs.c:235
 #, c-format
 msgid "Block %d in primary superblock/group descriptor area bad.\n"
 msgstr ""
 "Bloc %d dans la zone du descripteur de superbloc/groupe primaire est "
 "dfectueux.\n"
 
-#: misc/mke2fs.c:238
+#: misc/mke2fs.c:237
 #, fuzzy, c-format
 msgid "Blocks %u through %u must be good in order to build a filesystem.\n"
 msgstr ""
 "Blocs de %u  %d doivent tre en bon tat pour gnrer le systme de "
 "fichiers.\n"
 
-#: misc/mke2fs.c:241
+#: misc/mke2fs.c:240
 msgid "Aborting....\n"
 msgstr "Arrt immdiat...\n"
 
-#: misc/mke2fs.c:261
+#: misc/mke2fs.c:260
 #, c-format
 msgid ""
 "Warning: the backup superblock/group descriptors at block %u contain\n"
@@ -3625,23 +3580,23 @@ msgstr ""
 "\tbloc %u contiennent des blocs dfectueux.\n"
 "\n"
 
-#: misc/mke2fs.c:279
+#: misc/mke2fs.c:278
 msgid "while marking bad blocks as used"
 msgstr "lors du marquage des blocs dfectueux en tant qu'utiliss"
 
-#: misc/mke2fs.c:337
+#: misc/mke2fs.c:336
 msgid "done                            \n"
 msgstr "complt                        \n"
 
-#: misc/mke2fs.c:372
+#: misc/mke2fs.c:371
 msgid "while allocating zeroizing buffer"
 msgstr "lors de l'allocation d'un tampon de mise  zro"
 
-#: misc/mke2fs.c:414
+#: misc/mke2fs.c:413
 msgid "Writing inode tables: "
 msgstr "criture des tables d'i-noeuds: "
 
-#: misc/mke2fs.c:431
+#: misc/mke2fs.c:430
 #, c-format
 msgid ""
 "\n"
@@ -3650,67 +3605,67 @@ msgstr ""
 "\n"
 "Impossible d'crire %d blocs dans la table d'i-noeuds dbutant  %u: %s\n"
 
-#: misc/mke2fs.c:487
+#: misc/mke2fs.c:486
 msgid "while creating root dir"
 msgstr "lors de la cration du rpertoire racine"
 
-#: misc/mke2fs.c:494
+#: misc/mke2fs.c:493
 msgid "while reading root inode"
 msgstr "lors de la lecture de l'i-noeud racine"
 
-#: misc/mke2fs.c:508
+#: misc/mke2fs.c:507
 msgid "while setting root inode ownership"
 msgstr "lors de l'initialisation de la proprit de l'i-noeud racine"
 
-#: misc/mke2fs.c:526
+#: misc/mke2fs.c:525
 msgid "while creating /lost+found"
 msgstr "lors de la cration de /lost+found"
 
-#: misc/mke2fs.c:533
+#: misc/mke2fs.c:532
 msgid "while looking up /lost+found"
 msgstr "lors de la recherche de /lost+found"
 
-#: misc/mke2fs.c:543
+#: misc/mke2fs.c:542
 msgid "while expanding /lost+found"
 msgstr "lors de l'extension de /lost+found"
 
-#: misc/mke2fs.c:559
+#: misc/mke2fs.c:558
 msgid "while setting bad block inode"
 msgstr "lors de l'initialisation de l'i-noeud des blocs dfectueux"
 
-#: misc/mke2fs.c:591
+#: misc/mke2fs.c:590
 #, c-format
 msgid "Out of memory erasing sectors %d-%d\n"
 msgstr "Mmoire puise lors de l'effacement des secteurs %d-%d\n"
 
-#: misc/mke2fs.c:601
+#: misc/mke2fs.c:600
 #, c-format
 msgid "Warning: could not read block 0: %s\n"
 msgstr "Avertissement: impossible de lire le bloc 0: %s\n"
 
-#: misc/mke2fs.c:617
+#: misc/mke2fs.c:616
 #, c-format
 msgid "Warning: could not erase sector %d: %s\n"
 msgstr "Avertissement: impossible d'effacer le secteur %d: %s\n"
 
-#: misc/mke2fs.c:633
+#: misc/mke2fs.c:632
 msgid "while initializing journal superblock"
 msgstr "lors de l'initialisation du journal du superbloc"
 
-#: misc/mke2fs.c:639
+#: misc/mke2fs.c:638
 msgid "Zeroing journal device: "
 msgstr "Mise  zro du priphrique de journal: "
 
-#: misc/mke2fs.c:646
+#: misc/mke2fs.c:645
 #, c-format
 msgid "while zeroing journal device (block %u, count %d)"
 msgstr "lors de la mise  zro du priphrique de journal (bloc %u, compte %d)"
 
-#: misc/mke2fs.c:657
+#: misc/mke2fs.c:656
 msgid "while writing journal superblock"
 msgstr "lors de l'criture du superblock de journal"
 
-#: misc/mke2fs.c:673
+#: misc/mke2fs.c:672
 #, c-format
 msgid ""
 "warning: %u blocks unused.\n"
@@ -3719,113 +3674,111 @@ msgstr ""
 "Avertissement: %u blocs inutiliss.\n"
 "\n"
 
-#: misc/mke2fs.c:678
+#: misc/mke2fs.c:677
 #, c-format
 msgid "Filesystem label=%s\n"
 msgstr "tiquette de systme de fichiers=%s\n"
 
-#: misc/mke2fs.c:679
+#: misc/mke2fs.c:678
 msgid "OS type: "
 msgstr "Type de systme d'exploitation: "
 
-#: misc/mke2fs.c:684
+#: misc/mke2fs.c:683
 #, c-format
 msgid "Block size=%u (log=%u)\n"
 msgstr "Taille de bloc=%u (log=%u)\n"
 
-#: misc/mke2fs.c:686
+#: misc/mke2fs.c:685
 #, c-format
 msgid "Fragment size=%u (log=%u)\n"
 msgstr "Taille de fragment=%u (log=%u)\n"
 
-#: misc/mke2fs.c:688
+#: misc/mke2fs.c:687
 #, c-format
 msgid "%u inodes, %u blocks\n"
 msgstr "%u i-noeuds, %u blocs\n"
 
-#: misc/mke2fs.c:690
+#: misc/mke2fs.c:689
 #, c-format
 msgid "%u blocks (%2.2f%%) reserved for the super user\n"
 msgstr "%u blocs (%2.2f%%) rservs pour le super utilisateur\n"
 
-#: misc/mke2fs.c:693
+#: misc/mke2fs.c:692
 #, c-format
 msgid "First data block=%u\n"
 msgstr "Premier bloc de donnes=%u\n"
 
-#: misc/mke2fs.c:695
+#: misc/mke2fs.c:694
 #, c-format
 msgid "Maximum filesystem blocks=%lu\n"
 msgstr "Nombre maximum de blocs du systme de fichiers=%lu\n"
 
-#: misc/mke2fs.c:700
+#: misc/mke2fs.c:699
 #, c-format
 msgid "%u block groups\n"
 msgstr "%u groupes de blocs\n"
 
-#: misc/mke2fs.c:702
+#: misc/mke2fs.c:701
 #, c-format
 msgid "%u block group\n"
 msgstr "%u groupe de bloc\n"
 
-#: misc/mke2fs.c:703
+#: misc/mke2fs.c:702
 #, c-format
 msgid "%u blocks per group, %u fragments per group\n"
 msgstr "%u blocs par groupe, %u fragments par groupe\n"
 
-#: misc/mke2fs.c:705
+#: misc/mke2fs.c:704
 #, c-format
 msgid "%u inodes per group\n"
 msgstr "%u i-noeuds par groupe\n"
 
-#: misc/mke2fs.c:712
+#: misc/mke2fs.c:711
 #, c-format
 msgid "Superblock backups stored on blocks: "
 msgstr "Superblocs de secours stocks sur les blocs: "
 
-#: misc/mke2fs.c:793
+#: misc/mke2fs.c:767 misc/tune2fs.c:776
 #, c-format
-msgid "Invalid stride parameter: %s\n"
-msgstr "Paramtre stride invalide: %s\n"
+msgid "Couldn't allocate memory to parse options!\n"
+msgstr "Impossible d'allouer de la mmoire pour analyser les options!\n"
 
-#: misc/mke2fs.c:808
-#, fuzzy, c-format
-msgid "Invalid stripe-width parameter: %s\n"
+#: misc/mke2fs.c:791
+#, c-format
+msgid "Invalid stride parameter: %s\n"
 msgstr "Paramtre stride invalide: %s\n"
 
-#: misc/mke2fs.c:830
+#: misc/mke2fs.c:812
 #, c-format
 msgid "Invalid resize parameter: %s\n"
 msgstr "Paramtre de changement de taille invalide: %s\n"
 
-#: misc/mke2fs.c:837
+#: misc/mke2fs.c:819
 #, c-format
 msgid "The resize maximum must be greater than the filesystem size.\n"
 msgstr ""
 "La taille maximale de l'agrandissement doit tre plus grande que la taille\n"
 "du systme de fichiers.\n"
 
-#: misc/mke2fs.c:861
+#: misc/mke2fs.c:843
 #, fuzzy, c-format
 msgid "On-line resizing not supported with revision 0 filesystems\n"
 msgstr ""
 "Fonctionnalits du systme de fichier non supportes par les systmes de\n"
 "fichier de version 0\n"
 
-#: misc/mke2fs.c:878
+#: misc/mke2fs.c:858
 #, fuzzy, c-format
 msgid ""
 "\n"
-"Bad option(s) specified: %s\n"
+"Bad options specified.\n"
 "\n"
 "Extended options are separated by commas, and may take an argument which\n"
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk data chunk in blocks>\n"
-"\tstripe-width=<RAID stride * data disks in blocks>\n"
+"\tstride=<stride length in blocks>\n"
 "\tresize=<resize maximum size in blocks>\n"
-"\n"
 "\ttest_fs\n"
 msgstr ""
 "\n"
@@ -3839,15 +3792,7 @@ msgstr ""
 "\tresize=<taille maximale de changement de taille en blocs>\n"
 "\n"
 
-#: misc/mke2fs.c:893
-#, c-format
-msgid ""
-"\n"
-"Warning: RAID stripe-width %u not an even multiple of stride %u.\n"
-"\n"
-msgstr ""
-
-#: misc/mke2fs.c:920
+#: misc/mke2fs.c:888
 #, c-format
 msgid ""
 "Syntax error in mke2fs config file (%s, line #%d)\n"
@@ -3857,88 +3802,88 @@ msgstr ""
 "\t(%s, ligne n%d)\n"
 "\t%s\n"
 
-#: misc/mke2fs.c:933 misc/tune2fs.c:335
+#: misc/mke2fs.c:901 misc/tune2fs.c:314
 #, c-format
 msgid "Invalid filesystem option set: %s\n"
 msgstr "Jeu d'options de systme de fichiers invalide: %s\n"
 
-#: misc/mke2fs.c:1040
+#: misc/mke2fs.c:1008
 #, c-format
 msgid "invalid block size - %s"
 msgstr "taille invalide des blocs - %s"
 
-#: misc/mke2fs.c:1044
+#: misc/mke2fs.c:1012
 #, c-format
 msgid "Warning: blocksize %d not usable on most systems.\n"
 msgstr ""
 "Avertissement: la taille de bloc %d n'est pas utilisable\n"
 "sur la plupart des systmes.\n"
 
-#: misc/mke2fs.c:1061
+#: misc/mke2fs.c:1029
 #, c-format
 msgid "invalid fragment size - %s"
 msgstr "taille de fragment invalide - %s"
 
-#: misc/mke2fs.c:1067
+#: misc/mke2fs.c:1035
 #, c-format
 msgid "Warning: fragments not supported.  Ignoring -f option\n"
 msgstr "Avertissement: fragments non supports. L'option -f est ignore\n"
 
-#: misc/mke2fs.c:1074
+#: misc/mke2fs.c:1042
 msgid "Illegal number for blocks per group"
 msgstr "Nombre de blocs par groupe illgal"
 
-#: misc/mke2fs.c:1079
+#: misc/mke2fs.c:1047
 msgid "blocks per group must be multiple of 8"
 msgstr "le nombre de blocs par groupe doit tre un multiple de 8"
 
-#: misc/mke2fs.c:1089
+#: misc/mke2fs.c:1057
 #, c-format
 msgid "invalid inode ratio %s (min %d/max %d)"
 msgstr "taux d'i-noeuds invalides %s (min %d/max %d)"
 
-#: misc/mke2fs.c:1106
+#: misc/mke2fs.c:1074
 msgid "in malloc for bad_blocks_filename"
 msgstr "dans malloc pour bad_blocks_filename"
 
-#: misc/mke2fs.c:1115
+#: misc/mke2fs.c:1083
 #, c-format
 msgid "invalid reserved blocks percent - %s"
 msgstr "pourcentage de blocs rservs invalide - %s"
 
-#: misc/mke2fs.c:1133
+#: misc/mke2fs.c:1101
 #, c-format
 msgid "bad revision level - %s"
 msgstr "mauvais numro de version - %s"
 
-#: misc/mke2fs.c:1145
+#: misc/mke2fs.c:1113
 #, c-format
 msgid "invalid inode size - %s"
 msgstr "taille d'i-noeud invalide - %s"
 
-#: misc/mke2fs.c:1165
+#: misc/mke2fs.c:1133
 #, c-format
 msgid "bad num inodes - %s"
 msgstr "mauvais nombre d'i-noeuds - %s"
 
-#: misc/mke2fs.c:1223 misc/mke2fs.c:1745
+#: misc/mke2fs.c:1191 misc/mke2fs.c:1713
 #, c-format
 msgid "while trying to open journal device %s\n"
 msgstr "lors de la tentative d'ouverture du priphrique de journal %s\n"
 
-#: misc/mke2fs.c:1229
+#: misc/mke2fs.c:1197
 #, c-format
 msgid "Journal dev blocksize (%d) smaller than minimum blocksize %d\n"
 msgstr ""
 "la taille de bloc du priphrique de journal (%d) est plus petit que la\n"
 "taille de blocs minimum %d\n"
 
-#: misc/mke2fs.c:1243
+#: misc/mke2fs.c:1211
 #, c-format
 msgid "%d-byte blocks too big for system (max %d)"
 msgstr "blocs de %d octets trop gros pour le systme (max %d)"
 
-#: misc/mke2fs.c:1247
+#: misc/mke2fs.c:1215
 #, c-format
 msgid ""
 "Warning: %d-byte blocks too big for system (max %d), forced to continue\n"
@@ -3946,16 +3891,16 @@ msgstr ""
 "Avertissement: blocs de %d octets trop gros pour le systme (max %d),\n"
 "poursuite force\n"
 
-#: misc/mke2fs.c:1265
+#: misc/mke2fs.c:1233
 msgid "filesystem"
 msgstr "systme de fichiers"
 
-#: misc/mke2fs.c:1288 resize/main.c:332
+#: misc/mke2fs.c:1256 resize/main.c:332
 msgid "while trying to determine filesystem size"
 msgstr ""
 "lors de la tentative de dtermination de la taille du systme de fichiers"
 
-#: misc/mke2fs.c:1294
+#: misc/mke2fs.c:1262
 msgid ""
 "Couldn't determine device size; you must specify\n"
 "the size of the filesystem\n"
@@ -3963,7 +3908,7 @@ msgstr ""
 "Ne peut dterminer la taille du priphrique; vous devez spcifier\n"
 "la taille du systme de fichiers\n"
 
-#: misc/mke2fs.c:1301
+#: misc/mke2fs.c:1269
 msgid ""
 "Device size reported to be zero.  Invalid partition specified, or\n"
 "\tpartition table wasn't reread after running fdisk, due to\n"
@@ -3976,47 +3921,47 @@ msgstr ""
 "\toccupe et utilise. Vous devez r-amorcer pour forcer une\n"
 "\trelecture de la table de partitions.\n"
 
-#: misc/mke2fs.c:1319
+#: misc/mke2fs.c:1287
 msgid "Filesystem larger than apparent device size."
 msgstr "Systme de fichiers plus grand que la taille apparente du priphrique"
 
-#: misc/mke2fs.c:1367
+#: misc/mke2fs.c:1335
 #, c-format
 msgid "Filesystem features not supported with revision 0 filesystems\n"
 msgstr ""
 "Fonctionnalits du systme de fichier non supportes par les systmes de\n"
 "fichier de version 0\n"
 
-#: misc/mke2fs.c:1374
+#: misc/mke2fs.c:1342
 #, fuzzy, c-format
 msgid "Sparse superblocks not supported with revision 0 filesystems\n"
 msgstr ""
 "Fonctionnalits du systme de fichier non supportes par les systmes de\n"
 "fichier de version 0\n"
 
-#: misc/mke2fs.c:1386
+#: misc/mke2fs.c:1354
 #, fuzzy, c-format
 msgid "Journals not supported with revision 0 filesystems\n"
 msgstr ""
 "Fonctionnalits du systme de fichier non supportes par les systmes de\n"
 "fichier de version 0\n"
 
-#: misc/mke2fs.c:1412
+#: misc/mke2fs.c:1380
 msgid "while trying to determine hardware sector size"
 msgstr ""
 "lors de la tentative de dtermination de la taille matrielle de secteur"
 
-#: misc/mke2fs.c:1464
+#: misc/mke2fs.c:1432
 msgid "reserved online resize blocks not supported on non-sparse filesystem"
 msgstr ""
 "la rservation de blocs de changement de taille en ligne n'est pas\n"
 "supporte sur un systme de fichiers non creux"
 
-#: misc/mke2fs.c:1473
+#: misc/mke2fs.c:1441
 msgid "blocks per group count out of range"
 msgstr "compteur de blocs par groupe hors limite"
 
-#: misc/mke2fs.c:1480
+#: misc/mke2fs.c:1448
 msgid ""
 "Filesystem too large.  No more than 2**31-1 blocks\n"
 "\t (8TB using a blocksize of 4k) are currently supported."
@@ -4024,7 +3969,7 @@ msgstr ""
 "Systme de fichiers trop grand. Pas plus de 2^31-1 blocs (8TO pour\n"
 "\t une taille de blocs de 4K) ne sont actuellement supports."
 
-#: misc/mke2fs.c:1487
+#: misc/mke2fs.c:1455
 #, c-format
 msgid ""
 "\n"
@@ -4038,29 +3983,29 @@ msgstr ""
 "\tpose problme.\n"
 "\n"
 
-#: misc/mke2fs.c:1504
+#: misc/mke2fs.c:1472
 #, c-format
 msgid "invalid inode size %d (min %d/max %d)"
 msgstr "taille d'i-noeud invalide %d (min %d/max %d)"
 
-#: misc/mke2fs.c:1510
+#: misc/mke2fs.c:1478
 #, fuzzy, c-format
 msgid "Warning: %d-byte inodes not usable on older systems\n"
 msgstr ""
 "Avertissement: les i-noeuds de %d octets ne sont pas utilisables sur la\n"
 "plupart des systmes\n"
 
-#: misc/mke2fs.c:1522
+#: misc/mke2fs.c:1490
 #, c-format
 msgid "too many inodes (%llu), raise inode ratio?"
 msgstr ""
 
-#: misc/mke2fs.c:1527
+#: misc/mke2fs.c:1495
 #, c-format
 msgid "too many inodes (%llu), specify < 2^32 inodes"
 msgstr ""
 
-#: misc/mke2fs.c:1542
+#: misc/mke2fs.c:1510
 #, c-format
 msgid ""
 "inode_size (%u) * inodes_count (%u) too big for a\n"
@@ -4068,38 +4013,38 @@ msgid ""
 "\tor lower inode count (-N).\n"
 msgstr ""
 
-#: misc/mke2fs.c:1591
+#: misc/mke2fs.c:1559
 msgid "while setting up superblock"
 msgstr "lors de l'initialisation du superbloc"
 
-#: misc/mke2fs.c:1628
+#: misc/mke2fs.c:1596
 #, c-format
 msgid "unknown os - %s"
 msgstr "systme d'exploitation inconnu - %s"
 
-#: misc/mke2fs.c:1682
+#: misc/mke2fs.c:1650
 msgid "while trying to allocate filesystem tables"
 msgstr "lors de la tentative d'allocation des tables de systmes de fichiers"
 
-#: misc/mke2fs.c:1713
+#: misc/mke2fs.c:1681
 #, c-format
 msgid "while zeroing block %u at end of filesystem"
 msgstr "lors de la mise  zro du bloc %u  la fin du systme de fichiers"
 
-#: misc/mke2fs.c:1727
+#: misc/mke2fs.c:1695
 msgid "while reserving blocks for online resize"
 msgstr "lors de la rservation de blocs pour un changement de taille en ligne"
 
-#: misc/mke2fs.c:1738 misc/tune2fs.c:433
+#: misc/mke2fs.c:1706 misc/tune2fs.c:399
 msgid "journal"
 msgstr "journal"
 
-#: misc/mke2fs.c:1750
+#: misc/mke2fs.c:1718
 #, c-format
 msgid "Adding journal to device %s: "
 msgstr "Ajout du journal au priphrique %s: "
 
-#: misc/mke2fs.c:1757
+#: misc/mke2fs.c:1725
 #, c-format
 msgid ""
 "\n"
@@ -4108,19 +4053,19 @@ msgstr ""
 "\n"
 "\tlors de la tentative d'ajout d'un journal au priphrique %s"
 
-#: misc/mke2fs.c:1762 misc/mke2fs.c:1788 misc/tune2fs.c:461 misc/tune2fs.c:475
+#: misc/mke2fs.c:1730 misc/mke2fs.c:1756 misc/tune2fs.c:427 misc/tune2fs.c:441
 #, c-format
 msgid "done\n"
 msgstr "complt\n"
 
-#: misc/mke2fs.c:1793
+#: misc/mke2fs.c:1761
 #, c-format
 msgid "Writing superblocks and filesystem accounting information: "
 msgstr ""
 "criture des superblocs et de l'information de comptabilit du systme de\n"
 "fichiers: "
 
-#: misc/mke2fs.c:1798
+#: misc/mke2fs.c:1766
 #, c-format
 msgid ""
 "\n"
@@ -4129,7 +4074,7 @@ msgstr ""
 "\n"
 "Attention, des problmes sont survenus lors de l'criture des superblocs."
 
-#: misc/mke2fs.c:1801
+#: misc/mke2fs.c:1769
 #, c-format
 msgid ""
 "done\n"
@@ -4143,17 +4088,18 @@ msgstr ""
 msgid "Usage: mklost+found\n"
 msgstr "Usage: mklost+found\n"
 
-#: misc/tune2fs.c:91
+#: misc/tune2fs.c:89
 msgid "Please run e2fsck on the filesystem.\n"
 msgstr "SVP excutez e2fsck sur le systme de fichiers.\n"
 
-#: misc/tune2fs.c:98
+#: misc/tune2fs.c:96
 #, fuzzy, c-format
 msgid ""
 "Usage: %s [-c max_mounts_count] [-e errors_behavior] [-g group]\n"
-"\t[-i interval[d|m|w]] [-j] [-J journal_options] [-l]\n"
-"\t[-m reserved_blocks_percent] [-o [^]mount_options[,...]] \n"
-"\t[-r reserved_blocks_count] [-u user] [-C mount_count] [-L volume_label]\n"
+"\t[-i interval[d|m|w]] [-j] [-J journal_options]\n"
+"\t[-l] [-s sparse_flag] [-m reserved_blocks_percent]\n"
+"\t[-o [^]mount_options[,...]] [-r reserved_blocks_count]\n"
+"\t[-u user] [-C mount_count] [-L volume_label]\n"
 "\t[-M last_mounted_dir] [-O [^]feature[,...]]\n"
 "\t[-E extended-option[,...]] [-T last_check_time] [-U UUID] device\n"
 msgstr ""
@@ -4166,65 +4112,51 @@ msgstr ""
 "\t[-M dernier-rpertoire-mont] [-O [^]fonctionnalit[,...]]\n"
 "\t[-T date-de-dernire-vrification] [-U UUID] priphrique\n"
 
-#: misc/tune2fs.c:171
+#: misc/tune2fs.c:153
 msgid "while trying to open external journal"
 msgstr "lors de la tentative d'ouverture du journal externe"
 
-#: misc/tune2fs.c:175
+#: misc/tune2fs.c:157
 #, c-format
 msgid "%s is not a journal device.\n"
 msgstr "%s n'est pas un priphrique de journal.\n"
 
-#: misc/tune2fs.c:190
+#: misc/tune2fs.c:172
 msgid "Journal superblock not found!\n"
 msgstr "Le superblock de journal n'a pas t trouv!\n"
 
-#: misc/tune2fs.c:202
+#: misc/tune2fs.c:184
 msgid "Filesystem's UUID not found on journal device.\n"
 msgstr ""
 "L'UUID du systme de fichiers n'a pas t trouv sur le priphrique de\n"
 "journal.\n"
 
-#: misc/tune2fs.c:223
+#: misc/tune2fs.c:205
 msgid "Journal NOT removed\n"
 msgstr "Le journal N'A PAS t enlev\n"
 
-#: misc/tune2fs.c:229
+#: misc/tune2fs.c:211
 msgid "Journal removed\n"
 msgstr "Journal enlev\n"
 
-#: misc/tune2fs.c:268
+#: misc/tune2fs.c:250
 msgid "while reading bitmaps"
 msgstr "lors de la lecture des bitmaps"
 
-#: misc/tune2fs.c:275
+#: misc/tune2fs.c:257
 msgid "while clearing journal inode"
 msgstr "lors de l'effacement de l'i-noeud du journal"
 
-#: misc/tune2fs.c:286
+#: misc/tune2fs.c:268
 msgid "while writing journal inode"
 msgstr "lors de l'criture de l'i-noeud du journal"
 
-#: misc/tune2fs.c:301
+#: misc/tune2fs.c:283
 #, c-format
 msgid "Invalid mount option set: %s\n"
 msgstr "Jeu d'options pour le montage invalide: %s\n"
 
-#: misc/tune2fs.c:338
-#, fuzzy, c-format
-msgid "Clearing filesystem feature '%s' not supported.\n"
-msgstr ""
-"Fonctionnalits du systme de fichier non supportes par les systmes de\n"
-"fichier de version 0\n"
-
-#: misc/tune2fs.c:344
-#, fuzzy, c-format
-msgid "Setting filesystem feature '%s' not supported.\n"
-msgstr ""
-"Fonctionnalits du systme de fichier non supportes par les systmes de\n"
-"fichier de version 0\n"
-
-#: misc/tune2fs.c:353
+#: misc/tune2fs.c:329
 msgid ""
 "The has_journal flag may only be cleared when the filesystem is\n"
 "unmounted or mounted read-only.\n"
@@ -4232,7 +4164,7 @@ msgstr ""
 "Le drapeau has_journal peut seulement tre dsactiv lorsque le\n"
 "systme de fichiers est dmont ou mont en lecture seule.\n"
 
-#: misc/tune2fs.c:361
+#: misc/tune2fs.c:337
 msgid ""
 "The needs_recovery flag is set.  Please run e2fsck before clearing\n"
 "the has_journal flag.\n"
@@ -4240,11 +4172,11 @@ msgstr ""
 "Le drapeau needs_recovery est activ. SVP excutez e2fsck avant\n"
 "de dsactiver le drapeau has_journal.\n"
 
-#: misc/tune2fs.c:428
+#: misc/tune2fs.c:394
 msgid "The filesystem already has a journal.\n"
 msgstr "Le systme de fichiers a dj un journal.\n"
 
-#: misc/tune2fs.c:445
+#: misc/tune2fs.c:411
 #, c-format
 msgid ""
 "\n"
@@ -4253,21 +4185,21 @@ msgstr ""
 "\n"
 "\tlors de la tentative d'ouverture du journal sur %s\n"
 
-#: misc/tune2fs.c:449
+#: misc/tune2fs.c:415
 #, c-format
 msgid "Creating journal on device %s: "
 msgstr "Cration du journal sur le priphrique %s: "
 
-#: misc/tune2fs.c:457
+#: misc/tune2fs.c:423
 #, c-format
 msgid "while adding filesystem to journal on %s"
 msgstr "lors de l'ajout du systme de fichiers au journal sur %s"
 
-#: misc/tune2fs.c:463
+#: misc/tune2fs.c:429
 msgid "Creating journal inode: "
 msgstr "Cration de l'i-noeud du journal: "
 
-#: misc/tune2fs.c:472
+#: misc/tune2fs.c:438
 msgid ""
 "\n"
 "\twhile trying to create journal file"
@@ -4275,65 +4207,55 @@ msgstr ""
 "\n"
 "\tlors de la tentative de cration du fichier journal"
 
-#: misc/tune2fs.c:539
+#: misc/tune2fs.c:505
 #, c-format
 msgid "Couldn't parse date/time specifier: %s"
 msgstr "Ne peut analyser la spcification de date/heure: %s"
 
-#: misc/tune2fs.c:563 misc/tune2fs.c:576
+#: misc/tune2fs.c:529 misc/tune2fs.c:542
 #, c-format
 msgid "bad mounts count - %s"
 msgstr "compteur de montages erron - %s"
 
-#: misc/tune2fs.c:592
+#: misc/tune2fs.c:558
 #, c-format
 msgid "bad error behavior - %s"
 msgstr "mauvais comportement en cas d'erreur - %s"
 
-#: misc/tune2fs.c:619
+#: misc/tune2fs.c:585
 #, c-format
 msgid "bad gid/group name - %s"
 msgstr "nom gid/groupe erron - %s"
 
-#: misc/tune2fs.c:652
+#: misc/tune2fs.c:618
 #, c-format
 msgid "bad interval - %s"
 msgstr "intervalle erron - %s"
 
-#: misc/tune2fs.c:680
+#: misc/tune2fs.c:646
 #, c-format
 msgid "bad reserved block ratio - %s"
 msgstr "taux de blocs rservs erron - %s"
 
-#: misc/tune2fs.c:695
+#: misc/tune2fs.c:661
 msgid "-o may only be specified once"
 msgstr "-o ne peut tre spcifi qu'une fois"
 
-#: misc/tune2fs.c:705
+#: misc/tune2fs.c:671
 msgid "-O may only be specified once"
 msgstr "-O ne peut tre spcifi qu'une fois"
 
-#: misc/tune2fs.c:715
+#: misc/tune2fs.c:681
 #, c-format
 msgid "bad reserved blocks count - %s"
 msgstr "compteur de blocs rservs erron - %s"
 
-#: misc/tune2fs.c:744
+#: misc/tune2fs.c:710
 #, c-format
 msgid "bad uid/user name - %s"
 msgstr "nom utilisateur/uid erron - %s"
 
-#: misc/tune2fs.c:842
-#, fuzzy, c-format
-msgid "Invalid RAID stride: %s\n"
-msgstr "Paramtre stride invalide: %s\n"
-
-#: misc/tune2fs.c:857
-#, fuzzy, c-format
-msgid "Invalid RAID stripe-width: %s\n"
-msgstr "Paramtre stride invalide: %s\n"
-
-#: misc/tune2fs.c:867
+#: misc/tune2fs.c:804
 #, fuzzy, c-format
 msgid ""
 "\n"
@@ -4343,8 +4265,6 @@ msgid ""
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk chunk size in blocks>\n"
-"\tstripe-width=<RAID stride*data disks in blocks>\n"
 "\ttest_fs\n"
 "\t^test_fs\n"
 msgstr ""
@@ -4359,54 +4279,54 @@ msgstr ""
 "\tresize=<taille maximale de changement de taille en blocs>\n"
 "\n"
 
-#: misc/tune2fs.c:927
+#: misc/tune2fs.c:862
 #, fuzzy, c-format
 msgid "Filesystem %s has unsupported features enabled.\n"
 msgstr ""
 "Fonctionnalits du systme de fichier non supportes par les systmes de\n"
 "fichier de version 0\n"
 
-#: misc/tune2fs.c:951
+#: misc/tune2fs.c:886
 #, c-format
 msgid "Setting maximal mount count to %d\n"
 msgstr "Initialisation du nombre maximal de montages  %d\n"
 
-#: misc/tune2fs.c:957
+#: misc/tune2fs.c:892
 #, c-format
 msgid "Setting current mount count to %d\n"
 msgstr "Initialisation du nombre courant de montages  %d\n"
 
-#: misc/tune2fs.c:962
+#: misc/tune2fs.c:897
 #, c-format
 msgid "Setting error behavior to %d\n"
 msgstr "Initialisation du comportement en cas d'erreur  %d\n"
 
-#: misc/tune2fs.c:967
+#: misc/tune2fs.c:902
 #, c-format
 msgid "Setting reserved blocks gid to %lu\n"
 msgstr "Initialisation du gid des blocs rservs  %lu\n"
 
-#: misc/tune2fs.c:972
+#: misc/tune2fs.c:907
 #, c-format
 msgid "Setting interval between checks to %lu seconds\n"
 msgstr "Initialisation de l'intervalle de vrification  %lu secondes\n"
 
-#: misc/tune2fs.c:978
+#: misc/tune2fs.c:913
 #, c-format
 msgid "Setting reserved blocks percentage to %g%% (%u blocks)\n"
 msgstr "Initialisation du pourcentage de blocs rservs  %g%% (%u blocs)\n"
 
-#: misc/tune2fs.c:984
+#: misc/tune2fs.c:919
 #, c-format
 msgid "reserved blocks count is too big (%lu)"
 msgstr "compteur de blocs rservs est trop grand (%lu)"
 
-#: misc/tune2fs.c:990
+#: misc/tune2fs.c:925
 #, c-format
 msgid "Setting reserved blocks count to %lu\n"
 msgstr "Initialisation du compteur des blocs rservs  %lu\n"
 
-#: misc/tune2fs.c:996
+#: misc/tune2fs.c:931
 msgid ""
 "\n"
 "The filesystem already has sparse superblocks.\n"
@@ -4414,7 +4334,7 @@ msgstr ""
 "\n"
 "Le systme de fichiers a dj des superblocs creux.\n"
 
-#: misc/tune2fs.c:1003
+#: misc/tune2fs.c:938
 #, c-format
 msgid ""
 "\n"
@@ -4423,38 +4343,39 @@ msgstr ""
 "\n"
 "Drapeau de superbloc creux activ. %s"
 
-#: misc/tune2fs.c:1008
+#: misc/tune2fs.c:945
 msgid ""
 "\n"
-"Clearing the sparse superflag not supported.\n"
+"The filesystem already has sparse superblocks disabled.\n"
 msgstr ""
+"\n"
+"Les superblocs creux sont dj dsactivs sur le systme de fichiers.\n"
 
-#: misc/tune2fs.c:1015
+#: misc/tune2fs.c:953
+#, c-format
+msgid ""
+"\n"
+"Sparse superblock flag cleared.  %s"
+msgstr ""
+"\n"
+"Drapeau de superbloc creux dsactiv. %s"
+
+#: misc/tune2fs.c:960
 #, c-format
 msgid "Setting time filesystem last checked to %s\n"
 msgstr ""
 "Initialisation de la date de la dernire vrification du systme de\n"
 "fichiers  %s\n"
 
-#: misc/tune2fs.c:1021
+#: misc/tune2fs.c:966
 #, c-format
 msgid "Setting reserved blocks uid to %lu\n"
 msgstr "Initialisation de l'uid de blocs rservs  %lu\n"
 
-#: misc/tune2fs.c:1056
+#: misc/tune2fs.c:1001
 msgid "Invalid UUID format\n"
 msgstr "Format UUID invalide\n"
 
-#: misc/tune2fs.c:1067
-#, fuzzy, c-format
-msgid "Setting stride size to %d\n"
-msgstr "Initialisation du gid des blocs rservs  %lu\n"
-
-#: misc/tune2fs.c:1072
-#, fuzzy, c-format
-msgid "Setting stripe width to %d\n"
-msgstr "Initialisation du gid des blocs rservs  %lu\n"
-
 #: misc/util.c:72
 msgid "Proceed anyway? (y,n) "
 msgstr "Procder malgr tout? (o,n) "
@@ -4706,7 +4627,7 @@ msgstr "blocs  dplacer"
 msgid "meta-data blocks"
 msgstr "blocs de mtadonnes"
 
-#: resize/resize2fs.c:1550
+#: resize/resize2fs.c:1534
 #, c-format
 msgid "Should never happen: resize inode corrupt!\n"
 msgstr ""
@@ -4719,20 +4640,6 @@ msgstr ""
 #~ msgstr "tendue invalide des blocs: %lu- %lu"
 
 #~ msgid ""
-#~ "\n"
-#~ "The filesystem already has sparse superblocks disabled.\n"
-#~ msgstr ""
-#~ "\n"
-#~ "Les superblocs creux sont dj dsactivs sur le systme de fichiers.\n"
-
-#~ msgid ""
-#~ "\n"
-#~ "Sparse superblock flag cleared.  %s"
-#~ msgstr ""
-#~ "\n"
-#~ "Drapeau de superbloc creux dsactiv. %s"
-
-#~ msgid ""
 #~ "%s is mounted; can't resize a mounted filesystem!\n"
 #~ "\n"
 #~ msgstr ""
Files e2fsprogs-1.40.7/po/it.gmo and e2fsprogs/po/it.gmo differ
diff -Nurp e2fsprogs-1.40.7/po/it.po e2fsprogs/po/it.po
--- e2fsprogs-1.40.7/po/it.po	2008-02-29 02:46:19.000000000 +0000
+++ e2fsprogs/po/it.po	2008-02-29 11:23:57.000000000 +0000
@@ -66,7 +66,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: e2fsprogs 1.36-b2\n"
 "Report-Msgid-Bugs-To: tytso@alum.mit.edu\n"
-"POT-Creation-Date: 2008-02-28 21:45-0500\n"
+"POT-Creation-Date: 2008-02-09 23:16-0500\n"
 "PO-Revision-Date: 2005-01-18 17:52+0100\n"
 "Last-Translator: Andrea Spadaccini <lupin85@email.it>\n"
 "Language-Team: Italian <tp@lists.linux.it>\n"
@@ -75,7 +75,7 @@ msgstr ""
 "Content-Transfer-Encoding: 8bit\n"
 "Plural-Forms: nplurals=2; plural=(n != 1);\n"
 
-#: e2fsck/badblocks.c:22 misc/mke2fs.c:157
+#: e2fsck/badblocks.c:22 misc/mke2fs.c:156
 #, c-format
 msgid "Bad block %u out of range; ignored.\n"
 msgstr "Blocco non valido %u fuori dall'intervallo; ignorato.\n"
@@ -89,10 +89,10 @@ msgid "while reading the bad blocks inod
 msgstr "durante la lettura dell'inode numero 1"
 
 #: e2fsck/badblocks.c:71 e2fsck/iscan.c:112 e2fsck/scantest.c:109
-#: e2fsck/unix.c:1010 e2fsck/unix.c:1093 misc/badblocks.c:1025
+#: e2fsck/unix.c:992 e2fsck/unix.c:1075 misc/badblocks.c:1025
 #: misc/badblocks.c:1033 misc/badblocks.c:1047 misc/badblocks.c:1059
-#: misc/dumpe2fs.c:483 misc/e2image.c:571 misc/e2image.c:664
-#: misc/e2image.c:680 misc/mke2fs.c:173 misc/tune2fs.c:916 resize/main.c:296
+#: misc/dumpe2fs.c:400 misc/e2image.c:571 misc/e2image.c:664
+#: misc/e2image.c:680 misc/mke2fs.c:172 misc/tune2fs.c:851 resize/main.c:296
 #, c-format
 msgid "while trying to open %s"
 msgstr "durante l'apertura di %s"
@@ -102,15 +102,15 @@ msgstr "durante l'apertura di %s"
 msgid "while trying popen '%s'"
 msgstr "provando ad effettuare il popen di '%s'"
 
-#: e2fsck/badblocks.c:93 misc/mke2fs.c:180
+#: e2fsck/badblocks.c:93 misc/mke2fs.c:179
 msgid "while reading in list of bad blocks from file"
 msgstr "durante la lettura della lista di blocchi non validi da file"
 
-#: e2fsck/badblocks.c:104
+#: e2fsck/badblocks.c:103
 msgid "while updating bad block inode"
 msgstr "aggiornando l'inode di un blocco difettoso"
 
-#: e2fsck/badblocks.c:130
+#: e2fsck/badblocks.c:129
 #, fuzzy, c-format
 msgid "Warning: illegal block %u found in bad block inode.  Cleared.\n"
 msgstr ""
@@ -460,7 +460,7 @@ msgstr "Errore interno: impossibile trov
 msgid "internal error: couldn't lookup EA inode record for %u"
 msgstr "Errore interno: impossibile trovare dir_info per %i.\n"
 
-#: e2fsck/pass1.c:404 e2fsck/pass2.c:770
+#: e2fsck/pass1.c:404 e2fsck/pass2.c:779
 #, fuzzy
 msgid "reading directory block"
 msgstr "lettura dei blocchi indiretti dell'inode %u"
@@ -532,7 +532,7 @@ msgstr "mappa dei bit dell'inode"
 msgid "inode table"
 msgstr "tavola degli inode"
 
-#: e2fsck/pass2.c:283
+#: e2fsck/pass2.c:292
 msgid "Pass 2"
 msgstr "Passo 2"
 
@@ -2462,7 +2462,7 @@ msgstr "%s: %d/%d files (%0d.%d%% non co
 msgid "         # of inodes with ind/dind/tind blocks: %u/%u/%u\n"
 msgstr "         # di inode con blocchi ind/dind/tind: %d/%d/%d\n"
 
-#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:941 misc/util.c:151
+#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:876 misc/util.c:151
 #: resize/main.c:237
 #, c-format
 msgid "while determining whether %s is mounted."
@@ -2602,7 +2602,7 @@ msgstr "L'opzione -t non  supportata da
 msgid "Byte-swapping filesystems not compiled in this version of e2fsck\n"
 msgstr ""
 
-#: e2fsck/unix.c:770 misc/tune2fs.c:504 misc/tune2fs.c:769 misc/tune2fs.c:786
+#: e2fsck/unix.c:770 misc/tune2fs.c:470 misc/tune2fs.c:735 misc/tune2fs.c:752
 #, c-format
 msgid "Unable to resolve '%s'"
 msgstr "Impossibile risolvere '%s'"
@@ -2632,38 +2632,38 @@ msgid ""
 "\n"
 msgstr ""
 
-#: e2fsck/unix.c:905
+#: e2fsck/unix.c:904
 #, c-format
 msgid "Error: ext2fs library version out of date!\n"
 msgstr "Errore: versione obsoleta della libreria ext2fs!\n"
 
-#: e2fsck/unix.c:913
+#: e2fsck/unix.c:912
 msgid "while trying to initialize program"
 msgstr "tentando di inizializzare il programma"
 
-#: e2fsck/unix.c:927
+#: e2fsck/unix.c:926
 #, c-format
 msgid "\tUsing %s, %s\n"
 msgstr "\tUtilizzando %s, %s\n"
 
-#: e2fsck/unix.c:939
+#: e2fsck/unix.c:938
 msgid "need terminal for interactive repairs"
 msgstr "serve il terminale per il riparo interattivo"
 
-#: e2fsck/unix.c:983
+#: e2fsck/unix.c:978
 #, fuzzy, c-format
 msgid "%s: %s trying backup blocks...\n"
 msgstr "%s cercando tra i blocchi di backup...\n"
 
-#: e2fsck/unix.c:985
+#: e2fsck/unix.c:980
 msgid "Superblock invalid,"
 msgstr ""
 
-#: e2fsck/unix.c:986
+#: e2fsck/unix.c:981
 msgid "Group descriptors look bad..."
 msgstr "I descrittori di gruppo sembrano non validi..."
 
-#: e2fsck/unix.c:1013
+#: e2fsck/unix.c:995
 #, c-format
 msgid ""
 "The filesystem revision is apparently too high for this version of e2fsck.\n"
@@ -2675,27 +2675,27 @@ msgstr ""
 "(O il superblocco del filesystem  corrotto)\n"
 "\n"
 
-#: e2fsck/unix.c:1019
+#: e2fsck/unix.c:1001
 #, c-format
 msgid "Could this be a zero-length partition?\n"
 msgstr "E' possibile che questa sia una partizione di dimensione zero?\n"
 
-#: e2fsck/unix.c:1021
+#: e2fsck/unix.c:1003
 #, c-format
 msgid "You must have %s access to the filesystem or be root\n"
 msgstr "Serve accesso di tipo %s al filesystem, o  necessario essere root\n"
 
-#: e2fsck/unix.c:1026
+#: e2fsck/unix.c:1008
 #, c-format
 msgid "Possibly non-existent or swap device?\n"
 msgstr "Device non esistente o di swap?\n"
 
-#: e2fsck/unix.c:1028
+#: e2fsck/unix.c:1010
 #, c-format
 msgid "Filesystem mounted or opened exclusively by another program?\n"
 msgstr ""
 
-#: e2fsck/unix.c:1032
+#: e2fsck/unix.c:1014
 #, c-format
 msgid ""
 "Disk write-protected; use the -n option to do a read-only\n"
@@ -2704,16 +2704,16 @@ msgstr ""
 "Disco protetto da scrittura: usare l'opzione -n per controllare\n"
 "in modalit sola lettura.\n"
 
-#: e2fsck/unix.c:1096
+#: e2fsck/unix.c:1078
 msgid "Get a newer version of e2fsck!"
 msgstr "Utilizzare una versione pi nuova di e2fsck."
 
-#: e2fsck/unix.c:1117
+#: e2fsck/unix.c:1099
 #, c-format
 msgid "while checking ext3 journal for %s"
 msgstr "controllando il journal ext3 per %s"
 
-#: e2fsck/unix.c:1128
+#: e2fsck/unix.c:1110
 #, c-format
 msgid ""
 "Warning: skipping journal recovery because doing a read-only filesystem "
@@ -2723,26 +2723,21 @@ msgstr ""
 "ripristinato.\n"
 
 # fuzzy
-#: e2fsck/unix.c:1141
+#: e2fsck/unix.c:1123
 #, c-format
 msgid "unable to set superblock flags on %s\n"
 msgstr "impossibile impostarei i flag del superblocco a %s\n"
 
-#: e2fsck/unix.c:1147
+#: e2fsck/unix.c:1129
 #, c-format
 msgid "while recovering ext3 journal of %s"
 msgstr "ripristinando il journal ext3 di %s"
 
-#: e2fsck/unix.c:1171
-#, fuzzy, c-format
-msgid "%s has unsupported feature(s):"
-msgstr "L'@h %i ha una versione dell'hash non supportata (%N)\n"
-
-#: e2fsck/unix.c:1187
+#: e2fsck/unix.c:1158
 msgid "Warning: compression support is experimental.\n"
 msgstr "Attenzione: il supporto per la compressione  sperimentale.\n"
 
-#: e2fsck/unix.c:1192
+#: e2fsck/unix.c:1163
 #, c-format
 msgid ""
 "E2fsck not compiled with HTREE support,\n"
@@ -2751,30 +2746,30 @@ msgstr ""
 "E2fsck non  stato compilato con il supporto HTREE,\n"
 "\tma il filesystem %s contiene directory HTREE.\n"
 
-#: e2fsck/unix.c:1241
+#: e2fsck/unix.c:1212
 #, c-format
 msgid "%s: Filesystem byte order already normalized.\n"
 msgstr "%s: Ordine dei byte del filesystem gi normalizzato.\n"
 
-#: e2fsck/unix.c:1261
+#: e2fsck/unix.c:1232
 msgid "while reading bad blocks inode"
 msgstr "leggendo l'inode numero 1"
 
-#: e2fsck/unix.c:1263
+#: e2fsck/unix.c:1234
 #, c-format
 msgid "This doesn't bode well, but we'll try to go on...\n"
 msgstr "Questo non  un buon segno, ma si tenter di continuare...\n"
 
-#: e2fsck/unix.c:1289
+#: e2fsck/unix.c:1260
 msgid "Couldn't determine journal size"
 msgstr ""
 
-#: e2fsck/unix.c:1292 misc/mke2fs.c:1776
+#: e2fsck/unix.c:1263 misc/mke2fs.c:1744
 #, c-format
 msgid "Creating journal (%d blocks): "
 msgstr "Creazione del journal (%d blocchi): "
 
-#: e2fsck/unix.c:1299 misc/mke2fs.c:1784
+#: e2fsck/unix.c:1270 misc/mke2fs.c:1752
 msgid ""
 "\n"
 "\twhile trying to create journal"
@@ -2782,37 +2777,37 @@ msgstr ""
 "\n"
 "\tcercando di creare il journal"
 
-#: e2fsck/unix.c:1302
+#: e2fsck/unix.c:1273
 #, fuzzy, c-format
 msgid " Done.\n"
 msgstr "fatto\n"
 
-#: e2fsck/unix.c:1303
+#: e2fsck/unix.c:1274
 #, c-format
 msgid ""
 "\n"
 "*** journal has been re-created - filesystem is now ext3 again ***\n"
 msgstr ""
 
-#: e2fsck/unix.c:1310
+#: e2fsck/unix.c:1281
 #, c-format
 msgid "Restarting e2fsck from the beginning...\n"
 msgstr "Riavvio di e2fsck dall'inizio...\n"
 
-#: e2fsck/unix.c:1314
+#: e2fsck/unix.c:1285
 msgid "while resetting context"
 msgstr "resettando il contesto"
 
-#: e2fsck/unix.c:1321
+#: e2fsck/unix.c:1292
 #, c-format
 msgid "%s: e2fsck canceled.\n"
 msgstr "%s: e2fsck cancellato.\n"
 
-#: e2fsck/unix.c:1326
+#: e2fsck/unix.c:1297
 msgid "aborted"
 msgstr "annullato"
 
-#: e2fsck/unix.c:1338
+#: e2fsck/unix.c:1309
 #, c-format
 msgid ""
 "\n"
@@ -2821,12 +2816,12 @@ msgstr ""
 "\n"
 "%s: ***** IL FILESYSTEM E' STATO MODIFICATO *****\n"
 
-#: e2fsck/unix.c:1341
+#: e2fsck/unix.c:1312
 #, c-format
 msgid "%s: ***** REBOOT LINUX *****\n"
 msgstr "%s: ***** RIAVVIARE LINUX *****\n"
 
-#: e2fsck/unix.c:1349
+#: e2fsck/unix.c:1320
 #, c-format
 msgid ""
 "\n"
@@ -3137,7 +3132,7 @@ msgstr ""
 msgid "while trying to determine device size"
 msgstr "tentando di determinare la dimensione del device"
 
-#: misc/badblocks.c:996 misc/mke2fs.c:1255
+#: misc/badblocks.c:996 misc/mke2fs.c:1223
 #, fuzzy, c-format
 msgid "invalid blocks count - %s"
 msgstr "numero dei blocchi non validi - %s"
@@ -3303,7 +3298,7 @@ msgstr "stampando la lista dei blocchi d
 msgid "Bad blocks: %u"
 msgstr "Blocchi non validi: %d"
 
-#: misc/dumpe2fs.c:274 misc/tune2fs.c:261
+#: misc/dumpe2fs.c:274 misc/tune2fs.c:243
 msgid "while reading journal inode"
 msgstr "leggendo l'inode del journal"
 
@@ -3311,7 +3306,7 @@ msgstr "leggendo l'inode del journal"
 msgid "Journal size:             "
 msgstr ""
 
-#: misc/dumpe2fs.c:296 misc/tune2fs.c:183
+#: misc/dumpe2fs.c:296 misc/tune2fs.c:165
 msgid "while reading journal superblock"
 msgstr "leggendo il superblocco del journal"
 
@@ -3343,60 +3338,22 @@ msgstr ""
 msgid "Journal users:            %s\n"
 msgstr ""
 
-#: misc/dumpe2fs.c:337 misc/mke2fs.c:768 misc/tune2fs.c:810
-#, fuzzy, c-format
-msgid "Couldn't allocate memory to parse options!\n"
-msgstr "Impossibile allocare memoria per fare il parsing delle opzioni raid!\n"
-
-#: misc/dumpe2fs.c:363
-#, fuzzy, c-format
-msgid "Invalid superblock parameter: %s\n"
-msgstr "Parametro di stride non valido.\n"
-
-#: misc/dumpe2fs.c:378
-#, fuzzy, c-format
-msgid "Invalid blocksize parameter: %s\n"
-msgstr "Parametro di stride non valido.\n"
-
-#: misc/dumpe2fs.c:389
-#, fuzzy, c-format
-msgid ""
-"\n"
-"Bad extended option(s) specified: %s\n"
-"\n"
-"Extended options are separated by commas, and may take an argument which\n"
-"\tis set off by an equals ('=') sign.\n"
-"\n"
-"Valid extended options are:\n"
-"\tsuperblock=<superblock number>\n"
-"\tblocksize=<blocksize>\n"
-msgstr ""
-"\n"
-"Opzioni raid non valide.\n"
-"\n"
-"Le opzioni raid sono separte da virgole, e possono avere un parametro, che\n"
-"\t passato da un segno di uguale ('=').\n"
-"\n"
-"Le opzioni raid valide sono:\n"
-"\tstride=lunghezza stride in blocchi>\n"
-"\n"
-
-#: misc/dumpe2fs.c:449 misc/mke2fs.c:1199
+#: misc/dumpe2fs.c:376 misc/mke2fs.c:1167
 #, c-format
 msgid "\tUsing %s\n"
 msgstr "\tUsando %s\n"
 
-#: misc/dumpe2fs.c:485 misc/e2image.c:666 misc/tune2fs.c:919 resize/main.c:298
+#: misc/dumpe2fs.c:402 misc/e2image.c:666 misc/tune2fs.c:854 resize/main.c:298
 #, c-format
 msgid "Couldn't find valid filesystem superblock.\n"
 msgstr "Impossibile trovare un valido superblocco per il filesystem.\n"
 
-#: misc/dumpe2fs.c:496
+#: misc/dumpe2fs.c:413
 #, fuzzy, c-format
 msgid "Note: This is a byte-swapped filesystem\n"
 msgstr "Nota: Questo  un filesystem a byte scambiati\n"
 
-#: misc/dumpe2fs.c:515
+#: misc/dumpe2fs.c:432
 #, c-format
 msgid ""
 "\n"
@@ -3455,7 +3412,7 @@ msgstr "e2label: errore durante la lettu
 msgid "e2label: not an ext2 filesystem\n"
 msgstr "e2label: non  un filesystem ext2\n"
 
-#: misc/e2label.c:96 misc/tune2fs.c:1025
+#: misc/e2label.c:96 misc/tune2fs.c:970
 #, c-format
 msgid "Warning: label too long, truncating.\n"
 msgstr "Attenzione: troncamento dell'etichetta, troppo lunga.\n"
@@ -3470,7 +3427,7 @@ msgstr "e2label: impossibile spostarsi n
 msgid "e2label: error writing superblock\n"
 msgstr "e2label: errore durante la scrittura del superblocco\n"
 
-#: misc/e2label.c:116 misc/tune2fs.c:496
+#: misc/e2label.c:116 misc/tune2fs.c:462
 #, c-format
 msgid "Usage: e2label device [newlabel]\n"
 msgstr "Uso: e2label device [nuova_etichetta]\n"
@@ -3556,23 +3513,23 @@ msgstr "fsck: impossibile controllare %s
 msgid "Checking all file systems.\n"
 msgstr "Controllo di tutti i filesystem.\n"
 
-#: misc/fsck.c:1046
+#: misc/fsck.c:1041
 #, c-format
 msgid "--waiting-- (pass %d)\n"
 msgstr "--attesa-- (passo %d)\n"
 
-#: misc/fsck.c:1066
+#: misc/fsck.c:1061
 #, fuzzy
 msgid ""
-"Usage: fsck [-AMNPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
+"Usage: fsck [-ANPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
 msgstr "Uso: fsck [-ACNPRTV] [-t tipofs] [opzioni-fs] [filesys ...]\n"
 
-#: misc/fsck.c:1108
+#: misc/fsck.c:1103
 #, c-format
 msgid "%s: too many devices\n"
 msgstr "%s: troppi device\n"
 
-#: misc/fsck.c:1141 misc/fsck.c:1227
+#: misc/fsck.c:1136 misc/fsck.c:1222
 #, c-format
 msgid "%s: too many arguments\n"
 msgstr "%s: troppi parametri\n"
@@ -3595,12 +3552,12 @@ msgstr "Durante la lettura della version
 #: misc/mke2fs.c:97
 #, fuzzy, c-format
 msgid ""
-"Usage: %s [-c|-l filename] [-b block-size] [-f fragment-size]\n"
-"\t[-i bytes-per-inode] [-I inode-size] [-J journal-options]\n"
+"Usage: %s [-c|-t|-l filename] [-b block-size] [-f fragment-size]\n"
+"\t[-i bytes-per-inode] [-I inode-size] [-j] [-J journal-options]\n"
 "\t[-N number-of-inodes] [-m reserved-blocks-percentage] [-o creator-os]\n"
 "\t[-g blocks-per-group] [-L volume-label] [-M last-mounted-directory]\n"
-"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]]\n"
-"\t[-T fs-type] [-jnqvFSV] device [blocks-count]\n"
+"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]] [-qvSV]\n"
+"\tdevice [blocks-count]\n"
 msgstr ""
 "Uso: %s [-c|-t|-l nomefile] [-b dim_blocchi] [-f dim_frammento]\n"
 "\t[-i byte-per-inode] [-j] [-J opzioni-journal] [-N numero-di-inode]\n"
@@ -3609,38 +3566,38 @@ msgstr ""
 "\t[-L etichetta-volume] [-M ultima-dir-montata] [-O caratteristica[,...]]\n"
 "\t[-r revisione-fs] [-R opz_raid] [-qvSV] device [numero-blocchi]\n"
 
-#: misc/mke2fs.c:198
+#: misc/mke2fs.c:197
 #, c-format
 msgid "Running command: %s\n"
 msgstr "Esecuzione del comando: %s\n"
 
-#: misc/mke2fs.c:202
+#: misc/mke2fs.c:201
 #, fuzzy, c-format
 msgid "while trying to run '%s'"
 msgstr "provando a caricare '%s'"
 
-#: misc/mke2fs.c:209
+#: misc/mke2fs.c:208
 msgid "while processing list of bad blocks from program"
 msgstr "analizzando una lista di blocchi non validi dal programma"
 
-#: misc/mke2fs.c:236
+#: misc/mke2fs.c:235
 #, c-format
 msgid "Block %d in primary superblock/group descriptor area bad.\n"
 msgstr ""
 "Blocco %d non valido nel superblocco primario/area del descrittore di "
 "gruppo.\n"
 
-#: misc/mke2fs.c:238
+#: misc/mke2fs.c:237
 #, fuzzy, c-format
 msgid "Blocks %u through %u must be good in order to build a filesystem.\n"
 msgstr ""
 "I blocchi da %d a %d devono essere validi per costruire un filesystem.\n"
 
-#: misc/mke2fs.c:241
+#: misc/mke2fs.c:240
 msgid "Aborting....\n"
 msgstr "Annullamento....\n"
 
-#: misc/mke2fs.c:261
+#: misc/mke2fs.c:260
 #, fuzzy, c-format
 msgid ""
 "Warning: the backup superblock/group descriptors at block %u contain\n"
@@ -3651,23 +3608,23 @@ msgstr ""
 "\tcontengono blocchi non validi.\n"
 "\n"
 
-#: misc/mke2fs.c:279
+#: misc/mke2fs.c:278
 msgid "while marking bad blocks as used"
 msgstr "contrassegnando i blocchi non validi come utilizzati"
 
-#: misc/mke2fs.c:337
+#: misc/mke2fs.c:336
 msgid "done                            \n"
 msgstr "fatto                           \n"
 
-#: misc/mke2fs.c:372
+#: misc/mke2fs.c:371
 msgid "while allocating zeroizing buffer"
 msgstr "allocando i buffer zeroizing"
 
-#: misc/mke2fs.c:414
+#: misc/mke2fs.c:413
 msgid "Writing inode tables: "
 msgstr "Scrittura delle tavole degli inode: "
 
-#: misc/mke2fs.c:431
+#: misc/mke2fs.c:430
 #, fuzzy, c-format
 msgid ""
 "\n"
@@ -3677,67 +3634,67 @@ msgstr ""
 "Impossibile scrivere %d blocchi nella tavola degli inode iniziando da %d: %"
 "s\n"
 
-#: misc/mke2fs.c:487
+#: misc/mke2fs.c:486
 msgid "while creating root dir"
 msgstr "creando la directory root"
 
-#: misc/mke2fs.c:494
+#: misc/mke2fs.c:493
 msgid "while reading root inode"
 msgstr "creando l'inode root"
 
-#: misc/mke2fs.c:508
+#: misc/mke2fs.c:507
 msgid "while setting root inode ownership"
 msgstr "impostando i permessi dell'inode root"
 
-#: misc/mke2fs.c:526
+#: misc/mke2fs.c:525
 msgid "while creating /lost+found"
 msgstr "creando /lost+found"
 
-#: misc/mke2fs.c:533
+#: misc/mke2fs.c:532
 msgid "while looking up /lost+found"
 msgstr "cercando /lost+found"
 
-#: misc/mke2fs.c:543
+#: misc/mke2fs.c:542
 msgid "while expanding /lost+found"
 msgstr "espandendo /lost+found"
 
-#: misc/mke2fs.c:559
+#: misc/mke2fs.c:558
 msgid "while setting bad block inode"
 msgstr "impostando l'inode del blocco difettoso"
 
-#: misc/mke2fs.c:591
+#: misc/mke2fs.c:590
 #, c-format
 msgid "Out of memory erasing sectors %d-%d\n"
 msgstr "Fine memoria cancellando i settori %d-%d\n"
 
-#: misc/mke2fs.c:601
+#: misc/mke2fs.c:600
 #, c-format
 msgid "Warning: could not read block 0: %s\n"
 msgstr "Attenzione: impossibile leggere il blocco 0: %s\n"
 
-#: misc/mke2fs.c:617
+#: misc/mke2fs.c:616
 #, c-format
 msgid "Warning: could not erase sector %d: %s\n"
 msgstr "Attenzione: impossibile cancellare il settore %d: %s\n"
 
-#: misc/mke2fs.c:633
+#: misc/mke2fs.c:632
 msgid "while initializing journal superblock"
 msgstr "inizializzando il superblocco del journal"
 
-#: misc/mke2fs.c:639
+#: misc/mke2fs.c:638
 msgid "Zeroing journal device: "
 msgstr "Azzeramento del device di journaling: "
 
-#: misc/mke2fs.c:646
+#: misc/mke2fs.c:645
 #, fuzzy, c-format
 msgid "while zeroing journal device (block %u, count %d)"
 msgstr "azzerando il device di journaling (blocco %u, numero %d)"
 
-#: misc/mke2fs.c:657
+#: misc/mke2fs.c:656
 msgid "while writing journal superblock"
 msgstr "scrivendo il superblocco del journal"
 
-#: misc/mke2fs.c:673
+#: misc/mke2fs.c:672
 #, fuzzy, c-format
 msgid ""
 "warning: %u blocks unused.\n"
@@ -3746,109 +3703,107 @@ msgstr ""
 "attenzione: %d blocchi inutilizzati.\n"
 "\n"
 
-#: misc/mke2fs.c:678
+#: misc/mke2fs.c:677
 #, c-format
 msgid "Filesystem label=%s\n"
 msgstr "Etichetta del filesystem=%s\n"
 
-#: misc/mke2fs.c:679
+#: misc/mke2fs.c:678
 msgid "OS type: "
 msgstr "Tipo SO: "
 
-#: misc/mke2fs.c:684
+#: misc/mke2fs.c:683
 #, c-format
 msgid "Block size=%u (log=%u)\n"
 msgstr "Dimensione blocco=%u (log=%u)\n"
 
-#: misc/mke2fs.c:686
+#: misc/mke2fs.c:685
 #, c-format
 msgid "Fragment size=%u (log=%u)\n"
 msgstr "Dimensione frammento=%u (log=%u)\n"
 
-#: misc/mke2fs.c:688
+#: misc/mke2fs.c:687
 #, c-format
 msgid "%u inodes, %u blocks\n"
 msgstr "%u inode, %u blocchi\n"
 
-#: misc/mke2fs.c:690
+#: misc/mke2fs.c:689
 #, c-format
 msgid "%u blocks (%2.2f%%) reserved for the super user\n"
 msgstr "%u blocchi (%2.2f%%) riservati per l'utente root\n"
 
-#: misc/mke2fs.c:693
+#: misc/mke2fs.c:692
 #, c-format
 msgid "First data block=%u\n"
 msgstr "Primo blocco dati=%u\n"
 
-#: misc/mke2fs.c:695
+#: misc/mke2fs.c:694
 #, fuzzy, c-format
 msgid "Maximum filesystem blocks=%lu\n"
 msgstr "Etichetta del filesystem=%s\n"
 
-#: misc/mke2fs.c:700
+#: misc/mke2fs.c:699
 #, c-format
 msgid "%u block groups\n"
 msgstr "%u gruppi di blocchi\n"
 
-#: misc/mke2fs.c:702
+#: misc/mke2fs.c:701
 #, fuzzy, c-format
 msgid "%u block group\n"
 msgstr "%u gruppo di blocchi\n"
 
-#: misc/mke2fs.c:703
+#: misc/mke2fs.c:702
 #, c-format
 msgid "%u blocks per group, %u fragments per group\n"
 msgstr "%u blocchi per gruppo, %u frammenti per gruppo\n"
 
-#: misc/mke2fs.c:705
+#: misc/mke2fs.c:704
 #, c-format
 msgid "%u inodes per group\n"
 msgstr "%u inode per gruppo\n"
 
-#: misc/mke2fs.c:712
+#: misc/mke2fs.c:711
 #, c-format
 msgid "Superblock backups stored on blocks: "
 msgstr "Backup del superblocco salvati nei blocchi: "
 
-#: misc/mke2fs.c:793
+#: misc/mke2fs.c:767 misc/tune2fs.c:776
 #, fuzzy, c-format
-msgid "Invalid stride parameter: %s\n"
-msgstr "Parametro di stride non valido.\n"
+msgid "Couldn't allocate memory to parse options!\n"
+msgstr "Impossibile allocare memoria per fare il parsing delle opzioni raid!\n"
 
-#: misc/mke2fs.c:808
+#: misc/mke2fs.c:791
 #, fuzzy, c-format
-msgid "Invalid stripe-width parameter: %s\n"
+msgid "Invalid stride parameter: %s\n"
 msgstr "Parametro di stride non valido.\n"
 
-#: misc/mke2fs.c:830
+#: misc/mke2fs.c:812
 #, fuzzy, c-format
 msgid "Invalid resize parameter: %s\n"
 msgstr "Parametro di stride non valido.\n"
 
-#: misc/mke2fs.c:837
+#: misc/mke2fs.c:819
 #, c-format
 msgid "The resize maximum must be greater than the filesystem size.\n"
 msgstr ""
 
-#: misc/mke2fs.c:861
+#: misc/mke2fs.c:843
 #, c-format
 msgid "On-line resizing not supported with revision 0 filesystems\n"
 msgstr ""
 
-#: misc/mke2fs.c:878
+#: misc/mke2fs.c:858
 #, fuzzy, c-format
 msgid ""
 "\n"
-"Bad option(s) specified: %s\n"
+"Bad options specified.\n"
 "\n"
 "Extended options are separated by commas, and may take an argument which\n"
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk data chunk in blocks>\n"
-"\tstripe-width=<RAID stride * data disks in blocks>\n"
+"\tstride=<stride length in blocks>\n"
 "\tresize=<resize maximum size in blocks>\n"
-"\n"
 "\ttest_fs\n"
 msgstr ""
 "\n"
@@ -3861,102 +3816,94 @@ msgstr ""
 "\tstride=lunghezza stride in blocchi>\n"
 "\n"
 
-#: misc/mke2fs.c:893
-#, c-format
-msgid ""
-"\n"
-"Warning: RAID stripe-width %u not an even multiple of stride %u.\n"
-"\n"
-msgstr ""
-
-#: misc/mke2fs.c:920
+#: misc/mke2fs.c:888
 #, c-format
 msgid ""
 "Syntax error in mke2fs config file (%s, line #%d)\n"
 "\t%s\n"
 msgstr ""
 
-#: misc/mke2fs.c:933 misc/tune2fs.c:335
+#: misc/mke2fs.c:901 misc/tune2fs.c:314
 #, c-format
 msgid "Invalid filesystem option set: %s\n"
 msgstr "Set di opzioni del filesystem non valido: %s\n"
 
-#: misc/mke2fs.c:1040
+#: misc/mke2fs.c:1008
 #, fuzzy, c-format
 msgid "invalid block size - %s"
 msgstr "dimensione del blocco difettoso - %s"
 
-#: misc/mke2fs.c:1044
+#: misc/mke2fs.c:1012
 #, c-format
 msgid "Warning: blocksize %d not usable on most systems.\n"
 msgstr ""
 "Attenzione: la dimensione di blocco %d non  utilizzabile su molti sistemi.\n"
 
-#: misc/mke2fs.c:1061
+#: misc/mke2fs.c:1029
 #, fuzzy, c-format
 msgid "invalid fragment size - %s"
 msgstr "dimensione del frammento non valida - %s"
 
-#: misc/mke2fs.c:1067
+#: misc/mke2fs.c:1035
 #, c-format
 msgid "Warning: fragments not supported.  Ignoring -f option\n"
 msgstr "Attenzione: frammenti non supportati. Opzione -f ignorata\n"
 
-#: misc/mke2fs.c:1074
+#: misc/mke2fs.c:1042
 msgid "Illegal number for blocks per group"
 msgstr "Numero di blocchi per gruppo non valido"
 
-#: misc/mke2fs.c:1079
+#: misc/mke2fs.c:1047
 msgid "blocks per group must be multiple of 8"
 msgstr "i blocchi per gruppo devono essere multipli di 8"
 
-#: misc/mke2fs.c:1089
+#: misc/mke2fs.c:1057
 #, fuzzy, c-format
 msgid "invalid inode ratio %s (min %d/max %d)"
 msgstr "tasso di inode non valido %s (min %d/max %d)"
 
-#: misc/mke2fs.c:1106
+#: misc/mke2fs.c:1074
 msgid "in malloc for bad_blocks_filename"
 msgstr "nella malloc per bad_blocks_filename"
 
-#: misc/mke2fs.c:1115
+#: misc/mke2fs.c:1083
 #, fuzzy, c-format
 msgid "invalid reserved blocks percent - %s"
 msgstr "percentuale di blocchi riservati non valida - %s"
 
-#: misc/mke2fs.c:1133
+#: misc/mke2fs.c:1101
 #, fuzzy, c-format
 msgid "bad revision level - %s"
 msgstr "versione non valida - %s\n"
 
-#: misc/mke2fs.c:1145
+#: misc/mke2fs.c:1113
 #, fuzzy, c-format
 msgid "invalid inode size - %s"
 msgstr "dimensione inode non valida - %s"
 
-#: misc/mke2fs.c:1165
+#: misc/mke2fs.c:1133
 #, fuzzy, c-format
 msgid "bad num inodes - %s"
 msgstr "dimensione inode non valida - %s"
 
-#: misc/mke2fs.c:1223 misc/mke2fs.c:1745
+#: misc/mke2fs.c:1191 misc/mke2fs.c:1713
 #, c-format
 msgid "while trying to open journal device %s\n"
 msgstr "durante l'apertura del dispositivo di journaling %s\n"
 
-#: misc/mke2fs.c:1229
+#: misc/mke2fs.c:1197
 #, c-format
 msgid "Journal dev blocksize (%d) smaller than minimum blocksize %d\n"
 msgstr ""
 "Dimensione dei blocchi del device di journaling (%d) minore della dim minima "
 "dei blocchi %d\n"
 
-#: misc/mke2fs.c:1243
+#: misc/mke2fs.c:1211
 #, c-format
 msgid "%d-byte blocks too big for system (max %d)"
 msgstr "blocchi di %d byte troppo grandi per il sistema (max %d)"
 
-#: misc/mke2fs.c:1247
+#: misc/mke2fs.c:1215
 #, c-format
 msgid ""
 "Warning: %d-byte blocks too big for system (max %d), forced to continue\n"
@@ -3964,15 +3911,15 @@ msgstr ""
 "Attenzione: blocchi di %d bytes troppo grandi per il sistema (max %d), "
 "continuo comunque\n"
 
-#: misc/mke2fs.c:1265
+#: misc/mke2fs.c:1233
 msgid "filesystem"
 msgstr "filesystem"
 
-#: misc/mke2fs.c:1288 resize/main.c:332
+#: misc/mke2fs.c:1256 resize/main.c:332
 msgid "while trying to determine filesystem size"
 msgstr "tentando di determinare la dimensione del filesystem"
 
-#: misc/mke2fs.c:1294
+#: misc/mke2fs.c:1262
 msgid ""
 "Couldn't determine device size; you must specify\n"
 "the size of the filesystem\n"
@@ -3980,7 +3927,7 @@ msgstr ""
 "Impossibile determinare la dimensione del device: bisogna\n"
 "specificare la dimensione del filesystem\n"
 
-#: misc/mke2fs.c:1301
+#: misc/mke2fs.c:1269
 msgid ""
 "Device size reported to be zero.  Invalid partition specified, or\n"
 "\tpartition table wasn't reread after running fdisk, due to\n"
@@ -3993,46 +3940,46 @@ msgstr ""
 "\tdi fdisk, poich una partizione modificata era occupata. Potrebbe essere\n"
 "\tnecessario riavviare per rileggere la tabella delle partizioni.\n"
 
-#: misc/mke2fs.c:1319
+#: misc/mke2fs.c:1287
 msgid "Filesystem larger than apparent device size."
 msgstr "Il filesystem  pi grande della dimensione apparente del device."
 
-#: misc/mke2fs.c:1367
+#: misc/mke2fs.c:1335
 #, c-format
 msgid "Filesystem features not supported with revision 0 filesystems\n"
 msgstr ""
 
-#: misc/mke2fs.c:1374
+#: misc/mke2fs.c:1342
 #, c-format
 msgid "Sparse superblocks not supported with revision 0 filesystems\n"
 msgstr ""
 
-#: misc/mke2fs.c:1386
+#: misc/mke2fs.c:1354
 #, fuzzy, c-format
 msgid "Journals not supported with revision 0 filesystems\n"
 msgstr ""
 "\n"
 "Dimensione del journal troppo grande per il filesystem.\n"
 
-#: misc/mke2fs.c:1412
+#: misc/mke2fs.c:1380
 msgid "while trying to determine hardware sector size"
 msgstr "provando a determinare la dimensione del settore hardware"
 
-#: misc/mke2fs.c:1464
+#: misc/mke2fs.c:1432
 msgid "reserved online resize blocks not supported on non-sparse filesystem"
 msgstr ""
 
-#: misc/mke2fs.c:1473
+#: misc/mke2fs.c:1441
 msgid "blocks per group count out of range"
 msgstr "conteggio dei blocchi per gruppo fuori dall'intervallo"
 
-#: misc/mke2fs.c:1480
+#: misc/mke2fs.c:1448
 msgid ""
 "Filesystem too large.  No more than 2**31-1 blocks\n"
 "\t (8TB using a blocksize of 4k) are currently supported."
 msgstr ""
 
-#: misc/mke2fs.c:1487
+#: misc/mke2fs.c:1455
 #, c-format
 msgid ""
 "\n"
@@ -4041,28 +3988,28 @@ msgid ""
 "\n"
 msgstr ""
 
-#: misc/mke2fs.c:1504
+#: misc/mke2fs.c:1472
 #, fuzzy, c-format
 msgid "invalid inode size %d (min %d/max %d)"
 msgstr "dimensione dell'inode non valida: %d (min %d/max %d)"
 
-#: misc/mke2fs.c:1510
+#: misc/mke2fs.c:1478
 #, fuzzy, c-format
 msgid "Warning: %d-byte inodes not usable on older systems\n"
 msgstr ""
 "Attenzione: gli inode di %d byte non sono utilizzabili su molti sistemi\n"
 
-#: misc/mke2fs.c:1522
+#: misc/mke2fs.c:1490
 #, c-format
 msgid "too many inodes (%llu), raise inode ratio?"
 msgstr ""
 
-#: misc/mke2fs.c:1527
+#: misc/mke2fs.c:1495
 #, c-format
 msgid "too many inodes (%llu), specify < 2^32 inodes"
 msgstr ""
 
-#: misc/mke2fs.c:1542
+#: misc/mke2fs.c:1510
 #, c-format
 msgid ""
 "inode_size (%u) * inodes_count (%u) too big for a\n"
@@ -4070,40 +4017,40 @@ msgid ""
 "\tor lower inode count (-N).\n"
 msgstr ""
 
-#: misc/mke2fs.c:1591
+#: misc/mke2fs.c:1559
 #, fuzzy
 msgid "while setting up superblock"
 msgstr "impostando il superblocco"
 
-#: misc/mke2fs.c:1628
+#: misc/mke2fs.c:1596
 #, c-format
 msgid "unknown os - %s"
 msgstr "so sconosciuto - %s"
 
-#: misc/mke2fs.c:1682
+#: misc/mke2fs.c:1650
 msgid "while trying to allocate filesystem tables"
 msgstr "tentando di allocare le tabelle del filesystem"
 
-#: misc/mke2fs.c:1713
+#: misc/mke2fs.c:1681
 #, c-format
 msgid "while zeroing block %u at end of filesystem"
 msgstr "azzerando il blocco %u alla fine del filesystem"
 
-#: misc/mke2fs.c:1727
+#: misc/mke2fs.c:1695
 #, fuzzy
 msgid "while reserving blocks for online resize"
 msgstr "leggendo l'inode dei blocchi non validi"
 
-#: misc/mke2fs.c:1738 misc/tune2fs.c:433
+#: misc/mke2fs.c:1706 misc/tune2fs.c:399
 msgid "journal"
 msgstr "journal"
 
-#: misc/mke2fs.c:1750
+#: misc/mke2fs.c:1718
 #, c-format
 msgid "Adding journal to device %s: "
 msgstr "Aggiunta del journal al device %s: "
 
-#: misc/mke2fs.c:1757
+#: misc/mke2fs.c:1725
 #, c-format
 msgid ""
 "\n"
@@ -4112,19 +4059,19 @@ msgstr ""
 "\n"
 "\tcercando di agigungere il journal al device %s"
 
-#: misc/mke2fs.c:1762 misc/mke2fs.c:1788 misc/tune2fs.c:461 misc/tune2fs.c:475
+#: misc/mke2fs.c:1730 misc/mke2fs.c:1756 misc/tune2fs.c:427 misc/tune2fs.c:441
 #, c-format
 msgid "done\n"
 msgstr "fatto\n"
 
-#: misc/mke2fs.c:1793
+#: misc/mke2fs.c:1761
 #, c-format
 msgid "Writing superblocks and filesystem accounting information: "
 msgstr ""
 "Scrittura delle informazioni dei superblocchi e dell'accounting del "
 "filesystem: "
 
-#: misc/mke2fs.c:1798
+#: misc/mke2fs.c:1766
 #, c-format
 msgid ""
 "\n"
@@ -4133,7 +4080,7 @@ msgstr ""
 "\n"
 "Attenzione, problemi durante la scrittura dei superblocchi."
 
-#: misc/mke2fs.c:1801
+#: misc/mke2fs.c:1769
 #, c-format
 msgid ""
 "done\n"
@@ -4147,17 +4094,18 @@ msgstr ""
 msgid "Usage: mklost+found\n"
 msgstr "Uso: mklost+found\n"
 
-#: misc/tune2fs.c:91
+#: misc/tune2fs.c:89
 msgid "Please run e2fsck on the filesystem.\n"
 msgstr "Eseguire e2fsck sul filesystem.\n"
 
-#: misc/tune2fs.c:98
+#: misc/tune2fs.c:96
 #, fuzzy, c-format
 msgid ""
 "Usage: %s [-c max_mounts_count] [-e errors_behavior] [-g group]\n"
-"\t[-i interval[d|m|w]] [-j] [-J journal_options] [-l]\n"
-"\t[-m reserved_blocks_percent] [-o [^]mount_options[,...]] \n"
-"\t[-r reserved_blocks_count] [-u user] [-C mount_count] [-L volume_label]\n"
+"\t[-i interval[d|m|w]] [-j] [-J journal_options]\n"
+"\t[-l] [-s sparse_flag] [-m reserved_blocks_percent]\n"
+"\t[-o [^]mount_options[,...]] [-r reserved_blocks_count]\n"
+"\t[-u user] [-C mount_count] [-L volume_label]\n"
 "\t[-M last_mounted_dir] [-O [^]feature[,...]]\n"
 "\t[-E extended-option[,...]] [-T last_check_time] [-U UUID] device\n"
 msgstr ""
@@ -4169,60 +4117,49 @@ msgstr ""
 "montata]\n"
 "\t[-O [^]caratteristica[,...]] [-T ultimo-controllo] [-U UUID] device\n"
 
-#: misc/tune2fs.c:171
+#: misc/tune2fs.c:153
 msgid "while trying to open external journal"
 msgstr "cercando di aprire il journal esterno"
 
-#: misc/tune2fs.c:175
+#: misc/tune2fs.c:157
 #, c-format
 msgid "%s is not a journal device.\n"
 msgstr "%s non  un dispositivo di journaling.\n"
 
-#: misc/tune2fs.c:190
+#: misc/tune2fs.c:172
 msgid "Journal superblock not found!\n"
 msgstr "Superblocco del journal non trovato!\n"
 
-#: misc/tune2fs.c:202
+#: misc/tune2fs.c:184
 msgid "Filesystem's UUID not found on journal device.\n"
 msgstr "UUID del filesystem non trovato sul dispositivo di journaling.\n"
 
-#: misc/tune2fs.c:223
+#: misc/tune2fs.c:205
 msgid "Journal NOT removed\n"
 msgstr "Journal NON rimosso\n"
 
-#: misc/tune2fs.c:229
+#: misc/tune2fs.c:211
 msgid "Journal removed\n"
 msgstr "Journal rimosso\n"
 
-#: misc/tune2fs.c:268
+#: misc/tune2fs.c:250
 msgid "while reading bitmaps"
 msgstr "leggendo le mappe dei bit"
 
-#: misc/tune2fs.c:275
+#: misc/tune2fs.c:257
 msgid "while clearing journal inode"
 msgstr "azzerando l'inode del journal"
 
-#: misc/tune2fs.c:286
+#: misc/tune2fs.c:268
 msgid "while writing journal inode"
 msgstr "scrivendo l'inode del journal"
 
-#: misc/tune2fs.c:301
+#: misc/tune2fs.c:283
 #, c-format
 msgid "Invalid mount option set: %s\n"
 msgstr "Insieme di opzioni di mount non valido: %s\n"
 
-#: misc/tune2fs.c:338
-#, c-format
-msgid "Clearing filesystem feature '%s' not supported.\n"
-msgstr ""
-
-#: misc/tune2fs.c:344
-#, fuzzy, c-format
-msgid "Setting filesystem feature '%s' not supported.\n"
-msgstr ""
-"Impostazione di data ed ora dell'ultimo controllo del filesystem a %s\n"
-
-#: misc/tune2fs.c:353
+#: misc/tune2fs.c:329
 msgid ""
 "The has_journal flag may only be cleared when the filesystem is\n"
 "unmounted or mounted read-only.\n"
@@ -4230,7 +4167,7 @@ msgstr ""
 "Il flag has_journal pu essere azzerato quando il filesystem non\n"
 " montato o  montato solo in lettura.\n"
 
-#: misc/tune2fs.c:361
+#: misc/tune2fs.c:337
 msgid ""
 "The needs_recovery flag is set.  Please run e2fsck before clearing\n"
 "the has_journal flag.\n"
@@ -4238,11 +4175,11 @@ msgstr ""
 "Il flag needs_recovery  impostato. Eseguire e2fsck prima di azzerare\n"
 "il flag has_journal.\n"
 
-#: misc/tune2fs.c:428
+#: misc/tune2fs.c:394
 msgid "The filesystem already has a journal.\n"
 msgstr "Il filesystem ha gi un journal.\n"
 
-#: misc/tune2fs.c:445
+#: misc/tune2fs.c:411
 #, c-format
 msgid ""
 "\n"
@@ -4251,21 +4188,21 @@ msgstr ""
 "\n"
 "\ttentando di aprire il journal in %s\n"
 
-#: misc/tune2fs.c:449
+#: misc/tune2fs.c:415
 #, c-format
 msgid "Creating journal on device %s: "
 msgstr "Creando il journal per il device %s: "
 
-#: misc/tune2fs.c:457
+#: misc/tune2fs.c:423
 #, c-format
 msgid "while adding filesystem to journal on %s"
 msgstr "aggiungendo un filesystem al journal in %s"
 
-#: misc/tune2fs.c:463
+#: misc/tune2fs.c:429
 msgid "Creating journal inode: "
 msgstr "Creazione dell'inode del journal: "
 
-#: misc/tune2fs.c:472
+#: misc/tune2fs.c:438
 msgid ""
 "\n"
 "\twhile trying to create journal file"
@@ -4273,65 +4210,55 @@ msgstr ""
 "\n"
 "\tcercando di creare il file di journal"
 
-#: misc/tune2fs.c:539
+#: misc/tune2fs.c:505
 #, c-format
 msgid "Couldn't parse date/time specifier: %s"
 msgstr "Impossibile comprendere il formato di data/ora: %s"
 
-#: misc/tune2fs.c:563 misc/tune2fs.c:576
+#: misc/tune2fs.c:529 misc/tune2fs.c:542
 #, c-format
 msgid "bad mounts count - %s"
 msgstr "numero di mount non validi - %s"
 
-#: misc/tune2fs.c:592
+#: misc/tune2fs.c:558
 #, fuzzy, c-format
 msgid "bad error behavior - %s"
 msgstr "comportamento relativo ad un errore non valido - %s"
 
-#: misc/tune2fs.c:619
+#: misc/tune2fs.c:585
 #, c-format
 msgid "bad gid/group name - %s"
 msgstr "gid/nome gruppo non valido - %s"
 
-#: misc/tune2fs.c:652
+#: misc/tune2fs.c:618
 #, c-format
 msgid "bad interval - %s"
 msgstr "intervallo non valido - %s"
 
-#: misc/tune2fs.c:680
+#: misc/tune2fs.c:646
 #, c-format
 msgid "bad reserved block ratio - %s"
 msgstr "percentuale di blocchi riservati non valida - %s"
 
-#: misc/tune2fs.c:695
+#: misc/tune2fs.c:661
 msgid "-o may only be specified once"
 msgstr "-o pu essere specificata solo una volta"
 
-#: misc/tune2fs.c:705
+#: misc/tune2fs.c:671
 msgid "-O may only be specified once"
 msgstr "-O pu essere specificata solo una volta"
 
-#: misc/tune2fs.c:715
+#: misc/tune2fs.c:681
 #, c-format
 msgid "bad reserved blocks count - %s"
 msgstr "numero di blocchi riservati non valido - %s"
 
-#: misc/tune2fs.c:744
+#: misc/tune2fs.c:710
 #, c-format
 msgid "bad uid/user name - %s"
 msgstr "uid/nome utente non valido - %s"
 
-#: misc/tune2fs.c:842
-#, fuzzy, c-format
-msgid "Invalid RAID stride: %s\n"
-msgstr "Insieme di opzioni di mount non valido: %s\n"
-
-#: misc/tune2fs.c:857
-#, fuzzy, c-format
-msgid "Invalid RAID stripe-width: %s\n"
-msgstr "Parametro di stride non valido.\n"
-
-#: misc/tune2fs.c:867
+#: misc/tune2fs.c:804
 #, fuzzy, c-format
 msgid ""
 "\n"
@@ -4341,68 +4268,64 @@ msgid ""
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk chunk size in blocks>\n"
-"\tstripe-width=<RAID stride*data disks in blocks>\n"
 "\ttest_fs\n"
 "\t^test_fs\n"
 msgstr ""
+"Le opzioni estese sono separate da virgole, e potrebbero avere un "
+"parametro,\n"
+"specificato da un segno di uguale ('='). Opzioni raid valide sono:\n"
+"\tea_ver=<versione_ea (1 o 2)\n"
 "\n"
-"Opzioni raid non valide.\n"
-"\n"
-"Le opzioni raid sono separte da virgole, e possono avere un parametro, che\n"
-"\t passato da un segno di uguale ('=').\n"
-"\n"
-"Le opzioni raid valide sono:\n"
-"\tstride=lunghezza stride in blocchi>\n"
+"\tea_ver=<versione_ea (1 o 2)\n"
 "\n"
 
-#: misc/tune2fs.c:927
+#: misc/tune2fs.c:862
 #, c-format
 msgid "Filesystem %s has unsupported features enabled.\n"
 msgstr ""
 
-#: misc/tune2fs.c:951
+#: misc/tune2fs.c:886
 #, c-format
 msgid "Setting maximal mount count to %d\n"
 msgstr "Impostazione del numero massimo di mount a %d\n"
 
-#: misc/tune2fs.c:957
+#: misc/tune2fs.c:892
 #, c-format
 msgid "Setting current mount count to %d\n"
 msgstr "Impostazione del numero attuale di mount a %d\n"
 
-#: misc/tune2fs.c:962
+#: misc/tune2fs.c:897
 #, fuzzy, c-format
 msgid "Setting error behavior to %d\n"
 msgstr "Impostazione del comportamento da errore a %d\n"
 
-#: misc/tune2fs.c:967
+#: misc/tune2fs.c:902
 #, c-format
 msgid "Setting reserved blocks gid to %lu\n"
 msgstr "Impostazione del gid dei blocchi riservati a %lu\n"
 
-#: misc/tune2fs.c:972
+#: misc/tune2fs.c:907
 #, fuzzy, c-format
 msgid "Setting interval between checks to %lu seconds\n"
 msgstr "Impostazione dell'intervallo tra i controlli a %lu secondi\n"
 
-#: misc/tune2fs.c:978
+#: misc/tune2fs.c:913
 #, fuzzy, c-format
 msgid "Setting reserved blocks percentage to %g%% (%u blocks)\n"
 msgstr ""
 "Impostazione della percentuale di blocchi riservati a %lu (%u blocchi)\n"
 
-#: misc/tune2fs.c:984
+#: misc/tune2fs.c:919
 #, c-format
 msgid "reserved blocks count is too big (%lu)"
 msgstr "il numero di blocchi riservati  troppo alto (%lu)"
 
-#: misc/tune2fs.c:990
+#: misc/tune2fs.c:925
 #, c-format
 msgid "Setting reserved blocks count to %lu\n"
 msgstr "Impostazione del numero di blocchi riservati a %lu\n"
 
-#: misc/tune2fs.c:996
+#: misc/tune2fs.c:931
 msgid ""
 "\n"
 "The filesystem already has sparse superblocks.\n"
@@ -4410,44 +4333,43 @@ msgstr ""
 "\n"
 "Il filesystem ha gi dei superblocchi sparsi.\n"
 
-#: misc/tune2fs.c:1003
+#: misc/tune2fs.c:938
 #, c-format
 msgid ""
 "\n"
 "Sparse superblock flag set.  %s"
 msgstr ""
 
-#: misc/tune2fs.c:1008
+#: misc/tune2fs.c:945
 msgid ""
 "\n"
-"Clearing the sparse superflag not supported.\n"
+"The filesystem already has sparse superblocks disabled.\n"
 msgstr ""
+"\n"
+"Il filesystem ha gi dei superblocchi sparsi disattivati.\n"
 
-#: misc/tune2fs.c:1015
+#: misc/tune2fs.c:953
+#, c-format
+msgid ""
+"\n"
+"Sparse superblock flag cleared.  %s"
+msgstr ""
+
+#: misc/tune2fs.c:960
 #, c-format
 msgid "Setting time filesystem last checked to %s\n"
 msgstr ""
 "Impostazione di data ed ora dell'ultimo controllo del filesystem a %s\n"
 
-#: misc/tune2fs.c:1021
+#: misc/tune2fs.c:966
 #, c-format
 msgid "Setting reserved blocks uid to %lu\n"
 msgstr "Impostazione dell'uid dei blocchi riservati a %lu\n"
 
-#: misc/tune2fs.c:1056
+#: misc/tune2fs.c:1001
 msgid "Invalid UUID format\n"
 msgstr "Formato UUID non valido\n"
 
-#: misc/tune2fs.c:1067
-#, fuzzy, c-format
-msgid "Setting stride size to %d\n"
-msgstr "Impostazione del gid dei blocchi riservati a %lu\n"
-
-#: misc/tune2fs.c:1072
-#, fuzzy, c-format
-msgid "Setting stripe width to %d\n"
-msgstr "Impostazione del gid dei blocchi riservati a %lu\n"
-
 #: misc/util.c:72
 msgid "Proceed anyway? (y,n) "
 msgstr "Procedere comunque? (s,n) "
@@ -4699,7 +4621,7 @@ msgstr "blocchi da spostare"
 msgid "meta-data blocks"
 msgstr ""
 
-#: resize/resize2fs.c:1550
+#: resize/resize2fs.c:1534
 #, c-format
 msgid "Should never happen: resize inode corrupt!\n"
 msgstr ""
@@ -4725,20 +4647,6 @@ msgstr ""
 #~ msgstr ""
 #~ "Pulizia forzata del flag HTREE nell'@i %d (%q). (Codice in beta testing)\n"
 
-#~ msgid ""
-#~ "Extended options are separated by commas, and may take an argument which\n"
-#~ "is set off by an equals ('=') sign.  Valid raid options are:\n"
-#~ "\tea_ver=<ea_version (1 or 2)\n"
-#~ "\n"
-#~ msgstr ""
-#~ "Le opzioni estese sono separate da virgole, e potrebbero avere un "
-#~ "parametro,\n"
-#~ "specificato da un segno di uguale ('='). Opzioni raid valide sono:\n"
-#~ "\tea_ver=<versione_ea (1 o 2)\n"
-#~ "\n"
-#~ "\tea_ver=<versione_ea (1 o 2)\n"
-#~ "\n"
-
 #~ msgid "Couldn't find ext2 superblock,"
 #~ msgstr "Impossibile trovare il superblocco ext2"
 
@@ -4809,13 +4717,6 @@ msgstr ""
 #~ msgstr "ioctl BLKGETSIZE"
 
 #~ msgid ""
-#~ "\n"
-#~ "The filesystem already has sparse superblocks disabled.\n"
-#~ msgstr ""
-#~ "\n"
-#~ "Il filesystem ha gi dei superblocchi sparsi disattivati.\n"
-
-#~ msgid ""
 #~ "%s is mounted; can't resize a mounted filesystem!\n"
 #~ "\n"
 #~ msgstr ""
Files e2fsprogs-1.40.7/po/nl.gmo and e2fsprogs/po/nl.gmo differ
diff -Nurp e2fsprogs-1.40.7/po/nl.po e2fsprogs/po/nl.po
--- e2fsprogs-1.40.7/po/nl.po	2008-02-29 02:46:22.000000000 +0000
+++ e2fsprogs/po/nl.po	2008-02-29 11:23:57.000000000 +0000
@@ -65,7 +65,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: e2fsprogs-1.40.6\n"
 "Report-Msgid-Bugs-To: tytso@alum.mit.edu\n"
-"POT-Creation-Date: 2008-02-28 21:45-0500\n"
+"POT-Creation-Date: 2008-02-09 23:16-0500\n"
 "PO-Revision-Date: 2008-02-13 12:15+0100\n"
 "Last-Translator: Benno Schulenberg <benno@vertaalt.nl>\n"
 "Language-Team: Dutch <vertaling@vrijschrift.org>\n"
@@ -75,7 +75,7 @@ msgstr ""
 "X-Generator: KBabel 1.11.4\n"
 "Plural-Forms: nplurals=2; plural=(n != 1);\n"
 
-#: e2fsck/badblocks.c:22 misc/mke2fs.c:157
+#: e2fsck/badblocks.c:22 misc/mke2fs.c:156
 #, c-format
 msgid "Bad block %u out of range; ignored.\n"
 msgstr "Slecht blok %u ligt buiten bereik; genegeerd.\n"
@@ -89,10 +89,10 @@ msgid "while reading the bad blocks inod
 msgstr "tijdens lezen van de slechte-blokken-inode"
 
 #: e2fsck/badblocks.c:71 e2fsck/iscan.c:112 e2fsck/scantest.c:109
-#: e2fsck/unix.c:1010 e2fsck/unix.c:1093 misc/badblocks.c:1025
+#: e2fsck/unix.c:992 e2fsck/unix.c:1075 misc/badblocks.c:1025
 #: misc/badblocks.c:1033 misc/badblocks.c:1047 misc/badblocks.c:1059
-#: misc/dumpe2fs.c:483 misc/e2image.c:571 misc/e2image.c:664
-#: misc/e2image.c:680 misc/mke2fs.c:173 misc/tune2fs.c:916 resize/main.c:296
+#: misc/dumpe2fs.c:400 misc/e2image.c:571 misc/e2image.c:664
+#: misc/e2image.c:680 misc/mke2fs.c:172 misc/tune2fs.c:851 resize/main.c:296
 #, c-format
 msgid "while trying to open %s"
 msgstr "tijdens openen van %s"
@@ -102,19 +102,18 @@ msgstr "tijdens openen van %s"
 msgid "while trying popen '%s'"
 msgstr "tijdens een popen() van %s"
 
-#: e2fsck/badblocks.c:93 misc/mke2fs.c:180
+#: e2fsck/badblocks.c:93 misc/mke2fs.c:179
 msgid "while reading in list of bad blocks from file"
 msgstr "tijdens lezen van lijst van slechte blokken uit bestand"
 
-#: e2fsck/badblocks.c:104
+#: e2fsck/badblocks.c:103
 msgid "while updating bad block inode"
 msgstr "tijdens bijwerken van de inode van een slecht blok"
 
-#: e2fsck/badblocks.c:130
+#: e2fsck/badblocks.c:129
 #, c-format
 msgid "Warning: illegal block %u found in bad block inode.  Cleared.\n"
-msgstr ""
-"Waarschuwing: ongeldig blok %u gevonden in inode van slecht blok.  Gewist.\n"
+msgstr "Waarschuwing: ongeldig blok %u gevonden in inode van slecht blok.  Gewist.\n"
 
 #: e2fsck/ehandler.c:53
 #, c-format
@@ -180,8 +179,7 @@ msgstr "Gebruik:  %s schijfnaam\n"
 #: e2fsck/flushb.c:63
 #, c-format
 msgid "BLKFLSBUF ioctl not supported!  Can't flush buffers.\n"
-msgstr ""
-"ioctl(BLKFLSBUF) wordt niet ondersteund!  Kan buffers niet leegmaken.\n"
+msgstr "ioctl(BLKFLSBUF) wordt niet ondersteund!  Kan buffers niet leegmaken.\n"
 
 #: e2fsck/iscan.c:46
 #, c-format
@@ -460,7 +458,7 @@ msgstr "*interne fout*: kan de record va
 msgid "internal error: couldn't lookup EA inode record for %u"
 msgstr "*interne fout*: kan de record van EA-inodes voor %u niet opvragen"
 
-#: e2fsck/pass1.c:404 e2fsck/pass2.c:770
+#: e2fsck/pass1.c:404 e2fsck/pass2.c:779
 msgid "reading directory block"
 msgstr "tijdens lezen van mapblok"
 
@@ -529,7 +527,7 @@ msgstr "inode-bitkaart"
 msgid "inode table"
 msgstr "inodetabel"
 
-#: e2fsck/pass2.c:283
+#: e2fsck/pass2.c:292
 msgid "Pass 2"
 msgstr "Stap 2"
 
@@ -881,15 +879,12 @@ msgstr "Het externe journal ondersteunt 
 #: e2fsck/problem.c:212
 msgid ""
 "Ext3 @j @S is unknown type %N (unsupported).\n"
-"It is likely that your copy of e2fsck is old and/or doesn't support this @j "
-"format.\n"
+"It is likely that your copy of e2fsck is old and/or doesn't support this @j format.\n"
 "It is also possible the @j @S is corrupt.\n"
 msgstr ""
 "Superblok van ext3-journal is van onbekend en niet-ondersteund type %N.\n"
-"Waarschijnlijk gebruikt u een ouder e2fsck-programma dat deze journal-"
-"indeling\n"
-"niet ondersteunt.  Het kan ook zijn dat het journal-superblok beschadigd "
-"is.\n"
+"Waarschijnlijk gebruikt u een ouder e2fsck-programma dat deze journal-indeling\n"
+"niet ondersteunt.  Het kan ook zijn dat het journal-superblok beschadigd is.\n"
 
 #. @-expanded: Ext3 journal superblock is corrupt.\n
 #: e2fsck/problem.c:220
@@ -900,8 +895,7 @@ msgstr "Het superblok van het ext3-journ
 #: e2fsck/problem.c:225
 #, c-format
 msgid "@S doesn't have has_@j flag, but has ext3 @j %s.\n"
-msgstr ""
-"Superblok heeft geen journalvlag gezet, maar heeft wel een ext3-journal %s.\n"
+msgstr "Superblok heeft geen journalvlag gezet, maar heeft wel een ext3-journal %s.\n"
 
 #. @-expanded: superblock has ext3 needs_recovery flag set, but no journal.\n
 #: e2fsck/problem.c:230
@@ -965,14 +959,12 @@ msgstr "Bestandssysteem is een versie 0,
 #. @-expanded: Ext3 journal superblock has an unknown read-only feature flag set.\n
 #: e2fsck/problem.c:285
 msgid "Ext3 @j @S has an unknown read-only feature flag set.\n"
-msgstr ""
-"Journal-superblok heeft een onbekende alleen-lezen-functievlag gezet.\n"
+msgstr "Journal-superblok heeft een onbekende alleen-lezen-functievlag gezet.\n"
 
 #. @-expanded: Ext3 journal superblock has an unknown incompatible feature flag set.\n
 #: e2fsck/problem.c:290
 msgid "Ext3 @j @S has an unknown incompatible feature flag set.\n"
-msgstr ""
-"Journal-superblok heeft een onbekende en incompatibele functievlag gezet.\n"
+msgstr "Journal-superblok heeft een onbekende en incompatibele functievlag gezet.\n"
 
 #. @-expanded: journal version not supported by this e2fsck.\n
 #: e2fsck/problem.c:295
@@ -1037,8 +1029,7 @@ msgstr ""
 #. @-expanded: Resize_inode not enabled, but the resize inode is non-zero.  
 #: e2fsck/problem.c:327
 msgid "Resize_@i not enabled, but the resize @i is non-zero.  "
-msgstr ""
-"'Resize_inode'-vlag is niet gezet, maar de 'resize'-inode is niet nul.  "
+msgstr "'Resize_inode'-vlag is niet gezet, maar de 'resize'-inode is niet nul.  "
 
 #. @-expanded: Resize inode not valid.  
 #: e2fsck/problem.c:332
@@ -1084,9 +1075,7 @@ msgstr "De root-inode is geen map.  "
 #. @-expanded: root inode has dtime set (probably due to old mke2fs).  
 #: e2fsck/problem.c:367
 msgid "@r has dtime set (probably due to old mke2fs).  "
-msgstr ""
-"De verwijderingstijd van de root-inode is niet nul (waarschijnlijk "
-"veroorzaakt door een oude mke2fs).  "
+msgstr "De verwijderingstijd van de root-inode is niet nul (waarschijnlijk veroorzaakt door een oude mke2fs).  "
 
 #. @-expanded: Reserved inode %i (%Q) has invalid mode.  
 #: e2fsck/problem.c:372
@@ -1114,14 +1103,12 @@ msgstr "Inode %i is een map met lengte n
 #. @-expanded: group %g's block bitmap at %b conflicts with some other fs block.\n
 #: e2fsck/problem.c:392
 msgid "@g %g's @b @B at %b @C.\n"
-msgstr ""
-"De blok-bitkaart van groep %g botst bij %b met een bestandssysteemblok.\n"
+msgstr "De blok-bitkaart van groep %g botst bij %b met een bestandssysteemblok.\n"
 
 #. @-expanded: group %g's inode bitmap at %b conflicts with some other fs block.\n
 #: e2fsck/problem.c:397
 msgid "@g %g's @i @B at %b @C.\n"
-msgstr ""
-"De inode-bitkaart van groep %g botst bij %b met een bestandssysteemblok.\n"
+msgstr "De inode-bitkaart van groep %g botst bij %b met een bestandssysteemblok.\n"
 
 #. @-expanded: group %g's inode table at %b conflicts with some other fs block.\n
 #: e2fsck/problem.c:402
@@ -1188,9 +1175,7 @@ msgstr "Een dubbel of slecht blok is in 
 #. @-expanded: Bad block %b used as bad block inode indirect block.  
 #: e2fsck/problem.c:462
 msgid "Bad @b %b used as bad @b @i indirect @b.  "
-msgstr ""
-"Slecht blok %b is in gebruik als indirect blok voor de slechte-blokken-"
-"inode.  "
+msgstr "Slecht blok %b is in gebruik als indirect blok voor de slechte-blokken-inode.  "
 
 #. @-expanded: \n
 #. @-expanded: The bad block inode has probably been corrupted.  You probably\n
@@ -1216,8 +1201,7 @@ msgid ""
 "If the @b is really bad, the @f can not be fixed.\n"
 msgstr ""
 "\n"
-"Als het blok echt slecht is, kan het bestandssysteem niet gerepareerd "
-"worden.\n"
+"Als het blok echt slecht is, kan het bestandssysteem niet gerepareerd worden.\n"
 
 #. @-expanded: You can remove this block from the bad block list and hope\n
 #. @-expanded: that the block is really OK.  But there are no guarantees.\n
@@ -1240,8 +1224,7 @@ msgstr "Het primaire superblok (%b) staa
 #. @-expanded: Block %b in the primary group descriptors is on the bad block list\n
 #: e2fsck/problem.c:490
 msgid "Block %b in the primary @g descriptors is on the bad @b list\n"
-msgstr ""
-"Een groepsbeschrijversblok (%b) staat in de lijst van slechte blokken.\n"
+msgstr "Een groepsbeschrijversblok (%b) staat in de lijst van slechte blokken.\n"
 
 #. @-expanded: Warning: Group %g's superblock (%b) is bad.\n
 #: e2fsck/problem.c:496
@@ -1251,21 +1234,17 @@ msgstr "Waarschuwing: groep %g heeft een
 #. @-expanded: Warning: Group %g's copy of the group descriptors has a bad block (%b).\n
 #: e2fsck/problem.c:501
 msgid "Warning: Group %g's copy of the @g descriptors has a bad @b (%b).\n"
-msgstr ""
-"Waarschuwing: groep %g bevat een slecht blok (%b) in de groepsbeschrijvers.\n"
+msgstr "Waarschuwing: groep %g bevat een slecht blok (%b) in de groepsbeschrijvers.\n"
 
 #. @-expanded: Programming error?  block #%b claimed for no reason in process_bad_block.\n
 #: e2fsck/problem.c:507
 msgid "Programming error?  @b #%b claimed for no reason in process_bad_@b.\n"
-msgstr ""
-"Interne fout?: blok %b is zonder reden geclaimd in process_bad_block().\n"
+msgstr "Interne fout?: blok %b is zonder reden geclaimd in process_bad_block().\n"
 
 #. @-expanded: error allocating %N contiguous block(s) in block group %g for %s: %m\n
 #: e2fsck/problem.c:513
 msgid "@A %N contiguous @b(s) in @b @g %g for %s: %m\n"
-msgstr ""
-"Fout tijdens reserveren van %N aaneengsloten blokken in groep %g voor %s: %"
-"m\n"
+msgstr "Fout tijdens reserveren van %N aaneengsloten blokken in groep %g voor %s: %m\n"
 
 #. @-expanded: error allocating block buffer for relocating %s\n
 #: e2fsck/problem.c:518
@@ -1337,9 +1316,7 @@ msgstr "Fout tijdens opslaan van inodeta
 #. @-expanded: Error storing directory block information (inode=%i, block=%b, num=%N): %m\n
 #: e2fsck/problem.c:578
 msgid "Error storing @d @b information (@i=%i, @b=%b, num=%N): %m\n"
-msgstr ""
-"Fout tijdens opslaan van mapblokkeninformatie (inode=%i, blok=%b, aantal=%"
-"N): %m\n"
+msgstr "Fout tijdens opslaan van mapblokkeninformatie (inode=%i, blok=%b, aantal=%N): %m\n"
 
 #. @-expanded: Error reading inode %i: %m\n
 #: e2fsck/problem.c:584
@@ -1368,9 +1345,7 @@ msgstr ""
 #: e2fsck/problem.c:603
 #, c-format
 msgid "@i %i has @cion flag set on @f without @cion support.  "
-msgstr ""
-"Inode %i heeft de compressievlag gezet op een bestandssysteem zonder "
-"compressie-ondersteuning.  "
+msgstr "Inode %i heeft de compressievlag gezet op een bestandssysteem zonder compressie-ondersteuning.  "
 
 #. @-expanded: Special (device/socket/fifo) inode %i has non-zero size.  
 #: e2fsck/problem.c:608
@@ -1397,9 +1372,7 @@ msgstr "Inode %i was deel van de lijst v
 #. @-expanded: inodes that were part of a corrupted orphan linked list found.  
 #: e2fsck/problem.c:634
 msgid "@is that were part of a corrupted orphan linked list found.  "
-msgstr ""
-"Inodes gevonden die deel waren van een beschadigde lijst van verweesde "
-"inodes.  "
+msgstr "Inodes gevonden die deel waren van een beschadigde lijst van verweesde inodes.  "
 
 #. @-expanded: error allocating refcount structure (%N): %m\n
 #: e2fsck/problem.c:639
@@ -1409,8 +1382,7 @@ msgstr "Fout tijdens reserveren van 'ref
 #. @-expanded: Error reading extended attribute block %b for inode %i.  
 #: e2fsck/problem.c:644
 msgid "Error reading @a @b %b for @i %i.  "
-msgstr ""
-"Fout tijdens lezen van blok %b met uitgebreide kenmerken voor inode %i.  "
+msgstr "Fout tijdens lezen van blok %b met uitgebreide kenmerken voor inode %i.  "
 
 #. @-expanded: inode %i has a bad extended attribute block %b.  
 #: e2fsck/problem.c:649
@@ -1425,9 +1397,7 @@ msgstr "Fout tijdens lezen van blok %b m
 #. @-expanded: extended attribute block %b has reference count %B, should be %N.  
 #: e2fsck/problem.c:659
 msgid "@a @b %b has reference count %B, @s %N.  "
-msgstr ""
-"Blok %b met uitgebreide kenmerken heeft verwijzingstal %B, zou %N moeten "
-"zijn.  "
+msgstr "Blok %b met uitgebreide kenmerken heeft verwijzingstal %B, zou %N moeten zijn.  "
 
 #. @-expanded: Error writing extended attribute block %b (%m).  
 #: e2fsck/problem.c:664
@@ -1447,8 +1417,7 @@ msgstr "Fout tijdens reserveren van blok
 #. @-expanded: extended attribute block %b is corrupt (allocation collision).  
 #: e2fsck/problem.c:679
 msgid "@a @b %b is corrupt (allocation collision).  "
-msgstr ""
-"Blok %b met uitgebreide kenmerken is beschadigd (reserveringsoverlap).  "
+msgstr "Blok %b met uitgebreide kenmerken is beschadigd (reserveringsoverlap).  "
 
 #. @-expanded: extended attribute block %b is corrupt (invalid name).  
 #: e2fsck/problem.c:684
@@ -1485,9 +1454,7 @@ msgstr "Blok #%B (%b) maakt symbolische 
 #: e2fsck/problem.c:713
 #, c-format
 msgid "@i %i has INDEX_FL flag set on @f without htree support.\n"
-msgstr ""
-"Inode %i heeft de 'index_fl'-vlag gezet op een bestandssysteem zonder "
-"'htree'-ondersteuning.\n"
+msgstr "Inode %i heeft de 'index_fl'-vlag gezet op een bestandssysteem zonder 'htree'-ondersteuning.\n"
 
 #. @-expanded: inode %i has INDEX_FL flag set but is not a directory.\n
 #: e2fsck/problem.c:718
@@ -1504,8 +1471,7 @@ msgstr "Inode %i van 'htree'-map heeft e
 #. @-expanded: HTREE directory inode %i has an unsupported hash version (%N)\n
 #: e2fsck/problem.c:728
 msgid "@h %i has an unsupported hash version (%N)\n"
-msgstr ""
-"Inode %i van 'htree'-map gebruikt een niet-ondersteunde hash-versie (%N).\n"
+msgstr "Inode %i van 'htree'-map gebruikt een niet-ondersteunde hash-versie (%N).\n"
 
 #. @-expanded: HTREE directory inode %i uses an incompatible htree root node flag.\n
 #: e2fsck/problem.c:733
@@ -1542,40 +1508,32 @@ msgstr "Inode %i heeft een ongeldige ext
 #. @-expanded: extended attribute in inode %i has a namelen (%N) which is invalid\n
 #: e2fsck/problem.c:759
 msgid "@a in @i %i has a namelen (%N) which is @n\n"
-msgstr ""
-"Een uitgebreid kenmerk in inode %i heeft een ongeldige naamlengte (%N).\n"
+msgstr "Een uitgebreid kenmerk in inode %i heeft een ongeldige naamlengte (%N).\n"
 
 #. @-expanded: extended attribute in inode %i has a value size (%N) which is invalid\n
 #: e2fsck/problem.c:764
 msgid "@a in @i %i has a value size (%N) which is @n\n"
-msgstr ""
-"Een uitgebreid kenmerk in inode %i heeft een ongeldige waardegrootte (%N).\n"
+msgstr "Een uitgebreid kenmerk in inode %i heeft een ongeldige waardegrootte (%N).\n"
 
 #. @-expanded: extended attribute in inode %i has a value offset (%N) which is invalid\n
 #: e2fsck/problem.c:769
 msgid "@a in @i %i has a value offset (%N) which is @n\n"
-msgstr ""
-"Een uitgebreid kenmerk in inode %i heeft een ongeldige waardeoffset (%N).\n"
+msgstr "Een uitgebreid kenmerk in inode %i heeft een ongeldige waardeoffset (%N).\n"
 
 #. @-expanded: extended attribute in inode %i has a value block (%N) which is invalid (must be 0)\n
 #: e2fsck/problem.c:774
 msgid "@a in @i %i has a value @b (%N) which is @n (must be 0)\n"
-msgstr ""
-"Een uitgebreid kenmerk in inode %i heeft een ongeldig waardeblok (%N, moet 0 "
-"zijn).\n"
+msgstr "Een uitgebreid kenmerk in inode %i heeft een ongeldig waardeblok (%N, moet 0 zijn).\n"
 
 #. @-expanded: extended attribute in inode %i has a hash (%N) which is invalid (must be 0)\n
 #: e2fsck/problem.c:779
 msgid "@a in @i %i has a hash (%N) which is @n (must be 0)\n"
-msgstr ""
-"Een uitgebreid kenmerk in inode %i heeft een ongeldige hashwaarde (%N, moet "
-"0 zijn).\n"
+msgstr "Een uitgebreid kenmerk in inode %i heeft een ongeldige hashwaarde (%N, moet 0 zijn).\n"
 
 #. @-expanded: inode %i is a %It but it looks like it is really a directory.\n
 #: e2fsck/problem.c:784
 msgid "@i %i is a %It but it looks like it is really a directory.\n"
-msgstr ""
-"Inode %i is gemarkeerd als een %It, maar lijkt feitelijk een map te zijn.\n"
+msgstr "Inode %i is gemarkeerd als een %It, maar lijkt feitelijk een map te zijn.\n"
 
 #. @-expanded: \n
 #. @-expanded: Running additional passes to resolve blocks claimed by more than one inode...\n
@@ -1617,15 +1575,12 @@ msgstr "Fout tijdens langslopen van blok
 #. @-expanded: Error adjusting refcount for extended attribute block %b (inode %i): %m\n
 #: e2fsck/problem.c:827 e2fsck/problem.c:1143
 msgid "Error adjusting refcount for @a @b %b (@i %i): %m\n"
-msgstr ""
-"Fout tijdens bijstellen van verwijzingstal van blok %b met uitgebreide "
-"kenmerken (inode %i): %m\n"
+msgstr "Fout tijdens bijstellen van verwijzingstal van blok %b met uitgebreide kenmerken (inode %i): %m\n"
 
 #. @-expanded: Pass 1C: Scanning directories for inodes with multiply-claimed blocks\n
 #: e2fsck/problem.c:833
 msgid "Pass 1C: Scanning directories for @is with @m @bs\n"
-msgstr ""
-"Stap 1C: Doorzoeken van mappen naar inodes met meervoudig-geclaimde blokken\n"
+msgstr "Stap 1C: Doorzoeken van mappen naar inodes met meervoudig-geclaimde blokken\n"
 
 #. @-expanded: Pass 1D: Reconciling multiply-claimed blocks\n
 #: e2fsck/problem.c:839
@@ -1914,9 +1869,7 @@ msgstr "Blok van uitgebreide kenmerken @
 #. @-expanded: filesystem contains large files, but lacks LARGE_FILE flag in superblock.\n
 #: e2fsck/problem.c:1109
 msgid "@f contains large files, but lacks LARGE_FILE flag in @S.\n"
-msgstr ""
-"Bestandssysteem bevat grote bestanden, maar heeft in het superblok niet de "
-"'large-file'-vlag gezet.\n"
+msgstr "Bestandssysteem bevat grote bestanden, maar heeft in het superblok niet de 'large-file'-vlag gezet.\n"
 
 #. @-expanded: problem in HTREE directory inode %d: node (%B) not referenced\n
 #: e2fsck/problem.c:1114
@@ -1931,14 +1884,12 @@ msgstr "Probleem in 'htree'-map %d: naar
 #. @-expanded: problem in HTREE directory inode %d: node (%B) has bad min hash\n
 #: e2fsck/problem.c:1124
 msgid "@p @h %d: node (%B) has bad min hash\n"
-msgstr ""
-"Probleem in 'htree'-map %d: node %B heeft een ongeldige minimum hash.\n"
+msgstr "Probleem in 'htree'-map %d: node %B heeft een ongeldige minimum hash.\n"
 
 #. @-expanded: problem in HTREE directory inode %d: node (%B) has bad max hash\n
 #: e2fsck/problem.c:1129
 msgid "@p @h %d: node (%B) has bad max hash\n"
-msgstr ""
-"Probleem in 'htree'-map %d: node %B heeft een ongeldige maximum hash.\n"
+msgstr "Probleem in 'htree'-map %d: node %B heeft een ongeldige maximum hash.\n"
 
 #. @-expanded: invalid HTREE directory inode %d (%q).  
 #: e2fsck/problem.c:1134
@@ -1969,8 +1920,7 @@ msgstr "Probleem in 'htree'-map %d: node
 #. @-expanded: problem in HTREE directory inode %d: node (%B) has an unordered hash table\n
 #: e2fsck/problem.c:1163
 msgid "@p @h %d: node (%B) has an unordered hash table\n"
-msgstr ""
-"Probleem in 'htree'-map %d: node %B heeft een ongeordende hash-tabel.\n"
+msgstr "Probleem in 'htree'-map %d: node %B heeft een ongeordende hash-tabel.\n"
 
 #. @-expanded: problem in HTREE directory inode %d: node (%B) has invalid depth\n
 #: e2fsck/problem.c:1168
@@ -2045,8 +1995,7 @@ msgstr "'..' in %Q (%i) is %P (%j), moet
 #. @-expanded: Bad or non-existent /lost+found.  Cannot reconnect.\n
 #: e2fsck/problem.c:1225
 msgid "Bad or non-existent /@l.  Cannot reconnect.\n"
-msgstr ""
-"Beschadigde of niet-bestaande /lost+found.  Kan inode niet herverbinden.\n"
+msgstr "Beschadigde of niet-bestaande /lost+found.  Kan inode niet herverbinden.\n"
 
 #. @-expanded: Could not expand /lost+found: %m\n
 #: e2fsck/problem.c:1230
@@ -2087,8 +2036,7 @@ msgstr "ext2fs_new_dir_block(): %m tijde
 #: e2fsck/problem.c:1260
 #, c-format
 msgid "ext2fs_write_dir_@b: %m while writing the @d @b for /@l\n"
-msgstr ""
-"ext2fs_write_dir_block(): %m tijdens maken van mapblok voor /lost+found\n"
+msgstr "ext2fs_write_dir_block(): %m tijdens maken van mapblok voor /lost+found\n"
 
 #. @-expanded: Error while adjusting inode count on inode %i\n
 #: e2fsck/problem.c:1265
@@ -2115,8 +2063,7 @@ msgid ""
 "Couldn't fix parent of @i %i: Couldn't find parent @d @e\n"
 "\n"
 msgstr ""
-"Kan ouderverwijzing van inode %i niet herstellen: kan de oudermap niet "
-"vinden.\n"
+"Kan ouderverwijzing van inode %i niet herstellen: kan de oudermap niet vinden.\n"
 "\n"
 
 #. @-expanded: Error creating root directory (%s): %m\n
@@ -2253,12 +2200,8 @@ msgstr "Verkeerd aantal blokken (%b, get
 #. @-expanded: PROGRAMMING ERROR: filesystem (#%N) bitmap endpoints (%b, %c) don't match calculated bitmap 
 #. @-expanded: endpoints (%i, %j)\n
 #: e2fsck/problem.c:1458
-msgid ""
-"PROGRAMMING ERROR: @f (#%N) @B endpoints (%b, %c) don't match calculated @B "
-"endpoints (%i, %j)\n"
-msgstr ""
-"PROGRAMMAFOUT in e2fsck: in bestandssysteem %N komen de bitkaart-eindpunten "
-"(%b, %c) niet overeen met de berekende eindpunten (%i, %j)\n"
+msgid "PROGRAMMING ERROR: @f (#%N) @B endpoints (%b, %c) don't match calculated @B endpoints (%i, %j)\n"
+msgstr "PROGRAMMAFOUT in e2fsck: in bestandssysteem %N komen de bitkaart-eindpunten (%b, %c) niet overeen met de berekende eindpunten (%i, %j)\n"
 
 #: e2fsck/problem.c:1464
 msgid "Internal error: fudging end of bitmap (%N)\n"
@@ -2386,8 +2329,7 @@ msgid ""
 " -p                   Automatic repair (no questions)\n"
 " -n                   Make no changes to the filesystem\n"
 " -y                   Assume \"yes\" to all questions\n"
-" -c                   Check for bad blocks and add them to the badblock "
-"list\n"
+" -c                   Check for bad blocks and add them to the badblock list\n"
 " -f                   Force checking even if filesystem is marked clean\n"
 msgstr ""
 "\n"
@@ -2412,8 +2354,7 @@ msgstr ""
 " -b superblok        Dit superblok gebruiken\n"
 " -B blokgrootte      Deze blokgrootte gebruiken bij zoeken naar superblok\n"
 " -j extern_journal   Dit externe journal gebruiken\n"
-" -l slechte_blokkenbestand   Deze lijst aan de slechte_blokkenlijst "
-"toevoegen\n"
+" -l slechte_blokkenbestand   Deze lijst aan de slechte_blokkenlijst toevoegen\n"
 " -L slechte_blokkenbestand   Deze slechte_blokkenlijst gebruiken\n"
 
 #: e2fsck/unix.c:121
@@ -2426,7 +2367,7 @@ msgstr "%s: %u/%u bestanden (%0d.%d%% ni
 msgid "         # of inodes with ind/dind/tind blocks: %u/%u/%u\n"
 msgstr "         aantal inodes met ind/dind/tind-blokken: %u/%u/%u\n"
 
-#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:941 misc/util.c:151
+#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:876 misc/util.c:151
 #: resize/main.c:237
 #, c-format
 msgid "while determining whether %s is mounted."
@@ -2485,9 +2426,7 @@ msgstr " is niet goed ontkoppeld"
 
 #: e2fsck/unix.c:284
 msgid " primary superblock features different from backup"
-msgstr ""
-" het primaire superblok heeft andere functievlaggen gezet dan de "
-"reserveblokken"
+msgstr " het primaire superblok heeft andere functievlaggen gezet dan de reserveblokken"
 
 #: e2fsck/unix.c:288
 #, c-format
@@ -2566,10 +2505,9 @@ msgstr "De optie '-t' wordt niet onderst
 #: e2fsck/unix.c:747
 #, c-format
 msgid "Byte-swapping filesystems not compiled in this version of e2fsck\n"
-msgstr ""
-"Byte-verwisseling wordt niet ondersteund door deze versie van e2fsck.\n"
+msgstr "Byte-verwisseling wordt niet ondersteund door deze versie van e2fsck.\n"
 
-#: e2fsck/unix.c:770 misc/tune2fs.c:504 misc/tune2fs.c:769 misc/tune2fs.c:786
+#: e2fsck/unix.c:770 misc/tune2fs.c:470 misc/tune2fs.c:735 misc/tune2fs.c:752
 #, c-format
 msgid "Unable to resolve '%s'"
 msgstr "Kan apparaat '%s' niet vinden."
@@ -2604,38 +2542,38 @@ msgstr ""
 "Ongeldig niet-numeriek argument van '-%c': \"%s\"\n"
 "\n"
 
-#: e2fsck/unix.c:905
+#: e2fsck/unix.c:904
 #, c-format
 msgid "Error: ext2fs library version out of date!\n"
 msgstr "Fout: de ext2fs-bibliotheek is te oud!\n"
 
-#: e2fsck/unix.c:913
+#: e2fsck/unix.c:912
 msgid "while trying to initialize program"
 msgstr "tijdens programma-initialisatie"
 
-#: e2fsck/unix.c:927
+#: e2fsck/unix.c:926
 #, c-format
 msgid "\tUsing %s, %s\n"
 msgstr "\tgebruik makend van %s, %s\n"
 
-#: e2fsck/unix.c:939
+#: e2fsck/unix.c:938
 msgid "need terminal for interactive repairs"
 msgstr "voor interactieve reparaties is een terminal vereist"
 
-#: e2fsck/unix.c:983
+#: e2fsck/unix.c:978
 #, c-format
 msgid "%s: %s trying backup blocks...\n"
 msgstr "%s: %s reservekopieblokken worden bekeken...\n"
 
-#: e2fsck/unix.c:985
+#: e2fsck/unix.c:980
 msgid "Superblock invalid,"
 msgstr "Superblok is ongeldig --"
 
-#: e2fsck/unix.c:986
+#: e2fsck/unix.c:981
 msgid "Group descriptors look bad..."
 msgstr "Groepsbeschrijvers zien er slecht uit --"
 
-#: e2fsck/unix.c:1013
+#: e2fsck/unix.c:995
 #, c-format
 msgid ""
 "The filesystem revision is apparently too high for this version of e2fsck.\n"
@@ -2646,29 +2584,27 @@ msgstr ""
 "(Of het superblok is beschadigd.)\n"
 "\n"
 
-#: e2fsck/unix.c:1019
+#: e2fsck/unix.c:1001
 #, c-format
 msgid "Could this be a zero-length partition?\n"
 msgstr "Is dit misschien een partitie met lengte nul?\n"
 
-#: e2fsck/unix.c:1021
+#: e2fsck/unix.c:1003
 #, c-format
 msgid "You must have %s access to the filesystem or be root\n"
-msgstr ""
-"U dient %s-toegang tot het bestandssyteem te hebben, of root te zijn.\n"
+msgstr "U dient %s-toegang tot het bestandssyteem te hebben, of root te zijn.\n"
 
-#: e2fsck/unix.c:1026
+#: e2fsck/unix.c:1008
 #, c-format
 msgid "Possibly non-existent or swap device?\n"
 msgstr "Mogelijk een niet-bestaand apparaat of een swap-apparaat?\n"
 
-#: e2fsck/unix.c:1028
+#: e2fsck/unix.c:1010
 #, c-format
 msgid "Filesystem mounted or opened exclusively by another program?\n"
-msgstr ""
-"Bestandssysteem exclusief aangekoppeld of geopend door een ander programma?\n"
+msgstr "Bestandssysteem exclusief aangekoppeld of geopend door een ander programma?\n"
 
-#: e2fsck/unix.c:1032
+#: e2fsck/unix.c:1014
 #, c-format
 msgid ""
 "Disk write-protected; use the -n option to do a read-only\n"
@@ -2677,45 +2613,37 @@ msgstr ""
 "De schijf is schrijfbeveiligd.  Gebruik de optie '-n' om een\n"
 "alleen-lezencontrole van het apparaat uit te voeren.\n"
 
-#: e2fsck/unix.c:1096
+#: e2fsck/unix.c:1078
 msgid "Get a newer version of e2fsck!"
 msgstr "Installeer een nieuwere versie van e2fsck!"
 
-#: e2fsck/unix.c:1117
+#: e2fsck/unix.c:1099
 #, c-format
 msgid "while checking ext3 journal for %s"
 msgstr "tijdens controle van het ext3-journal van %s"
 
-#: e2fsck/unix.c:1128
+#: e2fsck/unix.c:1110
 #, c-format
-msgid ""
-"Warning: skipping journal recovery because doing a read-only filesystem "
-"check.\n"
+msgid "Warning: skipping journal recovery because doing a read-only filesystem check.\n"
 msgstr ""
 "Waarschuwing: afspelen van journal wordt overgeslagen\n"
 "omdat een alleen-lezencontrole uitgevoerd wordt.\n"
 
-#: e2fsck/unix.c:1141
+#: e2fsck/unix.c:1123
 #, c-format
 msgid "unable to set superblock flags on %s\n"
 msgstr "Kan superblokvlaggen van %s niet zetten.\n"
 
-#: e2fsck/unix.c:1147
+#: e2fsck/unix.c:1129
 #, c-format
 msgid "while recovering ext3 journal of %s"
 msgstr "tijdens afspelen van het ext3-journal van %s"
 
-#: e2fsck/unix.c:1171
-#, fuzzy, c-format
-msgid "%s has unsupported feature(s):"
-msgstr ""
-"Bestandssysteem %s heeft functies ingeschakeld die niet ondersteund worden.\n"
-
-#: e2fsck/unix.c:1187
+#: e2fsck/unix.c:1158
 msgid "Warning: compression support is experimental.\n"
 msgstr "Waarschuwing: compressie-ondersteuning is nog experimenteel.\n"
 
-#: e2fsck/unix.c:1192
+#: e2fsck/unix.c:1163
 #, c-format
 msgid ""
 "E2fsck not compiled with HTREE support,\n"
@@ -2724,30 +2652,30 @@ msgstr ""
 "Deze e2fsck is niet gecompileerd met 'htree'-ondersteuning,\n"
 "maar het bestandssysteem %s bevat 'htree'-mappen.\n"
 
-#: e2fsck/unix.c:1241
+#: e2fsck/unix.c:1212
 #, c-format
 msgid "%s: Filesystem byte order already normalized.\n"
 msgstr "%s: bytevolgorde van bestandssysteem is al genormaliseerd.\n"
 
-#: e2fsck/unix.c:1261
+#: e2fsck/unix.c:1232
 msgid "while reading bad blocks inode"
 msgstr "tijdens lezen van slechte-blokken-inode"
 
-#: e2fsck/unix.c:1263
+#: e2fsck/unix.c:1234
 #, c-format
 msgid "This doesn't bode well, but we'll try to go on...\n"
 msgstr "Dit ziet er niet goed uit, maar we zullen doorgaan...\n"
 
-#: e2fsck/unix.c:1289
+#: e2fsck/unix.c:1260
 msgid "Couldn't determine journal size"
 msgstr "Kan journal-grootte niet bepalen"
 
-#: e2fsck/unix.c:1292 misc/mke2fs.c:1776
+#: e2fsck/unix.c:1263 misc/mke2fs.c:1744
 #, c-format
 msgid "Creating journal (%d blocks): "
 msgstr "Aanmaken van journal (%d blokken): "
 
-#: e2fsck/unix.c:1299 misc/mke2fs.c:1784
+#: e2fsck/unix.c:1270 misc/mke2fs.c:1752
 msgid ""
 "\n"
 "\twhile trying to create journal"
@@ -2755,40 +2683,39 @@ msgstr ""
 "\n"
 "    tijdens aanmaken van journal"
 
-#: e2fsck/unix.c:1302
+#: e2fsck/unix.c:1273
 #, c-format
 msgid " Done.\n"
 msgstr " voltooid.\n"
 
-#: e2fsck/unix.c:1303
+#: e2fsck/unix.c:1274
 #, c-format
 msgid ""
 "\n"
 "*** journal has been re-created - filesystem is now ext3 again ***\n"
 msgstr ""
 "\n"
-"*** journal is opnieuw aangemaakt -- het bestandssysteem is nu weer ext3 "
-"***\n"
+"*** journal is opnieuw aangemaakt -- het bestandssysteem is nu weer ext3 ***\n"
 
-#: e2fsck/unix.c:1310
+#: e2fsck/unix.c:1281
 #, c-format
 msgid "Restarting e2fsck from the beginning...\n"
 msgstr "E2fsck wordt opnieuw gestart vanaf het begin...\n"
 
-#: e2fsck/unix.c:1314
+#: e2fsck/unix.c:1285
 msgid "while resetting context"
 msgstr "tijdens wissen van de context"
 
-#: e2fsck/unix.c:1321
+#: e2fsck/unix.c:1292
 #, c-format
 msgid "%s: e2fsck canceled.\n"
 msgstr "%s: e2fsck is geannuleerd.\n"
 
-#: e2fsck/unix.c:1326
+#: e2fsck/unix.c:1297
 msgid "aborted"
 msgstr "afgebroken"
 
-#: e2fsck/unix.c:1338
+#: e2fsck/unix.c:1309
 #, c-format
 msgid ""
 "\n"
@@ -2797,12 +2724,12 @@ msgstr ""
 "\n"
 "%s: ***** BESTANDSSYSTEEM IS VERANDERD *****\n"
 
-#: e2fsck/unix.c:1341
+#: e2fsck/unix.c:1312
 #, c-format
 msgid "%s: ***** REBOOT LINUX *****\n"
 msgstr "%s: ***** HERSTART UW SYSTEEM *****\n"
 
-#: e2fsck/unix.c:1349
+#: e2fsck/unix.c:1320
 #, c-format
 msgid ""
 "\n"
@@ -2958,8 +2885,7 @@ msgstr "voltooid                        
 #, c-format
 msgid ""
 "Usage: %s [-b block_size] [-i input_file] [-o output_file] [-svwnf]\n"
-" [-c blocks_at_once] [-p num_passes] [-t test_pattern [-t test_pattern "
-"[...]]]\n"
+" [-c blocks_at_once] [-p num_passes] [-t test_pattern [-t test_pattern [...]]]\n"
 " device [last_block [start_block]]\n"
 msgstr ""
 "Gebruik:  %s [-b blokgrootte] [-i invoerbestand] [-o uitvoerbestand]\n"
@@ -2998,8 +2924,7 @@ msgstr "tijdens leegmaken van de buffers
 
 #: misc/badblocks.c:343 misc/badblocks.c:581
 msgid "while beginning bad block list iteration"
-msgstr ""
-"tijdens voorbereiding van het langslopen van de lijst met slechte blokken"
+msgstr "tijdens voorbereiding van het langslopen van de lijst met slechte blokken"
 
 #: misc/badblocks.c:357 misc/badblocks.c:447 misc/badblocks.c:591
 msgid "while allocating buffers"
@@ -3033,13 +2958,11 @@ msgstr "Lezen en vergelijken: "
 
 #: misc/badblocks.c:603
 msgid "Checking for bad blocks in non-destructive read-write mode\n"
-msgstr ""
-"Zoeken naar slechte blokken in niet-destructieve lezen-en-schrijven-modus\n"
+msgstr "Zoeken naar slechte blokken in niet-destructieve lezen-en-schrijven-modus\n"
 
 #: misc/badblocks.c:607
 msgid "Checking for bad blocks (non-destructive read-write test)\n"
-msgstr ""
-"Zoeken naar slechte blokken (niet-destructieve lezen-en-schrijven-test)\n"
+msgstr "Zoeken naar slechte blokken (niet-destructieve lezen-en-schrijven-test)\n"
 
 #: misc/badblocks.c:614
 msgid ""
@@ -3111,7 +3034,7 @@ msgstr "Kan de apparaatgrootte niet bepa
 msgid "while trying to determine device size"
 msgstr "tijdens bepalen van apparaatgrootte"
 
-#: misc/badblocks.c:996 misc/mke2fs.c:1255
+#: misc/badblocks.c:996 misc/mke2fs.c:1223
 #, c-format
 msgid "invalid blocks count - %s"
 msgstr "ongeldig blokkenaantal: %s"
@@ -3276,7 +3199,7 @@ msgstr "tijdens printen van lijst van sl
 msgid "Bad blocks: %u"
 msgstr "Slechte blokken: %u"
 
-#: misc/dumpe2fs.c:274 misc/tune2fs.c:261
+#: misc/dumpe2fs.c:274 misc/tune2fs.c:243
 msgid "while reading journal inode"
 msgstr "tijdens lezen van journal-inode"
 
@@ -3284,7 +3207,7 @@ msgstr "tijdens lezen van journal-inode"
 msgid "Journal size:             "
 msgstr "Grootte van journal:        "
 
-#: misc/dumpe2fs.c:296 misc/tune2fs.c:183
+#: misc/dumpe2fs.c:296 misc/tune2fs.c:165
 msgid "while reading journal superblock"
 msgstr "tijdens lezen van journal-superblok"
 
@@ -3316,58 +3239,22 @@ msgstr ""
 msgid "Journal users:            %s\n"
 msgstr "Journal-gebruikers:       %s\n"
 
-#: misc/dumpe2fs.c:337 misc/mke2fs.c:768 misc/tune2fs.c:810
-#, c-format
-msgid "Couldn't allocate memory to parse options!\n"
-msgstr "Kan geen geheugen reserveren om opties te ontleden!\n"
-
-#: misc/dumpe2fs.c:363
-#, fuzzy, c-format
-msgid "Invalid superblock parameter: %s\n"
-msgstr "Ongeldig argument van 'stride': %s\n"
-
-#: misc/dumpe2fs.c:378
-#, fuzzy, c-format
-msgid "Invalid blocksize parameter: %s\n"
-msgstr "Ongeldig argument van 'resize': %s\n"
-
-#: misc/dumpe2fs.c:389
-#, fuzzy, c-format
-msgid ""
-"\n"
-"Bad extended option(s) specified: %s\n"
-"\n"
-"Extended options are separated by commas, and may take an argument which\n"
-"\tis set off by an equals ('=') sign.\n"
-"\n"
-"Valid extended options are:\n"
-"\tsuperblock=<superblock number>\n"
-"\tblocksize=<blocksize>\n"
-msgstr ""
-"\n"
-"Ongeldige opties opgegeven.\n"
-"\n"
-"Geldige uitgebreide opties zijn:\n"
-"    test_fs\n"
-"    ^test_fs\n"
-"\n"
-
-#: misc/dumpe2fs.c:449 misc/mke2fs.c:1199
+#: misc/dumpe2fs.c:376 misc/mke2fs.c:1167
 #, c-format
 msgid "\tUsing %s\n"
 msgstr "\tgebruik makend van %s\n"
 
-#: misc/dumpe2fs.c:485 misc/e2image.c:666 misc/tune2fs.c:919 resize/main.c:298
+#: misc/dumpe2fs.c:402 misc/e2image.c:666 misc/tune2fs.c:854 resize/main.c:298
 #, c-format
 msgid "Couldn't find valid filesystem superblock.\n"
 msgstr "Kan geen geldig bestandssysteem-superblok vinden.\n"
 
-#: misc/dumpe2fs.c:496
+#: misc/dumpe2fs.c:413
 #, c-format
 msgid "Note: This is a byte-swapped filesystem\n"
 msgstr "Opmerking: dit is een byte-verwisseld bestandssysteem.\n"
 
-#: misc/dumpe2fs.c:515
+#: misc/dumpe2fs.c:432
 #, c-format
 msgid ""
 "\n"
@@ -3426,7 +3313,7 @@ msgstr "e2label: fout tijdens lezen van 
 msgid "e2label: not an ext2 filesystem\n"
 msgstr "e2label: geen ext2-bestandssysteem\n"
 
-#: misc/e2label.c:96 misc/tune2fs.c:1025
+#: misc/e2label.c:96 misc/tune2fs.c:970
 #, c-format
 msgid "Warning: label too long, truncating.\n"
 msgstr "Waarschuwing: label is te lang, wordt afgekapt.\n"
@@ -3441,7 +3328,7 @@ msgstr "e2label: kan niet opnieuw 'seek'
 msgid "e2label: error writing superblock\n"
 msgstr "e2label: fout tijdens schrijven van superblok\n"
 
-#: misc/e2label.c:116 misc/tune2fs.c:496
+#: misc/e2label.c:116 misc/tune2fs.c:462
 #, c-format
 msgid "Usage: e2label device [newlabel]\n"
 msgstr "Gebruik:  e2label apparaat [nieuwlabel]\n"
@@ -3512,9 +3399,7 @@ msgstr "Kan geen geheugen reserveren voo
 
 #: misc/fsck.c:872
 #, c-format
-msgid ""
-"%s: skipping bad line in /etc/fstab: bind mount with nonzero fsck pass "
-"number\n"
+msgid "%s: skipping bad line in /etc/fstab: bind mount with nonzero fsck pass number\n"
 msgstr ""
 "%s: ongeldige regel in /etc/fstab wordt overgeslagen:\n"
 "zesde veld van 'bind'-aankoppeling is niet nul (fsck-volgnummer)\n"
@@ -3528,25 +3413,23 @@ msgstr "fsck: kan %s niet controleren: f
 msgid "Checking all file systems.\n"
 msgstr "Alle bestandssystemen worden gecontroleerd.\n"
 
-#: misc/fsck.c:1046
+#: misc/fsck.c:1041
 #, c-format
 msgid "--waiting-- (pass %d)\n"
 msgstr "--wachten-- (volgnummer %d)\n"
 
-#: misc/fsck.c:1066
-#, fuzzy
-msgid ""
-"Usage: fsck [-AMNPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
+#: misc/fsck.c:1061
+msgid "Usage: fsck [-ANPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
 msgstr ""
 "Gebruik:  fsck [-ANPRTV] [-C [descriptor]] [-t bestandssysteemsoort]\n"
 "          [bestandssysteemopties] [bestandssysteem...]\n"
 
-#: misc/fsck.c:1108
+#: misc/fsck.c:1103
 #, c-format
 msgid "%s: too many devices\n"
 msgstr "%s: te veel apparaten\n"
 
-#: misc/fsck.c:1141 misc/fsck.c:1227
+#: misc/fsck.c:1136 misc/fsck.c:1222
 #, c-format
 msgid "%s: too many arguments\n"
 msgstr "%s: te veel argumenten\n"
@@ -3567,14 +3450,14 @@ msgid "While reading version on %s"
 msgstr "Tijdens lezen van versie op %s"
 
 #: misc/mke2fs.c:97
-#, fuzzy, c-format
+#, c-format
 msgid ""
-"Usage: %s [-c|-l filename] [-b block-size] [-f fragment-size]\n"
-"\t[-i bytes-per-inode] [-I inode-size] [-J journal-options]\n"
+"Usage: %s [-c|-t|-l filename] [-b block-size] [-f fragment-size]\n"
+"\t[-i bytes-per-inode] [-I inode-size] [-j] [-J journal-options]\n"
 "\t[-N number-of-inodes] [-m reserved-blocks-percentage] [-o creator-os]\n"
 "\t[-g blocks-per-group] [-L volume-label] [-M last-mounted-directory]\n"
-"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]]\n"
-"\t[-T fs-type] [-jnqvFSV] device [blocks-count]\n"
+"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]] [-qvSV]\n"
+"\tdevice [blocks-count]\n"
 msgstr ""
 "Gebruik:  %s [-b blokgrootte] [-c|-l bestandsnaam] [-f fragmentgrootte]\n"
 "          [-g blokken_per_groep] [-i bytes_per_inode] [-I inode-grootte]\n"
@@ -3584,38 +3467,37 @@ msgstr ""
 "          [-r bestandssysteemversie] [-T bestandssysteemtype] [-nqSvV]\n"
 "          [-E uitgebreide_optie[,...]]  apparaat  [aantal_blokken]\n"
 
-#: misc/mke2fs.c:198
+#: misc/mke2fs.c:197
 #, c-format
 msgid "Running command: %s\n"
 msgstr "Uitgevoerde opdracht is: %s\n"
 
-#: misc/mke2fs.c:202
+#: misc/mke2fs.c:201
 #, c-format
 msgid "while trying to run '%s'"
 msgstr "tijdens uitvoering van '%s'"
 
-#: misc/mke2fs.c:209
+#: misc/mke2fs.c:208
 msgid "while processing list of bad blocks from program"
 msgstr "tijdens verwerken van de gemaakte lijst van slechte blokken"
 
-#: misc/mke2fs.c:236
+#: misc/mke2fs.c:235
 #, c-format
 msgid "Block %d in primary superblock/group descriptor area bad.\n"
-msgstr ""
-"Blok %d in het primaire superblok of de groepsbeschrijvers is slecht.\n"
+msgstr "Blok %d in het primaire superblok of de groepsbeschrijvers is slecht.\n"
 
-#: misc/mke2fs.c:238
+#: misc/mke2fs.c:237
 #, c-format
 msgid "Blocks %u through %u must be good in order to build a filesystem.\n"
 msgstr ""
 "Blokken %u tot en met %u moeten goed zijn\n"
 "om een bestandssysteem aan te kunnen maken.\n"
 
-#: misc/mke2fs.c:241
+#: misc/mke2fs.c:240
 msgid "Aborting....\n"
 msgstr "Gestopt...\n"
 
-#: misc/mke2fs.c:261
+#: misc/mke2fs.c:260
 #, c-format
 msgid ""
 "Warning: the backup superblock/group descriptors at block %u contain\n"
@@ -3626,23 +3508,23 @@ msgstr ""
 "beginnend bij blok %u, bevat slechte blokken.\n"
 "\n"
 
-#: misc/mke2fs.c:279
+#: misc/mke2fs.c:278
 msgid "while marking bad blocks as used"
 msgstr "tijdens het markeren van slechte blokken (als zijnde in gebruik)"
 
-#: misc/mke2fs.c:337
+#: misc/mke2fs.c:336
 msgid "done                            \n"
 msgstr "voltooid                        \n"
 
-#: misc/mke2fs.c:372
+#: misc/mke2fs.c:371
 msgid "while allocating zeroizing buffer"
 msgstr "tijdens reserveren van nulmakingsbuffer"
 
-#: misc/mke2fs.c:414
+#: misc/mke2fs.c:413
 msgid "Writing inode tables: "
 msgstr "Schrijven van inodetabellen: "
 
-#: misc/mke2fs.c:431
+#: misc/mke2fs.c:430
 #, c-format
 msgid ""
 "\n"
@@ -3651,67 +3533,67 @@ msgstr ""
 "\n"
 "Kan %d blokken in inodetabel niet schrijven, beginnend bij %u: %s\n"
 
-#: misc/mke2fs.c:487
+#: misc/mke2fs.c:486
 msgid "while creating root dir"
 msgstr "tijdens aanmaken van root-map"
 
-#: misc/mke2fs.c:494
+#: misc/mke2fs.c:493
 msgid "while reading root inode"
 msgstr "tijdens lezen van root-inode"
 
-#: misc/mke2fs.c:508
+#: misc/mke2fs.c:507
 msgid "while setting root inode ownership"
 msgstr "tijdens zetten van eigenaar van root-inode"
 
-#: misc/mke2fs.c:526
+#: misc/mke2fs.c:525
 msgid "while creating /lost+found"
 msgstr "tijdens aanmaken van /lost+found"
 
-#: misc/mke2fs.c:533
+#: misc/mke2fs.c:532
 msgid "while looking up /lost+found"
 msgstr "tijdens zoeken van /lost+found"
 
-#: misc/mke2fs.c:543
+#: misc/mke2fs.c:542
 msgid "while expanding /lost+found"
 msgstr "tijdens uitbreiden van /lost+found"
 
-#: misc/mke2fs.c:559
+#: misc/mke2fs.c:558
 msgid "while setting bad block inode"
 msgstr "tijdens zetten van slechte-blokken-inode"
 
-#: misc/mke2fs.c:591
+#: misc/mke2fs.c:590
 #, c-format
 msgid "Out of memory erasing sectors %d-%d\n"
 msgstr "Onvoldoende geheugen tijdens wissen van sectoren %d-%d.\n"
 
-#: misc/mke2fs.c:601
+#: misc/mke2fs.c:600
 #, c-format
 msgid "Warning: could not read block 0: %s\n"
 msgstr "Waarschuwing: kan blok 0 niet lezen: %s\n"
 
-#: misc/mke2fs.c:617
+#: misc/mke2fs.c:616
 #, c-format
 msgid "Warning: could not erase sector %d: %s\n"
 msgstr "Waarschuwing: kan sector %d niet wissen: %s\n"
 
-#: misc/mke2fs.c:633
+#: misc/mke2fs.c:632
 msgid "while initializing journal superblock"
 msgstr "tijdens initialiseren van het journal-superblok"
 
-#: misc/mke2fs.c:639
+#: misc/mke2fs.c:638
 msgid "Zeroing journal device: "
 msgstr "Nulmaken van journal-apparaat: "
 
-#: misc/mke2fs.c:646
+#: misc/mke2fs.c:645
 #, c-format
 msgid "while zeroing journal device (block %u, count %d)"
 msgstr "tijdens nulmaken van journal-apparaat (blok %u, nummer %d)"
 
-#: misc/mke2fs.c:657
+#: misc/mke2fs.c:656
 msgid "while writing journal superblock"
 msgstr "tijdens schrijven van journal-superblok"
 
-#: misc/mke2fs.c:673
+#: misc/mke2fs.c:672
 #, c-format
 msgid ""
 "warning: %u blocks unused.\n"
@@ -3720,113 +3602,108 @@ msgstr ""
 "Waarschuwing: %u ongebruikte blokken.\n"
 "\n"
 
-#: misc/mke2fs.c:678
+#: misc/mke2fs.c:677
 #, c-format
 msgid "Filesystem label=%s\n"
 msgstr "Bestandssysteemlabel=%s\n"
 
-#: misc/mke2fs.c:679
+#: misc/mke2fs.c:678
 msgid "OS type: "
 msgstr "Soort besturingssysteem: "
 
-#: misc/mke2fs.c:684
+#: misc/mke2fs.c:683
 #, c-format
 msgid "Block size=%u (log=%u)\n"
 msgstr "Blokgrootte=%u (log=%u)\n"
 
-#: misc/mke2fs.c:686
+#: misc/mke2fs.c:685
 #, c-format
 msgid "Fragment size=%u (log=%u)\n"
 msgstr "Fragmentgrootte=%u (log=%u)\n"
 
-#: misc/mke2fs.c:688
+#: misc/mke2fs.c:687
 #, c-format
 msgid "%u inodes, %u blocks\n"
 msgstr "%u inodes, %u blokken\n"
 
-#: misc/mke2fs.c:690
+#: misc/mke2fs.c:689
 #, c-format
 msgid "%u blocks (%2.2f%%) reserved for the super user\n"
 msgstr "%u blokken (%2.2f%%) gereserveerd voor systeembeheer\n"
 
-#: misc/mke2fs.c:693
+#: misc/mke2fs.c:692
 #, c-format
 msgid "First data block=%u\n"
 msgstr "Eerste gegevensblok=%u\n"
 
-#: misc/mke2fs.c:695
+#: misc/mke2fs.c:694
 #, c-format
 msgid "Maximum filesystem blocks=%lu\n"
 msgstr "Maximum aantal bestandssysteemblokken=%lu\n"
 
-#: misc/mke2fs.c:700
+#: misc/mke2fs.c:699
 #, c-format
 msgid "%u block groups\n"
 msgstr "%u blokgroepen\n"
 
-#: misc/mke2fs.c:702
+#: misc/mke2fs.c:701
 #, c-format
 msgid "%u block group\n"
 msgstr "%u blokgroep\n"
 
-#: misc/mke2fs.c:703
+#: misc/mke2fs.c:702
 #, c-format
 msgid "%u blocks per group, %u fragments per group\n"
 msgstr "%u blokken per groep, %u fragmenten per groep\n"
 
 # src/main.c:425
-#: misc/mke2fs.c:705
+#: misc/mke2fs.c:704
 #, c-format
 msgid "%u inodes per group\n"
 msgstr "%u inodes per groep\n"
 
-#: misc/mke2fs.c:712
+#: misc/mke2fs.c:711
 #, c-format
 msgid "Superblock backups stored on blocks: "
 msgstr "Superblokreservekopien opgeslagen in blokken: "
 
-#: misc/mke2fs.c:793
+#: misc/mke2fs.c:767 misc/tune2fs.c:776
 #, c-format
-msgid "Invalid stride parameter: %s\n"
-msgstr "Ongeldig argument van 'stride': %s\n"
+msgid "Couldn't allocate memory to parse options!\n"
+msgstr "Kan geen geheugen reserveren om opties te ontleden!\n"
 
-#: misc/mke2fs.c:808
-#, fuzzy, c-format
-msgid "Invalid stripe-width parameter: %s\n"
+#: misc/mke2fs.c:791
+#, c-format
+msgid "Invalid stride parameter: %s\n"
 msgstr "Ongeldig argument van 'stride': %s\n"
 
-#: misc/mke2fs.c:830
+#: misc/mke2fs.c:812
 #, c-format
 msgid "Invalid resize parameter: %s\n"
 msgstr "Ongeldig argument van 'resize': %s\n"
 
-#: misc/mke2fs.c:837
+#: misc/mke2fs.c:819
 #, c-format
 msgid "The resize maximum must be greater than the filesystem size.\n"
-msgstr ""
-"De maximum grootte moet groter zijn dan de huidige bestandssysteemgrootte.\n"
+msgstr "De maximum grootte moet groter zijn dan de huidige bestandssysteemgrootte.\n"
 
-#: misc/mke2fs.c:861
+#: misc/mke2fs.c:843
 #, c-format
 msgid "On-line resizing not supported with revision 0 filesystems\n"
-msgstr ""
-"Vergroten en verkleinen zijn niet mogelijk op een bestandssysteem van versie "
-"0.\n"
+msgstr "Vergroten en verkleinen zijn niet mogelijk op een bestandssysteem van versie 0.\n"
 
-#: misc/mke2fs.c:878
-#, fuzzy, c-format
+#: misc/mke2fs.c:858
+#, c-format
 msgid ""
 "\n"
-"Bad option(s) specified: %s\n"
+"Bad options specified.\n"
 "\n"
 "Extended options are separated by commas, and may take an argument which\n"
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk data chunk in blocks>\n"
-"\tstripe-width=<RAID stride * data disks in blocks>\n"
+"\tstride=<stride length in blocks>\n"
 "\tresize=<resize maximum size in blocks>\n"
-"\n"
 "\ttest_fs\n"
 msgstr ""
 "\n"
@@ -3841,15 +3718,7 @@ msgstr ""
 "    test_fs\n"
 "\n"
 
-#: misc/mke2fs.c:893
-#, c-format
-msgid ""
-"\n"
-"Warning: RAID stripe-width %u not an even multiple of stride %u.\n"
-"\n"
-msgstr ""
-
-#: misc/mke2fs.c:920
+#: misc/mke2fs.c:888
 #, c-format
 msgid ""
 "Syntax error in mke2fs config file (%s, line #%d)\n"
@@ -3858,105 +3727,101 @@ msgstr ""
 "Syntaxfout in mke2fs-configuratiebestand (%s, regel #%d)\n"
 "    %s\n"
 
-#: misc/mke2fs.c:933 misc/tune2fs.c:335
+#: misc/mke2fs.c:901 misc/tune2fs.c:314
 #, c-format
 msgid "Invalid filesystem option set: %s\n"
 msgstr "Ongeldige optie van bestandssysteem: %s\n"
 
-#: misc/mke2fs.c:1040
+#: misc/mke2fs.c:1008
 #, c-format
 msgid "invalid block size - %s"
 msgstr "ongeldige blokgrootte: %s"
 
-#: misc/mke2fs.c:1044
+#: misc/mke2fs.c:1012
 #, c-format
 msgid "Warning: blocksize %d not usable on most systems.\n"
-msgstr ""
-"Waarschuwing: blokgrootte %d is op de meeste systemen niet bruikbaar.\n"
+msgstr "Waarschuwing: blokgrootte %d is op de meeste systemen niet bruikbaar.\n"
 
-#: misc/mke2fs.c:1061
+#: misc/mke2fs.c:1029
 #, c-format
 msgid "invalid fragment size - %s"
 msgstr "ongeldige fragmentgrootte: %s"
 
-#: misc/mke2fs.c:1067
+#: misc/mke2fs.c:1035
 #, c-format
 msgid "Warning: fragments not supported.  Ignoring -f option\n"
-msgstr ""
-"Waarschuwing: fragmenten worden niet ondersteund; optie -f wordt genegeerd\n"
+msgstr "Waarschuwing: fragmenten worden niet ondersteund; optie -f wordt genegeerd\n"
 
-#: misc/mke2fs.c:1074
+#: misc/mke2fs.c:1042
 msgid "Illegal number for blocks per group"
 msgstr "Ongeldig aantal blokken per groep"
 
-#: misc/mke2fs.c:1079
+#: misc/mke2fs.c:1047
 msgid "blocks per group must be multiple of 8"
 msgstr "argument van -g (blokken per groep) is geen veelvoud van 8"
 
-#: misc/mke2fs.c:1089
+#: misc/mke2fs.c:1057
 #, c-format
 msgid "invalid inode ratio %s (min %d/max %d)"
 msgstr "ongeldige inodeverhouding %s (min %d / max %d)"
 
-#: misc/mke2fs.c:1106
+#: misc/mke2fs.c:1074
 msgid "in malloc for bad_blocks_filename"
 msgstr "onvoldoende geheugen in bad_blocks_filename()"
 
-#: misc/mke2fs.c:1115
+#: misc/mke2fs.c:1083
 #, c-format
 msgid "invalid reserved blocks percent - %s"
 msgstr "ongeldig percentage gereserveerde blokken: %s"
 
 # lib/prange.c:299 lib/prange.c:316
-#: misc/mke2fs.c:1133
+#: misc/mke2fs.c:1101
 #, c-format
 msgid "bad revision level - %s"
 msgstr "ongeldig versienummer: %s"
 
-#: misc/mke2fs.c:1145
+#: misc/mke2fs.c:1113
 #, c-format
 msgid "invalid inode size - %s"
 msgstr "ongeldige grootte van inode: %s"
 
 # lib/prange.c:299 lib/prange.c:316
-#: misc/mke2fs.c:1165
+#: misc/mke2fs.c:1133
 #, c-format
 msgid "bad num inodes - %s"
 msgstr "ongeldig aantal inodes: %s"
 
-#: misc/mke2fs.c:1223 misc/mke2fs.c:1745
+#: misc/mke2fs.c:1191 misc/mke2fs.c:1713
 #, c-format
 msgid "while trying to open journal device %s\n"
 msgstr "tijdens openen van journal-apparaat %s\n"
 
-#: misc/mke2fs.c:1229
+#: misc/mke2fs.c:1197
 #, c-format
 msgid "Journal dev blocksize (%d) smaller than minimum blocksize %d\n"
-msgstr ""
-"Blokgrootte %d van journal-apparaat is kleiner dan minimum blokgrootte %d.\n"
+msgstr "Blokgrootte %d van journal-apparaat is kleiner dan minimum blokgrootte %d.\n"
 
-#: misc/mke2fs.c:1243
+#: misc/mke2fs.c:1211
 #, c-format
 msgid "%d-byte blocks too big for system (max %d)"
 msgstr "Blokken van %d bytes zijn te groot voor dit systeem (max %d)."
 
-#: misc/mke2fs.c:1247
+#: misc/mke2fs.c:1215
 #, c-format
-msgid ""
-"Warning: %d-byte blocks too big for system (max %d), forced to continue\n"
+msgid "Warning: %d-byte blocks too big for system (max %d), forced to continue\n"
 msgstr ""
 "Waarschuwing: blokken van %d bytes zijn te groot voor dit systeem,\n"
 "het maximum is %d -- maar 'mke2fs' wordt gedwongen uitgevoerd.\n"
 
-#: misc/mke2fs.c:1265
+#: misc/mke2fs.c:1233
 msgid "filesystem"
 msgstr "bestandssysteem"
 
-#: misc/mke2fs.c:1288 resize/main.c:332
+#: misc/mke2fs.c:1256 resize/main.c:332
 msgid "while trying to determine filesystem size"
 msgstr "tijdens bepalen van grootte van bestandssysteem"
 
-#: misc/mke2fs.c:1294
+#: misc/mke2fs.c:1262
 msgid ""
 "Couldn't determine device size; you must specify\n"
 "the size of the filesystem\n"
@@ -3964,7 +3829,7 @@ msgstr ""
 "Kan de grootte van het apparaat niet bepalen;\n"
 "u dient zelf de grootte van het bestandssysteem aan te geven.\n"
 
-#: misc/mke2fs.c:1301
+#: misc/mke2fs.c:1269
 msgid ""
 "Device size reported to be zero.  Invalid partition specified, or\n"
 "\tpartition table wasn't reread after running fdisk, due to\n"
@@ -3977,44 +3842,38 @@ msgstr ""
 "    in-gebruik-zijn van een gewijzigde partitie.  Mogelijk dient u uw\n"
 "    computer te herstarten om de juiste partitietabel te verkrijgen.\n"
 
-#: misc/mke2fs.c:1319
+#: misc/mke2fs.c:1287
 msgid "Filesystem larger than apparent device size."
 msgstr "Bestandssysteem is groter dan de schijnbare apparaatgrootte."
 
-#: misc/mke2fs.c:1367
+#: misc/mke2fs.c:1335
 #, c-format
 msgid "Filesystem features not supported with revision 0 filesystems\n"
-msgstr ""
-"Sommige functies worden niet ondersteund op een bestandssysteem van versie "
-"0.\n"
+msgstr "Sommige functies worden niet ondersteund op een bestandssysteem van versie 0.\n"
 
-#: misc/mke2fs.c:1374
+#: misc/mke2fs.c:1342
 #, c-format
 msgid "Sparse superblocks not supported with revision 0 filesystems\n"
-msgstr ""
-"Schaarse superblokken zijn niet mogelijk op een bestandssysteem van versie "
-"0.\n"
+msgstr "Schaarse superblokken zijn niet mogelijk op een bestandssysteem van versie 0.\n"
 
-#: misc/mke2fs.c:1386
+#: misc/mke2fs.c:1354
 #, c-format
 msgid "Journals not supported with revision 0 filesystems\n"
 msgstr "Een journal is niet mogelijk op een bestandssysteem van versie 0.\n"
 
-#: misc/mke2fs.c:1412
+#: misc/mke2fs.c:1380
 msgid "while trying to determine hardware sector size"
 msgstr "tijdens bepalen van de grootte van een sector"
 
-#: misc/mke2fs.c:1464
+#: misc/mke2fs.c:1432
 msgid "reserved online resize blocks not supported on non-sparse filesystem"
-msgstr ""
-"het reserveren van blokken voor bestandssysteemvergroting wordt niet "
-"ondersteund op een niet-schaars bestandssysteem"
+msgstr "het reserveren van blokken voor bestandssysteemvergroting wordt niet ondersteund op een niet-schaars bestandssysteem"
 
-#: misc/mke2fs.c:1473
+#: misc/mke2fs.c:1441
 msgid "blocks per group count out of range"
 msgstr "teller van blokken-per-groep ligt buiten het toegestane bereik"
 
-#: misc/mke2fs.c:1480
+#: misc/mke2fs.c:1448
 msgid ""
 "Filesystem too large.  No more than 2**31-1 blocks\n"
 "\t (8TB using a blocksize of 4k) are currently supported."
@@ -4022,7 +3881,7 @@ msgstr ""
 "Bestandssysteem is te groot.  Momenteel zijn niet meer dan\n"
 "2**31-1 blokken mogelijk (8TB bij een blokgrootte van 4K)."
 
-#: misc/mke2fs.c:1487
+#: misc/mke2fs.c:1455
 #, c-format
 msgid ""
 "\n"
@@ -4035,28 +3894,27 @@ msgstr ""
 "blokgroottes groter dan 4096.  Gebruik in dat geval '-b 4096'.\n"
 "\n"
 
-#: misc/mke2fs.c:1504
+#: misc/mke2fs.c:1472
 #, c-format
 msgid "invalid inode size %d (min %d/max %d)"
 msgstr "ongeldige inode-grootte %d (min %d / max %d)"
 
-#: misc/mke2fs.c:1510
+#: misc/mke2fs.c:1478
 #, c-format
 msgid "Warning: %d-byte inodes not usable on older systems\n"
-msgstr ""
-"Waarschuwing: inodes van %d bytes zijn onbruikbaar op oudere systemen\n"
+msgstr "Waarschuwing: inodes van %d bytes zijn onbruikbaar op oudere systemen\n"
 
-#: misc/mke2fs.c:1522
+#: misc/mke2fs.c:1490
 #, c-format
 msgid "too many inodes (%llu), raise inode ratio?"
 msgstr "te veel inodes (%llu) -- inodeverhouding verhogen?"
 
-#: misc/mke2fs.c:1527
+#: misc/mke2fs.c:1495
 #, c-format
 msgid "too many inodes (%llu), specify < 2^32 inodes"
 msgstr "te veel inodes (%llu) -- geef minder dan 2^32 op"
 
-#: misc/mke2fs.c:1542
+#: misc/mke2fs.c:1510
 #, c-format
 msgid ""
 "inode_size (%u) * inodes_count (%u) too big for a\n"
@@ -4068,38 +3926,38 @@ msgstr ""
 "   geef een hogere bytes-per-inodeverhouding op (-i),\n"
 "   of verklein het aantal inodes (-N).\n"
 
-#: misc/mke2fs.c:1591
+#: misc/mke2fs.c:1559
 msgid "while setting up superblock"
 msgstr "tijdens aanmaken van superblok"
 
-#: misc/mke2fs.c:1628
+#: misc/mke2fs.c:1596
 #, c-format
 msgid "unknown os - %s"
 msgstr "onbekend besturingssysteem: %s"
 
-#: misc/mke2fs.c:1682
+#: misc/mke2fs.c:1650
 msgid "while trying to allocate filesystem tables"
 msgstr "tijdens reserveren van bestandssysteemtabellen"
 
-#: misc/mke2fs.c:1713
+#: misc/mke2fs.c:1681
 #, c-format
 msgid "while zeroing block %u at end of filesystem"
 msgstr "tijdens nulmaken van blok %u aan het eind van het bestandssysteem"
 
-#: misc/mke2fs.c:1727
+#: misc/mke2fs.c:1695
 msgid "while reserving blocks for online resize"
 msgstr "tijdens reserveren van uitbreidingsblokken"
 
-#: misc/mke2fs.c:1738 misc/tune2fs.c:433
+#: misc/mke2fs.c:1706 misc/tune2fs.c:399
 msgid "journal"
 msgstr "journal"
 
-#: misc/mke2fs.c:1750
+#: misc/mke2fs.c:1718
 #, c-format
 msgid "Adding journal to device %s: "
 msgstr "Toevoegen van journal aan apparaat %s: "
 
-#: misc/mke2fs.c:1757
+#: misc/mke2fs.c:1725
 #, c-format
 msgid ""
 "\n"
@@ -4108,17 +3966,17 @@ msgstr ""
 "\n"
 "\ttijdens toevoegen van journal aan apparaat %s"
 
-#: misc/mke2fs.c:1762 misc/mke2fs.c:1788 misc/tune2fs.c:461 misc/tune2fs.c:475
+#: misc/mke2fs.c:1730 misc/mke2fs.c:1756 misc/tune2fs.c:427 misc/tune2fs.c:441
 #, c-format
 msgid "done\n"
 msgstr "voltooid\n"
 
-#: misc/mke2fs.c:1793
+#: misc/mke2fs.c:1761
 #, c-format
 msgid "Writing superblocks and filesystem accounting information: "
 msgstr "Schrijven van superblokken en bestandssysteem-metagegevens: "
 
-#: misc/mke2fs.c:1798
+#: misc/mke2fs.c:1766
 #, c-format
 msgid ""
 "\n"
@@ -4127,7 +3985,7 @@ msgstr ""
 "\n"
 "Waarschuwing: problemen tijdens schrijven van superblokken."
 
-#: misc/mke2fs.c:1801
+#: misc/mke2fs.c:1769
 #, c-format
 msgid ""
 "done\n"
@@ -4141,88 +3999,72 @@ msgstr ""
 msgid "Usage: mklost+found\n"
 msgstr "Gebruik:  mklost+found\n"
 
-#: misc/tune2fs.c:91
+#: misc/tune2fs.c:89
 msgid "Please run e2fsck on the filesystem.\n"
 msgstr "Controleer het bestandssysteem met 'e2fsck'.\n"
 
-#: misc/tune2fs.c:98
-#, fuzzy, c-format
+#: misc/tune2fs.c:96
+#, c-format
 msgid ""
 "Usage: %s [-c max_mounts_count] [-e errors_behavior] [-g group]\n"
-"\t[-i interval[d|m|w]] [-j] [-J journal_options] [-l]\n"
-"\t[-m reserved_blocks_percent] [-o [^]mount_options[,...]] \n"
-"\t[-r reserved_blocks_count] [-u user] [-C mount_count] [-L volume_label]\n"
+"\t[-i interval[d|m|w]] [-j] [-J journal_options]\n"
+"\t[-l] [-s sparse_flag] [-m reserved_blocks_percent]\n"
+"\t[-o [^]mount_options[,...]] [-r reserved_blocks_count]\n"
+"\t[-u user] [-C mount_count] [-L volume_label]\n"
 "\t[-M last_mounted_dir] [-O [^]feature[,...]]\n"
 "\t[-E extended-option[,...]] [-T last_check_time] [-U UUID] device\n"
 msgstr ""
 "Gebruik:  %s [-c maximum_aantal_aankoppelingen] [-C aankoppelingental]\n"
-"          [-e gedrag_bij_fouten] [-E uitgebreide_optie[,...]] [-f] [-g "
-"groep]\n"
+"          [-e gedrag_bij_fouten] [-E uitgebreide_optie[,...]] [-f] [-g groep]\n"
 "          [-i interval[d|w|m]] [-j] [-J journal-opties] [-l] [-L label]\n"
-"          [-m percentage_gereserveerde_blokken] [-M "
-"laatst_aangekoppelde_map]\n"
+"          [-m percentage_gereserveerde_blokken] [-M laatst_aangekoppelde_map]\n"
 "          [-o [^]aankoppelingsopties[,...]] [-O [^]functie[,...]]\n"
 "          [-r aantal_gereserveerde_blokken] [-s schaarsheidsvlag]\n"
-"          [-T tijdstip_van_laatste_controle] [-u gebruiker] [-U UUID]  "
-"apparaat\n"
+"          [-T tijdstip_van_laatste_controle] [-u gebruiker] [-U UUID]  apparaat\n"
 
-#: misc/tune2fs.c:171
+#: misc/tune2fs.c:153
 msgid "while trying to open external journal"
 msgstr "tijdens openen van extern journal"
 
-#: misc/tune2fs.c:175
+#: misc/tune2fs.c:157
 #, c-format
 msgid "%s is not a journal device.\n"
 msgstr "%s: is geen journal-apparaat.\n"
 
-#: misc/tune2fs.c:190
+#: misc/tune2fs.c:172
 msgid "Journal superblock not found!\n"
 msgstr "Geen journal-superblok gevonden!\n"
 
-#: misc/tune2fs.c:202
+#: misc/tune2fs.c:184
 msgid "Filesystem's UUID not found on journal device.\n"
 msgstr "UUID van bestandssysteem niet gevonden op journal-apparaat.\n"
 
-#: misc/tune2fs.c:223
+#: misc/tune2fs.c:205
 msgid "Journal NOT removed\n"
 msgstr "Journal is NIET verwijderd.\n"
 
-#: misc/tune2fs.c:229
+#: misc/tune2fs.c:211
 msgid "Journal removed\n"
 msgstr "Journal is verwijderd.\n"
 
-#: misc/tune2fs.c:268
+#: misc/tune2fs.c:250
 msgid "while reading bitmaps"
 msgstr "tijdens lezen van bitkaarten"
 
-#: misc/tune2fs.c:275
+#: misc/tune2fs.c:257
 msgid "while clearing journal inode"
 msgstr "tijdens wissen van journal-inode"
 
-#: misc/tune2fs.c:286
+#: misc/tune2fs.c:268
 msgid "while writing journal inode"
 msgstr "tijdens schrijven van journal-inode"
 
-#: misc/tune2fs.c:301
+#: misc/tune2fs.c:283
 #, c-format
 msgid "Invalid mount option set: %s\n"
 msgstr "Ongeldige aankoppelingsoptie: %s\n"
 
-#: misc/tune2fs.c:338
-#, fuzzy, c-format
-msgid "Clearing filesystem feature '%s' not supported.\n"
-msgstr ""
-"Sommige functies worden niet ondersteund op een bestandssysteem van versie "
-"0.\n"
-
-#: misc/tune2fs.c:344
-#, fuzzy, c-format
-msgid "Setting filesystem feature '%s' not supported.\n"
-msgstr ""
-"Sommige functies worden niet ondersteund op een bestandssysteem van versie "
-"0.\n"
-
-#: misc/tune2fs.c:353
+#: misc/tune2fs.c:329
 msgid ""
 "The has_journal flag may only be cleared when the filesystem is\n"
 "unmounted or mounted read-only.\n"
@@ -4230,7 +4072,7 @@ msgstr ""
 "De journalvlag mag alleen gewist worden wanneer het bestandssysteem\n"
 "ontkoppeld is of als alleen-lezen aangekoppeld is.\n"
 
-#: misc/tune2fs.c:361
+#: misc/tune2fs.c:337
 msgid ""
 "The needs_recovery flag is set.  Please run e2fsck before clearing\n"
 "the has_journal flag.\n"
@@ -4238,11 +4080,11 @@ msgstr ""
 "De journalreddingsvlag is gezet.  Voer eerst 'e2fsck' uit,\n"
 "voordat u de journalvlag wist.\n"
 
-#: misc/tune2fs.c:428
+#: misc/tune2fs.c:394
 msgid "The filesystem already has a journal.\n"
 msgstr "Het bestandssysteem heeft al een journal.\n"
 
-#: misc/tune2fs.c:445
+#: misc/tune2fs.c:411
 #, c-format
 msgid ""
 "\n"
@@ -4251,21 +4093,21 @@ msgstr ""
 "\n"
 "    tijdens openen van journal op %s\n"
 
-#: misc/tune2fs.c:449
+#: misc/tune2fs.c:415
 #, c-format
 msgid "Creating journal on device %s: "
 msgstr "Aanmaken van journal op apparaat %s: "
 
-#: misc/tune2fs.c:457
+#: misc/tune2fs.c:423
 #, c-format
 msgid "while adding filesystem to journal on %s"
 msgstr "tijdens toevoegen van bestandssysteem aan journal op %s"
 
-#: misc/tune2fs.c:463
+#: misc/tune2fs.c:429
 msgid "Creating journal inode: "
 msgstr "Aanmaken van journal-inode: "
 
-#: misc/tune2fs.c:472
+#: misc/tune2fs.c:438
 msgid ""
 "\n"
 "\twhile trying to create journal file"
@@ -4273,67 +4115,57 @@ msgstr ""
 "\n"
 "    tijdens aanmaken van journal-inode"
 
-#: misc/tune2fs.c:539
+#: misc/tune2fs.c:505
 #, c-format
 msgid "Couldn't parse date/time specifier: %s"
 msgstr "Kan datum/tijd-specificatie niet ontleden: %s"
 
-#: misc/tune2fs.c:563 misc/tune2fs.c:576
+#: misc/tune2fs.c:529 misc/tune2fs.c:542
 #, c-format
 msgid "bad mounts count - %s"
 msgstr "onjuist aankoppelingenaantal: %s"
 
-#: misc/tune2fs.c:592
+#: misc/tune2fs.c:558
 #, c-format
 msgid "bad error behavior - %s"
 msgstr "onjuist argument van -e (gedrag bij een fout): %s"
 
-#: misc/tune2fs.c:619
+#: misc/tune2fs.c:585
 #, c-format
 msgid "bad gid/group name - %s"
 msgstr "onjuiste GID of groepsnaam: %s"
 
 # lib/prange.c:299 lib/prange.c:316
-#: misc/tune2fs.c:652
+#: misc/tune2fs.c:618
 #, c-format
 msgid "bad interval - %s"
 msgstr "onjuist interval: %s"
 
-#: misc/tune2fs.c:680
+#: misc/tune2fs.c:646
 #, c-format
 msgid "bad reserved block ratio - %s"
 msgstr "onjuiste verhouding (%s) voor gereserveerde blokken"
 
-#: misc/tune2fs.c:695
+#: misc/tune2fs.c:661
 msgid "-o may only be specified once"
 msgstr "-o mag slechts n keer gegeven worden"
 
-#: misc/tune2fs.c:705
+#: misc/tune2fs.c:671
 msgid "-O may only be specified once"
 msgstr "-O mag slechts n keer gegeven worden"
 
-#: misc/tune2fs.c:715
+#: misc/tune2fs.c:681
 #, c-format
 msgid "bad reserved blocks count - %s"
 msgstr "onjuist aantal gereserveerde blokken: %s"
 
-#: misc/tune2fs.c:744
+#: misc/tune2fs.c:710
 #, c-format
 msgid "bad uid/user name - %s"
 msgstr "onjuiste UID of gebruikersnaam: %s"
 
-#: misc/tune2fs.c:842
-#, fuzzy, c-format
-msgid "Invalid RAID stride: %s\n"
-msgstr "Ongeldig argument van 'stride': %s\n"
-
-#: misc/tune2fs.c:857
-#, fuzzy, c-format
-msgid "Invalid RAID stripe-width: %s\n"
-msgstr "Ongeldig argument van 'stride': %s\n"
-
-#: misc/tune2fs.c:867
-#, fuzzy, c-format
+#: misc/tune2fs.c:804
+#, c-format
 msgid ""
 "\n"
 "Bad options specified.\n"
@@ -4342,70 +4174,63 @@ msgid ""
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk chunk size in blocks>\n"
-"\tstripe-width=<RAID stride*data disks in blocks>\n"
 "\ttest_fs\n"
 "\t^test_fs\n"
 msgstr ""
 "\n"
 "Ongeldige opties opgegeven.\n"
 "\n"
-"Uitgebreide opties worden gescheiden door komma's,\n"
-"hun argument wordt voorafgegaan door een '='-teken.\n"
-"\n"
 "Geldige uitgebreide opties zijn:\n"
-"    stride=<aantal blokken per stripe, als voorbereiding op RAID>\n"
-"    resize=<maximum grootte van bestandssysteem in blokken>\n"
 "    test_fs\n"
+"    ^test_fs\n"
 "\n"
 
-#: misc/tune2fs.c:927
+#: misc/tune2fs.c:862
 #, c-format
 msgid "Filesystem %s has unsupported features enabled.\n"
-msgstr ""
-"Bestandssysteem %s heeft functies ingeschakeld die niet ondersteund worden.\n"
+msgstr "Bestandssysteem %s heeft functies ingeschakeld die niet ondersteund worden.\n"
 
-#: misc/tune2fs.c:951
+#: misc/tune2fs.c:886
 #, c-format
 msgid "Setting maximal mount count to %d\n"
 msgstr "Het maximum aantal aankoppelingen is op %d gezet\n"
 
-#: misc/tune2fs.c:957
+#: misc/tune2fs.c:892
 #, c-format
 msgid "Setting current mount count to %d\n"
 msgstr "Het huidige aantal aankoppelingen is op %d gezet\n"
 
-#: misc/tune2fs.c:962
+#: misc/tune2fs.c:897
 #, c-format
 msgid "Setting error behavior to %d\n"
 msgstr "Gedrag bij fouten is op %d gezet\n"
 
-#: misc/tune2fs.c:967
+#: misc/tune2fs.c:902
 #, c-format
 msgid "Setting reserved blocks gid to %lu\n"
 msgstr "GID van gereserveerde blokken is op %lu gezet\n"
 
-#: misc/tune2fs.c:972
+#: misc/tune2fs.c:907
 #, c-format
 msgid "Setting interval between checks to %lu seconds\n"
 msgstr "Interval tussen controles is op %lu seconden gezet\n"
 
-#: misc/tune2fs.c:978
+#: misc/tune2fs.c:913
 #, c-format
 msgid "Setting reserved blocks percentage to %g%% (%u blocks)\n"
 msgstr "Percentage gereserveerde blokken is op %g%% gezet (%u blokken)\n"
 
-#: misc/tune2fs.c:984
+#: misc/tune2fs.c:919
 #, c-format
 msgid "reserved blocks count is too big (%lu)"
 msgstr "Het aantal gereserveerde blokken is te groot (%lu)."
 
-#: misc/tune2fs.c:990
+#: misc/tune2fs.c:925
 #, c-format
 msgid "Setting reserved blocks count to %lu\n"
 msgstr "Het aantal gereserveerde blokken is op %lu gezet\n"
 
-#: misc/tune2fs.c:996
+#: misc/tune2fs.c:931
 msgid ""
 "\n"
 "The filesystem already has sparse superblocks.\n"
@@ -4413,7 +4238,7 @@ msgstr ""
 "\n"
 "Het bestandssysteem is al zuinig met superblokken.\n"
 
-#: misc/tune2fs.c:1003
+#: misc/tune2fs.c:938
 #, c-format
 msgid ""
 "\n"
@@ -4422,36 +4247,37 @@ msgstr ""
 "\n"
 "De zuinig-met-superblokkenvlag is aangezet.  %s"
 
-#: misc/tune2fs.c:1008
+#: misc/tune2fs.c:945
 msgid ""
 "\n"
-"Clearing the sparse superflag not supported.\n"
+"The filesystem already has sparse superblocks disabled.\n"
 msgstr ""
+"\n"
+"Het bestandssysteem gebruikt al het normale aantal superblokken.\n"
 
-#: misc/tune2fs.c:1015
+#: misc/tune2fs.c:953
+#, c-format
+msgid ""
+"\n"
+"Sparse superblock flag cleared.  %s"
+msgstr ""
+"\n"
+"De zuinig-met-superblokkenvlag is uitgezet.  %s"
+
+#: misc/tune2fs.c:960
 #, c-format
 msgid "Setting time filesystem last checked to %s\n"
 msgstr "Tijd van laatste controle is op %s gezet\n"
 
-#: misc/tune2fs.c:1021
+#: misc/tune2fs.c:966
 #, c-format
 msgid "Setting reserved blocks uid to %lu\n"
 msgstr "UID van gereserveerde blokken is op %lu gezet\n"
 
-#: misc/tune2fs.c:1056
+#: misc/tune2fs.c:1001
 msgid "Invalid UUID format\n"
 msgstr "Onjuiste UUID-indeling\n"
 
-#: misc/tune2fs.c:1067
-#, fuzzy, c-format
-msgid "Setting stride size to %d\n"
-msgstr "GID van gereserveerde blokken is op %lu gezet\n"
-
-#: misc/tune2fs.c:1072
-#, fuzzy, c-format
-msgid "Setting stripe width to %d\n"
-msgstr "GID van gereserveerde blokken is op %lu gezet\n"
-
 #: misc/util.c:72
 msgid "Proceed anyway? (y,n) "
 msgstr "Toch doorgaan? (j,n) "
@@ -4697,21 +4523,7 @@ msgstr "te verplaatsen blokken"
 msgid "meta-data blocks"
 msgstr "blokken voor metagegevens"
 
-#: resize/resize2fs.c:1550
+#: resize/resize2fs.c:1534
 #, c-format
 msgid "Should never happen: resize inode corrupt!\n"
 msgstr "Zou nooit mogen gebeuren: de 'resize'-inode is beschadigd!\n"
-
-#~ msgid ""
-#~ "\n"
-#~ "The filesystem already has sparse superblocks disabled.\n"
-#~ msgstr ""
-#~ "\n"
-#~ "Het bestandssysteem gebruikt al het normale aantal superblokken.\n"
-
-#~ msgid ""
-#~ "\n"
-#~ "Sparse superblock flag cleared.  %s"
-#~ msgstr ""
-#~ "\n"
-#~ "De zuinig-met-superblokkenvlag is uitgezet.  %s"
Files e2fsprogs-1.40.7/po/pl.gmo and e2fsprogs/po/pl.gmo differ
diff -Nurp e2fsprogs-1.40.7/po/pl.po e2fsprogs/po/pl.po
--- e2fsprogs-1.40.7/po/pl.po	2008-02-29 02:46:24.000000000 +0000
+++ e2fsprogs/po/pl.po	2008-02-29 11:23:57.000000000 +0000
@@ -65,17 +65,16 @@ msgid ""
 msgstr ""
 "Project-Id-Version: e2fsprogs 1.40.6\n"
 "Report-Msgid-Bugs-To: tytso@alum.mit.edu\n"
-"POT-Creation-Date: 2008-02-28 21:45-0500\n"
+"POT-Creation-Date: 2008-02-09 23:16-0500\n"
 "PO-Revision-Date: 2008-02-11 18:30+0100\n"
 "Last-Translator: Jakub Bogusz <qboosh@pld-linux.org>\n"
 "Language-Team: Polish <translation-team-pl@lists.sourceforge.net>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=ISO-8859-2\n"
 "Content-Transfer-Encoding: 8bit\n"
-"Plural-Forms: nplurals=3; plural=(n==1 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 "
-"|| n%100>=20) ? 1 : 2);\n"
+"Plural-Forms: nplurals=3; plural=(n==1 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);\n"
 
-#: e2fsck/badblocks.c:22 misc/mke2fs.c:157
+#: e2fsck/badblocks.c:22 misc/mke2fs.c:156
 #, c-format
 msgid "Bad block %u out of range; ignored.\n"
 msgstr "Wadliwy blok %u poza zakresem - zignorowany.\n"
@@ -89,10 +88,10 @@ msgid "while reading the bad blocks inod
 msgstr "podczas odczytu i-wza wadliwych blokw"
 
 #: e2fsck/badblocks.c:71 e2fsck/iscan.c:112 e2fsck/scantest.c:109
-#: e2fsck/unix.c:1010 e2fsck/unix.c:1093 misc/badblocks.c:1025
+#: e2fsck/unix.c:992 e2fsck/unix.c:1075 misc/badblocks.c:1025
 #: misc/badblocks.c:1033 misc/badblocks.c:1047 misc/badblocks.c:1059
-#: misc/dumpe2fs.c:483 misc/e2image.c:571 misc/e2image.c:664
-#: misc/e2image.c:680 misc/mke2fs.c:173 misc/tune2fs.c:916 resize/main.c:296
+#: misc/dumpe2fs.c:400 misc/e2image.c:571 misc/e2image.c:664
+#: misc/e2image.c:680 misc/mke2fs.c:172 misc/tune2fs.c:851 resize/main.c:296
 #, c-format
 msgid "while trying to open %s"
 msgstr "podczas prby otworzenia %s"
@@ -102,20 +101,18 @@ msgstr "podczas prby otworzenia %s"
 msgid "while trying popen '%s'"
 msgstr "podczas prby popen '%s'"
 
-#: e2fsck/badblocks.c:93 misc/mke2fs.c:180
+#: e2fsck/badblocks.c:93 misc/mke2fs.c:179
 msgid "while reading in list of bad blocks from file"
 msgstr "podczas wczytywania z pliku listy wadliwych blokw"
 
-#: e2fsck/badblocks.c:104
+#: e2fsck/badblocks.c:103
 msgid "while updating bad block inode"
 msgstr "podczas uaktualniania i-wza wadliwego bloku"
 
-#: e2fsck/badblocks.c:130
+#: e2fsck/badblocks.c:129
 #, c-format
 msgid "Warning: illegal block %u found in bad block inode.  Cleared.\n"
-msgstr ""
-"Uwaga: znaleziono niedopuszczalny blok %u w i-wle wadliwego bloku. "
-"Wyczyszczono.\n"
+msgstr "Uwaga: znaleziono niedopuszczalny blok %u w i-wle wadliwego bloku. Wyczyszczono.\n"
 
 #: e2fsck/ehandler.c:53
 #, c-format
@@ -233,8 +230,7 @@ msgstr "%s: odtwarzanie z kroniki\n"
 #: e2fsck/journal.c:843
 #, c-format
 msgid "%s: won't do journal recovery while read-only\n"
-msgstr ""
-"%s: odtworzenie z kroniki nie zostanie wykonane w trybie tylko do odczytu\n"
+msgstr "%s: odtworzenie z kroniki nie zostanie wykonane w trybie tylko do odczytu\n"
 
 #: e2fsck/journal.c:864
 #, c-format
@@ -460,7 +456,7 @@ msgstr "bd wewntrzny: nie mona znale
 msgid "internal error: couldn't lookup EA inode record for %u"
 msgstr "Bd wewntrzny: nie mona znale rekordu i-wza EA dla %u"
 
-#: e2fsck/pass1.c:404 e2fsck/pass2.c:770
+#: e2fsck/pass1.c:404 e2fsck/pass2.c:779
 msgid "reading directory block"
 msgstr "odczytu bloku katalogu"
 
@@ -529,7 +525,7 @@ msgstr "bitmapa i-wzw"
 msgid "inode table"
 msgstr "tablica i-wzw"
 
-#: e2fsck/pass2.c:283
+#: e2fsck/pass2.c:292
 msgid "Pass 2"
 msgstr "Przebieg 2"
 
@@ -855,8 +851,7 @@ msgstr "@S ma bdn kronik ext3 (@i %i
 #. @-expanded: External journal has multiple filesystem users (unsupported).\n
 #: e2fsck/problem.c:192
 msgid "External @j has multiple @f users (unsupported).\n"
-msgstr ""
-"Zewntrzna @j ma wielu uytkownikw systemu plikw (nie obsugiwane).\n"
+msgstr "Zewntrzna @j ma wielu uytkownikw systemu plikw (nie obsugiwane).\n"
 
 #. @-expanded: Can't find external journal\n
 #: e2fsck/problem.c:197
@@ -880,8 +875,7 @@ msgstr "Zewntrzna @j nie obsuguje tego
 #: e2fsck/problem.c:212
 msgid ""
 "Ext3 @j @S is unknown type %N (unsupported).\n"
-"It is likely that your copy of e2fsck is old and/or doesn't support this @j "
-"format.\n"
+"It is likely that your copy of e2fsck is old and/or doesn't support this @j format.\n"
 "It is also possible the @j @S is corrupt.\n"
 msgstr ""
 "@S kroniki ext3 ma nieznany typ %N (nie obsugiwany).\n"
@@ -1030,8 +1024,7 @@ msgstr ""
 #. @-expanded: Resize_inode not enabled, but the resize inode is non-zero.  
 #: e2fsck/problem.c:327
 msgid "Resize_@i not enabled, but the resize @i is non-zero.  "
-msgstr ""
-"Resize_inode nie wczone, ale i-wze zmiany rozmiaru jest niezerowy. "
+msgstr "Resize_inode nie wczone, ale i-wze zmiany rozmiaru jest niezerowy. "
 
 #. @-expanded: Resize inode not valid.  
 #: e2fsck/problem.c:332
@@ -1177,8 +1170,7 @@ msgstr "Podwjny lub wadliwy @b jest uy
 #. @-expanded: Bad block %b used as bad block inode indirect block.  
 #: e2fsck/problem.c:462
 msgid "Bad @b %b used as bad @b @i indirect @b.  "
-msgstr ""
-"Wadliwy @b %b jest uywany jako niebiezporedni @b i-wa z wadliwym @biem. "
+msgstr "Wadliwy @b %b jest uywany jako niebiezporedni @b i-wa z wadliwym @biem. "
 
 #. @-expanded: \n
 #. @-expanded: The bad block inode has probably been corrupted.  You probably\n
@@ -1313,14 +1305,12 @@ msgstr "Bd podczas iteracji po @bach w
 #. @-expanded: Error storing inode count information (inode=%i, count=%N): %m\n
 #: e2fsck/problem.c:573
 msgid "Error storing @i count information (@i=%i, count=%N): %m\n"
-msgstr ""
-"Bd podczas zapisu informacji o liczbie i-wzw (@i=%i, liczba=%N): %m\n"
+msgstr "Bd podczas zapisu informacji o liczbie i-wzw (@i=%i, liczba=%N): %m\n"
 
 #. @-expanded: Error storing directory block information (inode=%i, block=%b, num=%N): %m\n
 #: e2fsck/problem.c:578
 msgid "Error storing @d @b information (@i=%i, @b=%b, num=%N): %m\n"
-msgstr ""
-"Bd podczas zapisu informacji o @dch @bach (@i=%i, @b=%b, liczba=%N): %m\n"
+msgstr "Bd podczas zapisu informacji o @dch @bach (@i=%i, @b=%b, liczba=%N): %m\n"
 
 #. @-expanded: Error reading inode %i: %m\n
 #: e2fsck/problem.c:584
@@ -1423,8 +1413,7 @@ msgstr "@A @bu rozszerzonych atrybutw %
 #. @-expanded: extended attribute block %b is corrupt (allocation collision).  
 #: e2fsck/problem.c:679
 msgid "@a @b %b is corrupt (allocation collision).  "
-msgstr ""
-"@b rozszerzonych atrybutw %b jest uszkodzony (kolizja przydzielania). "
+msgstr "@b rozszerzonych atrybutw %b jest uszkodzony (kolizja przydzielania). "
 
 #. @-expanded: extended attribute block %b is corrupt (invalid name).  
 #: e2fsck/problem.c:684
@@ -1461,8 +1450,7 @@ msgstr "@b #%B (%b) powoduje, e dowiza
 #: e2fsck/problem.c:713
 #, c-format
 msgid "@i %i has INDEX_FL flag set on @f without htree support.\n"
-msgstr ""
-"@i %i ma ustawion flag INDEX_FL na systemie plikw bez obsugi htree.\n"
+msgstr "@i %i ma ustawion flag INDEX_FL na systemie plikw bez obsugi htree.\n"
 
 #. @-expanded: inode %i has INDEX_FL flag set but is not a directory.\n
 #: e2fsck/problem.c:718
@@ -1583,15 +1571,12 @@ msgstr "Bd podczas iteracji po @bach w
 #. @-expanded: Error adjusting refcount for extended attribute block %b (inode %i): %m\n
 #: e2fsck/problem.c:827 e2fsck/problem.c:1143
 msgid "Error adjusting refcount for @a @b %b (@i %i): %m\n"
-msgstr ""
-"Bd podczas poprawiania refcount dla @bu rozszerzonych atrybutw %b (@i %"
-"i): %m\n"
+msgstr "Bd podczas poprawiania refcount dla @bu rozszerzonych atrybutw %b (@i %i): %m\n"
 
 #. @-expanded: Pass 1C: Scanning directories for inodes with multiply-claimed blocks\n
 #: e2fsck/problem.c:833
 msgid "Pass 1C: Scanning directories for @is with @m @bs\n"
-msgstr ""
-"Przebieg 1C: Przeszukiwanie katalogw pod ktem i-wzw z @mmi @bami\n"
+msgstr "Przebieg 1C: Przeszukiwanie katalogw pod ktem i-wzw z @mmi @bami\n"
 
 #. @-expanded: Pass 1D: Reconciling multiply-claimed blocks\n
 #: e2fsck/problem.c:839
@@ -1931,8 +1916,7 @@ msgstr "@p i-wle @du HTREE %d: wze (
 #. @-expanded: problem in HTREE directory inode %d: node (%B) has an unordered hash table\n
 #: e2fsck/problem.c:1163
 msgid "@p @h %d: node (%B) has an unordered hash table\n"
-msgstr ""
-"@p i-wle @du HTREE %d: wze (%B) ma nie uporzdkowan tablic haszujc\n"
+msgstr "@p i-wle @du HTREE %d: wze (%B) ma nie uporzdkowan tablic haszujc\n"
 
 #. @-expanded: problem in HTREE directory inode %d: node (%B) has invalid depth\n
 #: e2fsck/problem.c:1168
@@ -2210,12 +2194,8 @@ msgstr "Bdna liczba wolnych @bw (%b, 
 #. @-expanded: PROGRAMMING ERROR: filesystem (#%N) bitmap endpoints (%b, %c) don't match calculated bitmap 
 #. @-expanded: endpoints (%i, %j)\n
 #: e2fsck/problem.c:1458
-msgid ""
-"PROGRAMMING ERROR: @f (#%N) @B endpoints (%b, %c) don't match calculated @B "
-"endpoints (%i, %j)\n"
-msgstr ""
-"BD PROGRAMU: koce bitmap systemu plikw (#%N) (%b, %c) nie zgadzaj si z "
-"policzonymi kocami bitmap (%i, %j)\n"
+msgid "PROGRAMMING ERROR: @f (#%N) @B endpoints (%b, %c) don't match calculated @B endpoints (%i, %j)\n"
+msgstr "BD PROGRAMU: koce bitmap systemu plikw (#%N) (%b, %c) nie zgadzaj si z policzonymi kocami bitmap (%i, %j)\n"
 
 #: e2fsck/problem.c:1464
 msgid "Internal error: fudging end of bitmap (%N)\n"
@@ -2235,8 +2215,7 @@ msgstr "Bd podczas kopiowania w zastp
 
 #: e2fsck/problem.c:1499
 msgid "Recreate journal to make the filesystem ext3 again?\n"
-msgstr ""
-"Utworzy ponownie kronik, aby uzyska z powrotem system plikw ext3?\n"
+msgstr "Utworzy ponownie kronik, aby uzyska z powrotem system plikw ext3?\n"
 
 #: e2fsck/problem.c:1617
 #, c-format
@@ -2344,8 +2323,7 @@ msgid ""
 " -p                   Automatic repair (no questions)\n"
 " -n                   Make no changes to the filesystem\n"
 " -y                   Assume \"yes\" to all questions\n"
-" -c                   Check for bad blocks and add them to the badblock "
-"list\n"
+" -c                   Check for bad blocks and add them to the badblock list\n"
 " -f                   Force checking even if filesystem is marked clean\n"
 msgstr ""
 "\n"
@@ -2354,8 +2332,7 @@ msgstr ""
 " -n                   Nie wykonywanie zmian w systemie plikw\n"
 " -y                   Przyjcie odpowiedzi \"tak\" na wszystkie pytania\n"
 " -c                   Szukanie wadliwych blokw i dodanie ich do listy\n"
-" -f                   Wymuszenie sprawdzenia nawet \"czystego\" systemu "
-"plikw\n"
+" -f                   Wymuszenie sprawdzenia nawet \"czystego\" systemu plikw\n"
 
 #: e2fsck/unix.c:86
 #, c-format
@@ -2369,8 +2346,7 @@ msgid ""
 msgstr ""
 " -v                   Pokazywanie wikszej iloci informacji\n"
 " -b superblok         Uycie innego superbloku\n"
-" -B rozm.bloku        Wymuszenie rozmiaru bloku przy poszukiwaniu "
-"superbloku\n"
+" -B rozm.bloku        Wymuszenie rozmiaru bloku przy poszukiwaniu superbloku\n"
 " -j zewn-kronika      Ustawienie pooenia zewntrznej kroniki\n"
 " -l plik_zych_blokw Dodanie do listy wadliwych blokw\n"
 " -L plik_zych_blokw Ustawienie listy wadliwych blokw\n"
@@ -2385,7 +2361,7 @@ msgstr "%s: %u/%u plikw (%0d.%d%% nieci
 msgid "         # of inodes with ind/dind/tind blocks: %u/%u/%u\n"
 msgstr "         liczba i-wzw z blokami ind/dind/tind: %u/%u/%u\n"
 
-#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:941 misc/util.c:151
+#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:876 misc/util.c:151
 #: resize/main.c:237
 #, c-format
 msgid "while determining whether %s is mounted."
@@ -2524,7 +2500,7 @@ msgstr "Opcja -t nie jest obsugiwana pr
 msgid "Byte-swapping filesystems not compiled in this version of e2fsck\n"
 msgstr "Zamiana bajtw systemu plikw nie wkompilowana w t wersj e2fsck\n"
 
-#: e2fsck/unix.c:770 misc/tune2fs.c:504 misc/tune2fs.c:769 misc/tune2fs.c:786
+#: e2fsck/unix.c:770 misc/tune2fs.c:470 misc/tune2fs.c:735 misc/tune2fs.c:752
 #, c-format
 msgid "Unable to resolve '%s'"
 msgstr "Nie udao si rozwiza '%s'"
@@ -2559,38 +2535,38 @@ msgstr ""
 "Bdny argument nieliczbowy dla -%c (\"%s\")\n"
 "\n"
 
-#: e2fsck/unix.c:905
+#: e2fsck/unix.c:904
 #, c-format
 msgid "Error: ext2fs library version out of date!\n"
 msgstr "Bd: wersja biblioteki ext2fs jest za stara!\n"
 
-#: e2fsck/unix.c:913
+#: e2fsck/unix.c:912
 msgid "while trying to initialize program"
 msgstr "podczas prby inicjalizacji programu"
 
-#: e2fsck/unix.c:927
+#: e2fsck/unix.c:926
 #, c-format
 msgid "\tUsing %s, %s\n"
 msgstr "\tUywane %s, %s\n"
 
-#: e2fsck/unix.c:939
+#: e2fsck/unix.c:938
 msgid "need terminal for interactive repairs"
 msgstr "interaktywna naprawa wymaga terminala"
 
-#: e2fsck/unix.c:983
+#: e2fsck/unix.c:978
 #, c-format
 msgid "%s: %s trying backup blocks...\n"
 msgstr "%s: %s podczas prby wykonania kopii zapasowej blokw...\n"
 
-#: e2fsck/unix.c:985
+#: e2fsck/unix.c:980
 msgid "Superblock invalid,"
 msgstr "Superblok bdny,"
 
-#: e2fsck/unix.c:986
+#: e2fsck/unix.c:981
 msgid "Group descriptors look bad..."
 msgstr "Deskryptory grup wygldaj le..."
 
-#: e2fsck/unix.c:1013
+#: e2fsck/unix.c:995
 #, c-format
 msgid ""
 "The filesystem revision is apparently too high for this version of e2fsck.\n"
@@ -2601,28 +2577,27 @@ msgstr ""
 "(lub superblok systemu plikw jest uszkodzony)\n"
 "\n"
 
-#: e2fsck/unix.c:1019
+#: e2fsck/unix.c:1001
 #, c-format
 msgid "Could this be a zero-length partition?\n"
 msgstr "Czy to moe jest partycja zerowej dugoci?\n"
 
-#: e2fsck/unix.c:1021
+#: e2fsck/unix.c:1003
 #, c-format
 msgid "You must have %s access to the filesystem or be root\n"
 msgstr "Trzeba mie dostp %s do systemu plikw lub by rootem\n"
 
-#: e2fsck/unix.c:1026
+#: e2fsck/unix.c:1008
 #, c-format
 msgid "Possibly non-existent or swap device?\n"
 msgstr "Zapewne nie istniejce urzdzenie lub swap?\n"
 
-#: e2fsck/unix.c:1028
+#: e2fsck/unix.c:1010
 #, c-format
 msgid "Filesystem mounted or opened exclusively by another program?\n"
-msgstr ""
-"System plikw podmontowany lub otwarty na wyczno przez inny program?\n"
+msgstr "System plikw podmontowany lub otwarty na wyczno przez inny program?\n"
 
-#: e2fsck/unix.c:1032
+#: e2fsck/unix.c:1014
 #, c-format
 msgid ""
 "Disk write-protected; use the -n option to do a read-only\n"
@@ -2631,44 +2606,37 @@ msgstr ""
 "Dysk zabezpieczony przed zapisem; mona uy opcji -n aby sprawdzi\n"
 "urzdzenie w trybie tylko do odczytu.\n"
 
-#: e2fsck/unix.c:1096
+#: e2fsck/unix.c:1078
 msgid "Get a newer version of e2fsck!"
 msgstr "Potrzeba nowszej wersji e2fsck!"
 
-#: e2fsck/unix.c:1117
+#: e2fsck/unix.c:1099
 #, c-format
 msgid "while checking ext3 journal for %s"
 msgstr "podczas sprawdzania kroniki ext3 dla %s"
 
-#: e2fsck/unix.c:1128
+#: e2fsck/unix.c:1110
 #, c-format
-msgid ""
-"Warning: skipping journal recovery because doing a read-only filesystem "
-"check.\n"
+msgid "Warning: skipping journal recovery because doing a read-only filesystem check.\n"
 msgstr ""
 "Uwaga: pominito odtwarzanie z kroniki z powodu sprawdzania w trybie tylko\n"
 "do odczytu.\n"
 
-#: e2fsck/unix.c:1141
+#: e2fsck/unix.c:1123
 #, c-format
 msgid "unable to set superblock flags on %s\n"
 msgstr "nie mona ustawi flag superbloku na %s\n"
 
-#: e2fsck/unix.c:1147
+#: e2fsck/unix.c:1129
 #, c-format
 msgid "while recovering ext3 journal of %s"
 msgstr "podczas odtwarzania z kroniki ext3 dla %s"
 
-#: e2fsck/unix.c:1171
-#, fuzzy, c-format
-msgid "%s has unsupported feature(s):"
-msgstr "System plikw %s ma wczone nie obsugiwane cechy.\n"
-
-#: e2fsck/unix.c:1187
+#: e2fsck/unix.c:1158
 msgid "Warning: compression support is experimental.\n"
 msgstr "Uwaga: obsuga kompresji jest eksperymentalna.\n"
 
-#: e2fsck/unix.c:1192
+#: e2fsck/unix.c:1163
 #, c-format
 msgid ""
 "E2fsck not compiled with HTREE support,\n"
@@ -2677,30 +2645,30 @@ msgstr ""
 "E2fsck skompilowany bez obsugi HTREE,\n"
 "\tale system plikw %s ma katalogi HTREE.\n"
 
-#: e2fsck/unix.c:1241
+#: e2fsck/unix.c:1212
 #, c-format
 msgid "%s: Filesystem byte order already normalized.\n"
 msgstr "%s: kolejno bajtw w systemie plikw ju znormalizowana.\n"
 
-#: e2fsck/unix.c:1261
+#: e2fsck/unix.c:1232
 msgid "while reading bad blocks inode"
 msgstr "podczas odczytu i-wza wadliwych blokw"
 
-#: e2fsck/unix.c:1263
+#: e2fsck/unix.c:1234
 #, c-format
 msgid "This doesn't bode well, but we'll try to go on...\n"
 msgstr "Nie wry to dobrze, ale sprbuj kontynuowa...\n"
 
-#: e2fsck/unix.c:1289
+#: e2fsck/unix.c:1260
 msgid "Couldn't determine journal size"
 msgstr "Nie udao si okreli rozmiaru kroniki"
 
-#: e2fsck/unix.c:1292 misc/mke2fs.c:1776
+#: e2fsck/unix.c:1263 misc/mke2fs.c:1744
 #, c-format
 msgid "Creating journal (%d blocks): "
 msgstr "Tworzenie kroniki (%d blokw): "
 
-#: e2fsck/unix.c:1299 misc/mke2fs.c:1784
+#: e2fsck/unix.c:1270 misc/mke2fs.c:1752
 msgid ""
 "\n"
 "\twhile trying to create journal"
@@ -2708,12 +2676,12 @@ msgstr ""
 "\n"
 "\tpodczas prby utworzenia kroniki"
 
-#: e2fsck/unix.c:1302
+#: e2fsck/unix.c:1273
 #, c-format
 msgid " Done.\n"
 msgstr " Wykonano.\n"
 
-#: e2fsck/unix.c:1303
+#: e2fsck/unix.c:1274
 #, c-format
 msgid ""
 "\n"
@@ -2722,25 +2690,25 @@ msgstr ""
 "\n"
 "*** kronika zostaa ponownie utworzona - system plikw to znowu ext3 ***\n"
 
-#: e2fsck/unix.c:1310
+#: e2fsck/unix.c:1281
 #, c-format
 msgid "Restarting e2fsck from the beginning...\n"
 msgstr "Restart e2fsck od pocztku...\n"
 
-#: e2fsck/unix.c:1314
+#: e2fsck/unix.c:1285
 msgid "while resetting context"
 msgstr "podczas resetowania kontekstu"
 
-#: e2fsck/unix.c:1321
+#: e2fsck/unix.c:1292
 #, c-format
 msgid "%s: e2fsck canceled.\n"
 msgstr "%s: e2fsck przerwany.\n"
 
-#: e2fsck/unix.c:1326
+#: e2fsck/unix.c:1297
 msgid "aborted"
 msgstr "przerwano"
 
-#: e2fsck/unix.c:1338
+#: e2fsck/unix.c:1309
 #, c-format
 msgid ""
 "\n"
@@ -2749,12 +2717,12 @@ msgstr ""
 "\n"
 "%s: ***** SYSTEM PLIKW ZMODYFIKOWANY *****\n"
 
-#: e2fsck/unix.c:1341
+#: e2fsck/unix.c:1312
 #, c-format
 msgid "%s: ***** REBOOT LINUX *****\n"
 msgstr "%s: ***** WYMAGANY RESTART LINUKSA *****\n"
 
-#: e2fsck/unix.c:1349
+#: e2fsck/unix.c:1320
 #, c-format
 msgid ""
 "\n"
@@ -2906,13 +2874,11 @@ msgstr "zakoczono                      
 #, c-format
 msgid ""
 "Usage: %s [-b block_size] [-i input_file] [-o output_file] [-svwnf]\n"
-" [-c blocks_at_once] [-p num_passes] [-t test_pattern [-t test_pattern "
-"[...]]]\n"
+" [-c blocks_at_once] [-p num_passes] [-t test_pattern [-t test_pattern [...]]]\n"
 " device [last_block [start_block]]\n"
 msgstr ""
 "Skadnia: %s [-b rozm_bloku] [-i plik_wej] [-o plik_wyj] [-svwnf]\n"
-" [-c blokw_naraz] [-p przebiegw] [-t wzr_testowy [-t wzr_testowy "
-"[...]]]\n"
+" [-c blokw_naraz] [-p przebiegw] [-t wzr_testowy [-t wzr_testowy [...]]]\n"
 " urzdzenie [ostatni_blok [pocztek]]\n"
 
 #: misc/badblocks.c:88
@@ -3058,7 +3024,7 @@ msgstr ""
 msgid "while trying to determine device size"
 msgstr "podczas prby okrelenia rozmiaru urzdzenia"
 
-#: misc/badblocks.c:996 misc/mke2fs.c:1255
+#: misc/badblocks.c:996 misc/mke2fs.c:1223
 #, c-format
 msgid "invalid blocks count - %s"
 msgstr "bdna liczba blokw - %s"
@@ -3223,7 +3189,7 @@ msgstr "podczas wypisywania listy wadliw
 msgid "Bad blocks: %u"
 msgstr "Wadliwe bloki: %u"
 
-#: misc/dumpe2fs.c:274 misc/tune2fs.c:261
+#: misc/dumpe2fs.c:274 misc/tune2fs.c:243
 msgid "while reading journal inode"
 msgstr "podczas odczytu i-wza kroniki"
 
@@ -3231,7 +3197,7 @@ msgstr "podczas odczytu i-wza kroniki"
 msgid "Journal size:             "
 msgstr "Rozmiar kroniki:              "
 
-#: misc/dumpe2fs.c:296 misc/tune2fs.c:183
+#: misc/dumpe2fs.c:296 misc/tune2fs.c:165
 msgid "while reading journal superblock"
 msgstr "podczas odczytu superbloku kroniki"
 
@@ -3263,62 +3229,22 @@ msgstr ""
 msgid "Journal users:            %s\n"
 msgstr "Uytkownicy kroniki:          %s\n"
 
-#: misc/dumpe2fs.c:337 misc/mke2fs.c:768 misc/tune2fs.c:810
-#, c-format
-msgid "Couldn't allocate memory to parse options!\n"
-msgstr "Nie mona przydzieli pamici do analizy opcji!\n"
-
-#: misc/dumpe2fs.c:363
-#, fuzzy, c-format
-msgid "Invalid superblock parameter: %s\n"
-msgstr "Bdny parametr stride: %s\n"
-
-#: misc/dumpe2fs.c:378
-#, fuzzy, c-format
-msgid "Invalid blocksize parameter: %s\n"
-msgstr "Bdny parametr resize: %s\n"
-
-#: misc/dumpe2fs.c:389
-#, fuzzy, c-format
-msgid ""
-"\n"
-"Bad extended option(s) specified: %s\n"
-"\n"
-"Extended options are separated by commas, and may take an argument which\n"
-"\tis set off by an equals ('=') sign.\n"
-"\n"
-"Valid extended options are:\n"
-"\tsuperblock=<superblock number>\n"
-"\tblocksize=<blocksize>\n"
-msgstr ""
-"\n"
-"Podano bdne opcje.\n"
-"\n"
-"Rozszerzone opcje s oddzielane przecinkami i mog przyjmowa parametr,\n"
-"\tktry jest ustawiany znakiem '='.\n"
-"\n"
-"Poprawne opcje to:\n"
-"\tstride=<dugo stride w blokach>\n"
-"\tresize=<maksymalny rozmiar powikszenia w blokach>\n"
-"\ttest_fs\n"
-"\t^test_fs\n"
-
-#: misc/dumpe2fs.c:449 misc/mke2fs.c:1199
+#: misc/dumpe2fs.c:376 misc/mke2fs.c:1167
 #, c-format
 msgid "\tUsing %s\n"
 msgstr "\tUywane %s\n"
 
-#: misc/dumpe2fs.c:485 misc/e2image.c:666 misc/tune2fs.c:919 resize/main.c:298
+#: misc/dumpe2fs.c:402 misc/e2image.c:666 misc/tune2fs.c:854 resize/main.c:298
 #, c-format
 msgid "Couldn't find valid filesystem superblock.\n"
 msgstr "Nie mona znale poprawnego superbloku systemu plikw.\n"
 
-#: misc/dumpe2fs.c:496
+#: misc/dumpe2fs.c:413
 #, c-format
 msgid "Note: This is a byte-swapped filesystem\n"
 msgstr "Uwaga: to jest system plikw z zamienionymi bajtami\n"
 
-#: misc/dumpe2fs.c:515
+#: misc/dumpe2fs.c:432
 #, c-format
 msgid ""
 "\n"
@@ -3377,7 +3303,7 @@ msgstr "e2label: bd podczas odczytu su
 msgid "e2label: not an ext2 filesystem\n"
 msgstr "e2label: to nie jest system plikw ext2\n"
 
-#: misc/e2label.c:96 misc/tune2fs.c:1025
+#: misc/e2label.c:96 misc/tune2fs.c:970
 #, c-format
 msgid "Warning: label too long, truncating.\n"
 msgstr "Uwaga: etykieta za duga, skrcono.\n"
@@ -3392,7 +3318,7 @@ msgstr "e2label: nie mona przej ponow
 msgid "e2label: error writing superblock\n"
 msgstr "e2label: bd podczas zapisu superbloku\n"
 
-#: misc/e2label.c:116 misc/tune2fs.c:496
+#: misc/e2label.c:116 misc/tune2fs.c:462
 #, c-format
 msgid "Usage: e2label device [newlabel]\n"
 msgstr "Skadnia: e2label urzdzenie [nowa-etykieta]\n"
@@ -3462,12 +3388,8 @@ msgstr "Nie mona przydzieli pamici na
 
 #: misc/fsck.c:872
 #, c-format
-msgid ""
-"%s: skipping bad line in /etc/fstab: bind mount with nonzero fsck pass "
-"number\n"
-msgstr ""
-"%s: pominito bdn lini w /etc/fstab: montowanie bind z niezerowym "
-"numerem przebiegu fsck\n"
+msgid "%s: skipping bad line in /etc/fstab: bind mount with nonzero fsck pass number\n"
+msgstr "%s: pominito bdn lini w /etc/fstab: montowanie bind z niezerowym numerem przebiegu fsck\n"
 
 #: misc/fsck.c:899
 #, c-format
@@ -3478,25 +3400,21 @@ msgstr "fsck: nie mona sprawdzi %s: fs
 msgid "Checking all file systems.\n"
 msgstr "Sprawdzanie wszystkich systemw plikw.\n"
 
-#: misc/fsck.c:1046
+#: misc/fsck.c:1041
 #, c-format
 msgid "--waiting-- (pass %d)\n"
 msgstr "--oczekiwanie-- (przebieg %d)\n"
 
-#: misc/fsck.c:1066
-#, fuzzy
-msgid ""
-"Usage: fsck [-AMNPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
-msgstr ""
-"Skadnia: fsck [-ANPRTV] [ -C [ deskryptor ] ] [-t rodzaj-fs] [opcje-fs] "
-"[system-plikw ...]\n"
+#: misc/fsck.c:1061
+msgid "Usage: fsck [-ANPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
+msgstr "Skadnia: fsck [-ANPRTV] [ -C [ deskryptor ] ] [-t rodzaj-fs] [opcje-fs] [system-plikw ...]\n"
 
-#: misc/fsck.c:1108
+#: misc/fsck.c:1103
 #, c-format
 msgid "%s: too many devices\n"
 msgstr "%s: za duo urzdze\n"
 
-#: misc/fsck.c:1141 misc/fsck.c:1227
+#: misc/fsck.c:1136 misc/fsck.c:1222
 #, c-format
 msgid "%s: too many arguments\n"
 msgstr "%s: za duo parametrw\n"
@@ -3517,14 +3435,14 @@ msgid "While reading version on %s"
 msgstr "Podczas odczytu wersji %s"
 
 #: misc/mke2fs.c:97
-#, fuzzy, c-format
+#, c-format
 msgid ""
-"Usage: %s [-c|-l filename] [-b block-size] [-f fragment-size]\n"
-"\t[-i bytes-per-inode] [-I inode-size] [-J journal-options]\n"
+"Usage: %s [-c|-t|-l filename] [-b block-size] [-f fragment-size]\n"
+"\t[-i bytes-per-inode] [-I inode-size] [-j] [-J journal-options]\n"
 "\t[-N number-of-inodes] [-m reserved-blocks-percentage] [-o creator-os]\n"
 "\t[-g blocks-per-group] [-L volume-label] [-M last-mounted-directory]\n"
-"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]]\n"
-"\t[-T fs-type] [-jnqvFSV] device [blocks-count]\n"
+"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]] [-qvSV]\n"
+"\tdevice [blocks-count]\n"
 msgstr ""
 "Skadnia: %s [-c|-t|-l nazwa-pliku] [-b rozm.bloku] [-f rozm.fragm.]\n"
 "\t[-i bajtw-na-i-wze] [-I rozm-i-wza] [-j] [-J opcje-kroniki]\n"
@@ -3533,35 +3451,35 @@ msgstr ""
 "\t[-O cecha[,...]] [-r wersja-fs] [-E opcja-rozszerzona[,...]] [-qvSV]\n"
 "\turzdzenie [liczba-blokw]\n"
 
-#: misc/mke2fs.c:198
+#: misc/mke2fs.c:197
 #, c-format
 msgid "Running command: %s\n"
 msgstr "Uruchamianie polecenia: %s\n"
 
-#: misc/mke2fs.c:202
+#: misc/mke2fs.c:201
 #, c-format
 msgid "while trying to run '%s'"
 msgstr "podczas prby uruchomienia '%s'"
 
-#: misc/mke2fs.c:209
+#: misc/mke2fs.c:208
 msgid "while processing list of bad blocks from program"
 msgstr "podczas przetwarzania listy wadliwych blokw z programu"
 
-#: misc/mke2fs.c:236
+#: misc/mke2fs.c:235
 #, c-format
 msgid "Block %d in primary superblock/group descriptor area bad.\n"
 msgstr "Wadliwy blok %d w gwnym superbloku/obszarze deskryptora grup.\n"
 
-#: misc/mke2fs.c:238
+#: misc/mke2fs.c:237
 #, c-format
 msgid "Blocks %u through %u must be good in order to build a filesystem.\n"
 msgstr "Bloki od %u do %u musz by dobre, aby stworzy system plikw.\n"
 
-#: misc/mke2fs.c:241
+#: misc/mke2fs.c:240
 msgid "Aborting....\n"
 msgstr "Przerwano...\n"
 
-#: misc/mke2fs.c:261
+#: misc/mke2fs.c:260
 #, c-format
 msgid ""
 "Warning: the backup superblock/group descriptors at block %u contain\n"
@@ -3572,23 +3490,23 @@ msgstr ""
 "\twadliwe bloki.\n"
 "\n"
 
-#: misc/mke2fs.c:279
+#: misc/mke2fs.c:278
 msgid "while marking bad blocks as used"
 msgstr "podczas zaznaczania wadliwych blokw jako uywane"
 
-#: misc/mke2fs.c:337
+#: misc/mke2fs.c:336
 msgid "done                            \n"
 msgstr "zakoczono                      \n"
 
-#: misc/mke2fs.c:372
+#: misc/mke2fs.c:371
 msgid "while allocating zeroizing buffer"
 msgstr "podczas przydzielania bufora zerujcego"
 
-#: misc/mke2fs.c:414
+#: misc/mke2fs.c:413
 msgid "Writing inode tables: "
 msgstr "Zapis tablicy i-wzw: "
 
-#: misc/mke2fs.c:431
+#: misc/mke2fs.c:430
 #, c-format
 msgid ""
 "\n"
@@ -3597,67 +3515,67 @@ msgstr ""
 "\n"
 "Nie mona zapisa %d blokw w tablicy i-wzw poczwszy od %u: %s\n"
 
-#: misc/mke2fs.c:487
+#: misc/mke2fs.c:486
 msgid "while creating root dir"
 msgstr "podczas tworzenia gwnego katalogu"
 
-#: misc/mke2fs.c:494
+#: misc/mke2fs.c:493
 msgid "while reading root inode"
 msgstr "podczas odczytu gwnego i-wza"
 
-#: misc/mke2fs.c:508
+#: misc/mke2fs.c:507
 msgid "while setting root inode ownership"
 msgstr "podczas ustawiania waciciela gwnego i-wza"
 
-#: misc/mke2fs.c:526
+#: misc/mke2fs.c:525
 msgid "while creating /lost+found"
 msgstr "podczas tworzenia /lost+found"
 
-#: misc/mke2fs.c:533
+#: misc/mke2fs.c:532
 msgid "while looking up /lost+found"
 msgstr "podczas szukania /lost+found"
 
-#: misc/mke2fs.c:543
+#: misc/mke2fs.c:542
 msgid "while expanding /lost+found"
 msgstr "podczas rozszerzania /lost+found"
 
-#: misc/mke2fs.c:559
+#: misc/mke2fs.c:558
 msgid "while setting bad block inode"
 msgstr "podczas ustawiania i-wza wadliwych blokw"
 
-#: misc/mke2fs.c:591
+#: misc/mke2fs.c:590
 #, c-format
 msgid "Out of memory erasing sectors %d-%d\n"
 msgstr "Brak pamici podczas czyszczenia sektorw %d-%d\n"
 
-#: misc/mke2fs.c:601
+#: misc/mke2fs.c:600
 #, c-format
 msgid "Warning: could not read block 0: %s\n"
 msgstr "Uwaga: nie mona odczyta bloku 0: %s\n"
 
-#: misc/mke2fs.c:617
+#: misc/mke2fs.c:616
 #, c-format
 msgid "Warning: could not erase sector %d: %s\n"
 msgstr "Uwaga: nie mona wyczyci sektora %d: %s\n"
 
-#: misc/mke2fs.c:633
+#: misc/mke2fs.c:632
 msgid "while initializing journal superblock"
 msgstr "podczas inicjalizacji superbloku kroniki"
 
-#: misc/mke2fs.c:639
+#: misc/mke2fs.c:638
 msgid "Zeroing journal device: "
 msgstr "Zerowanie urzdzenia kroniki: "
 
-#: misc/mke2fs.c:646
+#: misc/mke2fs.c:645
 #, c-format
 msgid "while zeroing journal device (block %u, count %d)"
 msgstr "podczas zerowania urzdzenia kroniki (blok %u, liczba %d)"
 
-#: misc/mke2fs.c:657
+#: misc/mke2fs.c:656
 msgid "while writing journal superblock"
 msgstr "podczas zapisu superbloku kroniki"
 
-#: misc/mke2fs.c:673
+#: misc/mke2fs.c:672
 #, c-format
 msgid ""
 "warning: %u blocks unused.\n"
@@ -3666,112 +3584,107 @@ msgstr ""
 "uwaga: %u blokw nie uywanych.\n"
 "\n"
 
-#: misc/mke2fs.c:678
+#: misc/mke2fs.c:677
 #, c-format
 msgid "Filesystem label=%s\n"
 msgstr "Etykieta systemu plikw=%s\n"
 
-#: misc/mke2fs.c:679
+#: misc/mke2fs.c:678
 msgid "OS type: "
 msgstr "Typ OS: "
 
-#: misc/mke2fs.c:684
+#: misc/mke2fs.c:683
 #, c-format
 msgid "Block size=%u (log=%u)\n"
 msgstr "Rozmiar bloku=%u (log=%u)\n"
 
-#: misc/mke2fs.c:686
+#: misc/mke2fs.c:685
 #, c-format
 msgid "Fragment size=%u (log=%u)\n"
 msgstr "Rozmiar fragmentu=%u (log=%u)\n"
 
-#: misc/mke2fs.c:688
+#: misc/mke2fs.c:687
 #, c-format
 msgid "%u inodes, %u blocks\n"
 msgstr "%u i-wzw, %u blokw\n"
 
-#: misc/mke2fs.c:690
+#: misc/mke2fs.c:689
 #, c-format
 msgid "%u blocks (%2.2f%%) reserved for the super user\n"
 msgstr "%u blokw (%2.2f%%) zarezerwowanych dla superuytkownika\n"
 
-#: misc/mke2fs.c:693
+#: misc/mke2fs.c:692
 #, c-format
 msgid "First data block=%u\n"
 msgstr "Pierwszy blok danych=%u\n"
 
-#: misc/mke2fs.c:695
+#: misc/mke2fs.c:694
 #, c-format
 msgid "Maximum filesystem blocks=%lu\n"
 msgstr "Maksymalna liczba blokw systemu plikw=%lu\n"
 
-#: misc/mke2fs.c:700
+#: misc/mke2fs.c:699
 #, c-format
 msgid "%u block groups\n"
 msgstr "%u grup blokw\n"
 
-#: misc/mke2fs.c:702
+#: misc/mke2fs.c:701
 #, c-format
 msgid "%u block group\n"
 msgstr "%u grupa blokw\n"
 
-#: misc/mke2fs.c:703
+#: misc/mke2fs.c:702
 #, c-format
 msgid "%u blocks per group, %u fragments per group\n"
 msgstr "%u blokw w grupie, %u fragmentw w grupie\n"
 
-#: misc/mke2fs.c:705
+#: misc/mke2fs.c:704
 #, c-format
 msgid "%u inodes per group\n"
 msgstr "%u i-wzw w grupie\n"
 
-#: misc/mke2fs.c:712
+#: misc/mke2fs.c:711
 #, c-format
 msgid "Superblock backups stored on blocks: "
 msgstr "Kopie zapasowe superbloku zapisane w blokach: "
 
-#: misc/mke2fs.c:793
+#: misc/mke2fs.c:767 misc/tune2fs.c:776
 #, c-format
-msgid "Invalid stride parameter: %s\n"
-msgstr "Bdny parametr stride: %s\n"
+msgid "Couldn't allocate memory to parse options!\n"
+msgstr "Nie mona przydzieli pamici do analizy opcji!\n"
 
-#: misc/mke2fs.c:808
-#, fuzzy, c-format
-msgid "Invalid stripe-width parameter: %s\n"
+#: misc/mke2fs.c:791
+#, c-format
+msgid "Invalid stride parameter: %s\n"
 msgstr "Bdny parametr stride: %s\n"
 
-#: misc/mke2fs.c:830
+#: misc/mke2fs.c:812
 #, c-format
 msgid "Invalid resize parameter: %s\n"
 msgstr "Bdny parametr resize: %s\n"
 
-#: misc/mke2fs.c:837
+#: misc/mke2fs.c:819
 #, c-format
 msgid "The resize maximum must be greater than the filesystem size.\n"
-msgstr ""
-"Maksymalny rozmiar (resize) musi by wikszy od rozmiaru systemu plikw.\n"
+msgstr "Maksymalny rozmiar (resize) musi by wikszy od rozmiaru systemu plikw.\n"
 
-#: misc/mke2fs.c:861
+#: misc/mke2fs.c:843
 #, c-format
 msgid "On-line resizing not supported with revision 0 filesystems\n"
-msgstr ""
-"Zmiana rozmiaru w locie nie jest obsugiwana przez systemy plikw w wersji "
-"0\n"
+msgstr "Zmiana rozmiaru w locie nie jest obsugiwana przez systemy plikw w wersji 0\n"
 
-#: misc/mke2fs.c:878
-#, fuzzy, c-format
+#: misc/mke2fs.c:858
+#, c-format
 msgid ""
 "\n"
-"Bad option(s) specified: %s\n"
+"Bad options specified.\n"
 "\n"
 "Extended options are separated by commas, and may take an argument which\n"
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk data chunk in blocks>\n"
-"\tstripe-width=<RAID stride * data disks in blocks>\n"
+"\tstride=<stride length in blocks>\n"
 "\tresize=<resize maximum size in blocks>\n"
-"\n"
 "\ttest_fs\n"
 msgstr ""
 "\n"
@@ -3785,15 +3698,7 @@ msgstr ""
 "\tresize=<maksymalny rozmiar powikszenia w blokach>\n"
 "\ttest_fs\n"
 
-#: misc/mke2fs.c:893
-#, c-format
-msgid ""
-"\n"
-"Warning: RAID stripe-width %u not an even multiple of stride %u.\n"
-"\n"
-msgstr ""
-
-#: misc/mke2fs.c:920
+#: misc/mke2fs.c:888
 #, c-format
 msgid ""
 "Syntax error in mke2fs config file (%s, line #%d)\n"
@@ -3802,100 +3707,97 @@ msgstr ""
 "Bd skadni w pliku konfiguracyjnym mke2fs (%s, linia %d)\n"
 "\t%s\n"
 
-#: misc/mke2fs.c:933 misc/tune2fs.c:335
+#: misc/mke2fs.c:901 misc/tune2fs.c:314
 #, c-format
 msgid "Invalid filesystem option set: %s\n"
 msgstr "Ustawiona bdna opcja systemu plikw: %s\n"
 
-#: misc/mke2fs.c:1040
+#: misc/mke2fs.c:1008
 #, c-format
 msgid "invalid block size - %s"
 msgstr "bdny rozmiar bloku - %s"
 
-#: misc/mke2fs.c:1044
+#: misc/mke2fs.c:1012
 #, c-format
 msgid "Warning: blocksize %d not usable on most systems.\n"
 msgstr "Uwaga: rozmiar bloku %d nie uywalny na wikszoci systemw.\n"
 
-#: misc/mke2fs.c:1061
+#: misc/mke2fs.c:1029
 #, c-format
 msgid "invalid fragment size - %s"
 msgstr "zy rozmiar fragmentu - %s"
 
-#: misc/mke2fs.c:1067
+#: misc/mke2fs.c:1035
 #, c-format
 msgid "Warning: fragments not supported.  Ignoring -f option\n"
 msgstr "Uwaga: fragmenty nie obsugiwane. Opcja -f zignorowana\n"
 
-#: misc/mke2fs.c:1074
+#: misc/mke2fs.c:1042
 msgid "Illegal number for blocks per group"
 msgstr "Bdna liczba blokw w grupie"
 
-#: misc/mke2fs.c:1079
+#: misc/mke2fs.c:1047
 msgid "blocks per group must be multiple of 8"
 msgstr "liczba blokw w grupie musi by wielokrotnoci 8"
 
-#: misc/mke2fs.c:1089
+#: misc/mke2fs.c:1057
 #, c-format
 msgid "invalid inode ratio %s (min %d/max %d)"
 msgstr "bdny stosunek i-wzw %s (min %d/max %d)"
 
-#: misc/mke2fs.c:1106
+#: misc/mke2fs.c:1074
 msgid "in malloc for bad_blocks_filename"
 msgstr "w malloc dla bad_blocks_filename"
 
-#: misc/mke2fs.c:1115
+#: misc/mke2fs.c:1083
 #, c-format
 msgid "invalid reserved blocks percent - %s"
 msgstr "bdny procent zarezerwowanych blokw - %s"
 
-#: misc/mke2fs.c:1133
+#: misc/mke2fs.c:1101
 #, c-format
 msgid "bad revision level - %s"
 msgstr "bdny poziom wersji - %s"
 
-#: misc/mke2fs.c:1145
+#: misc/mke2fs.c:1113
 #, c-format
 msgid "invalid inode size - %s"
 msgstr "bdny rozmiar i-wza - %s"
 
-#: misc/mke2fs.c:1165
+#: misc/mke2fs.c:1133
 #, c-format
 msgid "bad num inodes - %s"
 msgstr "bdna liczba i-wzw - %s"
 
-#: misc/mke2fs.c:1223 misc/mke2fs.c:1745
+#: misc/mke2fs.c:1191 misc/mke2fs.c:1713
 #, c-format
 msgid "while trying to open journal device %s\n"
 msgstr "podczas prby otwarcia urzdzenia kroniki %s\n"
 
-#: misc/mke2fs.c:1229
+#: misc/mke2fs.c:1197
 #, c-format
 msgid "Journal dev blocksize (%d) smaller than minimum blocksize %d\n"
 msgstr "Rozmiar bloku urzdzenia z kronik (%d) mniejszy od minimalnego %d\n"
 
-#: misc/mke2fs.c:1243
+#: misc/mke2fs.c:1211
 #, c-format
 msgid "%d-byte blocks too big for system (max %d)"
 msgstr "%d-bajtowe bloki s zbyt due dla systemu (max %d)"
 
-#: misc/mke2fs.c:1247
+#: misc/mke2fs.c:1215
 #, c-format
-msgid ""
-"Warning: %d-byte blocks too big for system (max %d), forced to continue\n"
-msgstr ""
-"Uwaga: %d-bajtowe bloki s zbyt due dla systemu (max %d), wymuszono "
-"kontynuacj\n"
+msgid "Warning: %d-byte blocks too big for system (max %d), forced to continue\n"
+msgstr "Uwaga: %d-bajtowe bloki s zbyt due dla systemu (max %d), wymuszono kontynuacj\n"
 
-#: misc/mke2fs.c:1265
+#: misc/mke2fs.c:1233
 msgid "filesystem"
 msgstr "system plikw"
 
-#: misc/mke2fs.c:1288 resize/main.c:332
+#: misc/mke2fs.c:1256 resize/main.c:332
 msgid "while trying to determine filesystem size"
 msgstr "podczas prby okrelenia rozmiaru systemu plikw"
 
-#: misc/mke2fs.c:1294
+#: misc/mke2fs.c:1262
 msgid ""
 "Couldn't determine device size; you must specify\n"
 "the size of the filesystem\n"
@@ -3903,7 +3805,7 @@ msgstr ""
 "Nie mona okreli rozmiaru urzdzenia; rozmiar systemu\n"
 "plikw musi by podany\n"
 
-#: misc/mke2fs.c:1301
+#: misc/mke2fs.c:1269
 msgid ""
 "Device size reported to be zero.  Invalid partition specified, or\n"
 "\tpartition table wasn't reread after running fdisk, due to\n"
@@ -3915,41 +3817,38 @@ msgstr ""
 "\tfdiska z powodu zajtej modyfikowanej partycji. Ponowny odczyt\n"
 "\ttablicy partycji moe wymaga rebootu.\n"
 
-#: misc/mke2fs.c:1319
+#: misc/mke2fs.c:1287
 msgid "Filesystem larger than apparent device size."
 msgstr "System plikw wikszy od widocznego rozmiaru urzdzenia."
 
-#: misc/mke2fs.c:1367
+#: misc/mke2fs.c:1335
 #, c-format
 msgid "Filesystem features not supported with revision 0 filesystems\n"
 msgstr "Cechy systemu plikw nie obsugiwane przez systemy plikw w wersji 0\n"
 
-#: misc/mke2fs.c:1374
+#: misc/mke2fs.c:1342
 #, c-format
 msgid "Sparse superblocks not supported with revision 0 filesystems\n"
-msgstr ""
-"Rzadkie superbloki nie s obsugiwane przez systemy plikw w wersji 0\n"
+msgstr "Rzadkie superbloki nie s obsugiwane przez systemy plikw w wersji 0\n"
 
-#: misc/mke2fs.c:1386
+#: misc/mke2fs.c:1354
 #, c-format
 msgid "Journals not supported with revision 0 filesystems\n"
 msgstr "Kroniki nie s obsugiwane przez systemy plikw w wersji 0\n"
 
-#: misc/mke2fs.c:1412
+#: misc/mke2fs.c:1380
 msgid "while trying to determine hardware sector size"
 msgstr "podczas prby okrelenia rozmiaru sprztowego sektora"
 
-#: misc/mke2fs.c:1464
+#: misc/mke2fs.c:1432
 msgid "reserved online resize blocks not supported on non-sparse filesystem"
-msgstr ""
-"zarezerwowane bloki do zmiany rozmiaru w locie nie obsugiwane na niecigym "
-"systemie plikw"
+msgstr "zarezerwowane bloki do zmiany rozmiaru w locie nie obsugiwane na niecigym systemie plikw"
 
-#: misc/mke2fs.c:1473
+#: misc/mke2fs.c:1441
 msgid "blocks per group count out of range"
 msgstr "liczba blokw w grupie spoza zakresu"
 
-#: misc/mke2fs.c:1480
+#: misc/mke2fs.c:1448
 msgid ""
 "Filesystem too large.  No more than 2**31-1 blocks\n"
 "\t (8TB using a blocksize of 4k) are currently supported."
@@ -3957,7 +3856,7 @@ msgstr ""
 "System plikw zbyt duy. Obsugiwane jest najwyej 2**31-1 blokw\n"
 "\t (8TB przy uyciu rozmiaru bloku 4k)."
 
-#: misc/mke2fs.c:1487
+#: misc/mke2fs.c:1455
 #, c-format
 msgid ""
 "\n"
@@ -3970,27 +3869,27 @@ msgstr ""
 "\tprzy uyciu ext3. Naley uy -b 4096 jeli jest to problemem.\n"
 "\n"
 
-#: misc/mke2fs.c:1504
+#: misc/mke2fs.c:1472
 #, c-format
 msgid "invalid inode size %d (min %d/max %d)"
 msgstr "bdny rozmiar i-wza %d (min %d/max %d)"
 
-#: misc/mke2fs.c:1510
+#: misc/mke2fs.c:1478
 #, c-format
 msgid "Warning: %d-byte inodes not usable on older systems\n"
 msgstr "Uwaga: %d-bajtowe i-wzy bd nieuywalne na starszych systemach\n"
 
-#: misc/mke2fs.c:1522
+#: misc/mke2fs.c:1490
 #, c-format
 msgid "too many inodes (%llu), raise inode ratio?"
 msgstr "zbyt mao i-wzw (%llu), zwikszy wspczynnik i-wzw?"
 
-#: misc/mke2fs.c:1527
+#: misc/mke2fs.c:1495
 #, c-format
 msgid "too many inodes (%llu), specify < 2^32 inodes"
 msgstr "zbyt duo i-wzw (%llu), naley poda < 2^32"
 
-#: misc/mke2fs.c:1542
+#: misc/mke2fs.c:1510
 #, c-format
 msgid ""
 "inode_size (%u) * inodes_count (%u) too big for a\n"
@@ -4001,38 +3900,38 @@ msgstr ""
 "\tplikw o liczbie blokw %lu, naley poda wikszy wspczynnik (-i)\n"
 "\tlub mniejsz liczb i-wzw (-N).\n"
 
-#: misc/mke2fs.c:1591
+#: misc/mke2fs.c:1559
 msgid "while setting up superblock"
 msgstr "podczas ustawiania superbloku"
 
-#: misc/mke2fs.c:1628
+#: misc/mke2fs.c:1596
 #, c-format
 msgid "unknown os - %s"
 msgstr "nieznany os - %s"
 
-#: misc/mke2fs.c:1682
+#: misc/mke2fs.c:1650
 msgid "while trying to allocate filesystem tables"
 msgstr "podczas prby przydzielenia tablic systemu plikw"
 
-#: misc/mke2fs.c:1713
+#: misc/mke2fs.c:1681
 #, c-format
 msgid "while zeroing block %u at end of filesystem"
 msgstr "podczas zerowania bloku %u na kocu systemu plikw"
 
-#: misc/mke2fs.c:1727
+#: misc/mke2fs.c:1695
 msgid "while reserving blocks for online resize"
 msgstr "podczas rezerwowania blokw na zmian rozmiaru w locie"
 
-#: misc/mke2fs.c:1738 misc/tune2fs.c:433
+#: misc/mke2fs.c:1706 misc/tune2fs.c:399
 msgid "journal"
 msgstr "kronika"
 
-#: misc/mke2fs.c:1750
+#: misc/mke2fs.c:1718
 #, c-format
 msgid "Adding journal to device %s: "
 msgstr "Dodano kronik do urzdzenia %s: "
 
-#: misc/mke2fs.c:1757
+#: misc/mke2fs.c:1725
 #, c-format
 msgid ""
 "\n"
@@ -4041,17 +3940,17 @@ msgstr ""
 "\n"
 "\tpodczas prby dodania kroniki do urzdzenia %s"
 
-#: misc/mke2fs.c:1762 misc/mke2fs.c:1788 misc/tune2fs.c:461 misc/tune2fs.c:475
+#: misc/mke2fs.c:1730 misc/mke2fs.c:1756 misc/tune2fs.c:427 misc/tune2fs.c:441
 #, c-format
 msgid "done\n"
 msgstr "wykonano\n"
 
-#: misc/mke2fs.c:1793
+#: misc/mke2fs.c:1761
 #, c-format
 msgid "Writing superblocks and filesystem accounting information: "
 msgstr "Zapis superblokw i podsumowania systemu plikw: "
 
-#: misc/mke2fs.c:1798
+#: misc/mke2fs.c:1766
 #, c-format
 msgid ""
 "\n"
@@ -4060,7 +3959,7 @@ msgstr ""
 "\n"
 "Uwaga, problemy z zapisem superblokw."
 
-#: misc/mke2fs.c:1801
+#: misc/mke2fs.c:1769
 #, c-format
 msgid ""
 "done\n"
@@ -4074,17 +3973,18 @@ msgstr ""
 msgid "Usage: mklost+found\n"
 msgstr "Skadnia: mklost+found\n"
 
-#: misc/tune2fs.c:91
+#: misc/tune2fs.c:89
 msgid "Please run e2fsck on the filesystem.\n"
 msgstr "Prosz uruchomi e2fsck na systemie plikw.\n"
 
-#: misc/tune2fs.c:98
-#, fuzzy, c-format
+#: misc/tune2fs.c:96
+#, c-format
 msgid ""
 "Usage: %s [-c max_mounts_count] [-e errors_behavior] [-g group]\n"
-"\t[-i interval[d|m|w]] [-j] [-J journal_options] [-l]\n"
-"\t[-m reserved_blocks_percent] [-o [^]mount_options[,...]] \n"
-"\t[-r reserved_blocks_count] [-u user] [-C mount_count] [-L volume_label]\n"
+"\t[-i interval[d|m|w]] [-j] [-J journal_options]\n"
+"\t[-l] [-s sparse_flag] [-m reserved_blocks_percent]\n"
+"\t[-o [^]mount_options[,...]] [-r reserved_blocks_count]\n"
+"\t[-u user] [-C mount_count] [-L volume_label]\n"
 "\t[-M last_mounted_dir] [-O [^]feature[,...]]\n"
 "\t[-E extended-option[,...]] [-T last_check_time] [-U UUID] device\n"
 msgstr ""
@@ -4096,59 +3996,49 @@ msgstr ""
 "\t[-M ostatnio-mont.-katalog] [-O [^]cecha[,...]]\n"
 "\t[-E opcja-rozszerzona[,...]] [-T czas-ost.-sprawdz.] [-U UUID] urzdzenie\n"
 
-#: misc/tune2fs.c:171
+#: misc/tune2fs.c:153
 msgid "while trying to open external journal"
 msgstr "podczas prby otworzenia zewntrznej kroniki"
 
-#: misc/tune2fs.c:175
+#: misc/tune2fs.c:157
 #, c-format
 msgid "%s is not a journal device.\n"
 msgstr "%s nie jest urzdzeniem kroniki.\n"
 
-#: misc/tune2fs.c:190
+#: misc/tune2fs.c:172
 msgid "Journal superblock not found!\n"
 msgstr "Nie znaleziono superbloku kroniki!\n"
 
-#: misc/tune2fs.c:202
+#: misc/tune2fs.c:184
 msgid "Filesystem's UUID not found on journal device.\n"
 msgstr "UUID systemu plikw nie znaleziony na urzdzeniu kroniki.\n"
 
-#: misc/tune2fs.c:223
+#: misc/tune2fs.c:205
 msgid "Journal NOT removed\n"
 msgstr "Kronika NIE usunita\n"
 
-#: misc/tune2fs.c:229
+#: misc/tune2fs.c:211
 msgid "Journal removed\n"
 msgstr "Kronika usunita\n"
 
-#: misc/tune2fs.c:268
+#: misc/tune2fs.c:250
 msgid "while reading bitmaps"
 msgstr "podczas odczytu bitmap"
 
-#: misc/tune2fs.c:275
+#: misc/tune2fs.c:257
 msgid "while clearing journal inode"
 msgstr "podczas czyszczenia i-wza kroniki"
 
-#: misc/tune2fs.c:286
+#: misc/tune2fs.c:268
 msgid "while writing journal inode"
 msgstr "podczas zapisu i-wza kroniki"
 
-#: misc/tune2fs.c:301
+#: misc/tune2fs.c:283
 #, c-format
 msgid "Invalid mount option set: %s\n"
 msgstr "Ustawiona bdna opcja montowania: %s\n"
 
-#: misc/tune2fs.c:338
-#, fuzzy, c-format
-msgid "Clearing filesystem feature '%s' not supported.\n"
-msgstr "Cechy systemu plikw nie obsugiwane przez systemy plikw w wersji 0\n"
-
-#: misc/tune2fs.c:344
-#, fuzzy, c-format
-msgid "Setting filesystem feature '%s' not supported.\n"
-msgstr "Cechy systemu plikw nie obsugiwane przez systemy plikw w wersji 0\n"
-
-#: misc/tune2fs.c:353
+#: misc/tune2fs.c:329
 msgid ""
 "The has_journal flag may only be cleared when the filesystem is\n"
 "unmounted or mounted read-only.\n"
@@ -4156,7 +4046,7 @@ msgstr ""
 "Flaga has_journal moe by wyczyszczona tylko kiedy system plikw\n"
 "jest nie podmontowany lub podmontowany tylko do odczytu.\n"
 
-#: misc/tune2fs.c:361
+#: misc/tune2fs.c:337
 msgid ""
 "The needs_recovery flag is set.  Please run e2fsck before clearing\n"
 "the has_journal flag.\n"
@@ -4164,11 +4054,11 @@ msgstr ""
 "Flaga needs_recovery jest ustawiona. Prosz uruchomi e2fsck przed\n"
 "czyszczeniem flagi has_journal.\n"
 
-#: misc/tune2fs.c:428
+#: misc/tune2fs.c:394
 msgid "The filesystem already has a journal.\n"
 msgstr "System plikw ju ma kronik.\n"
 
-#: misc/tune2fs.c:445
+#: misc/tune2fs.c:411
 #, c-format
 msgid ""
 "\n"
@@ -4177,21 +4067,21 @@ msgstr ""
 "\n"
 "\tpodczas prby otworzenia kroniki na %s\n"
 
-#: misc/tune2fs.c:449
+#: misc/tune2fs.c:415
 #, c-format
 msgid "Creating journal on device %s: "
 msgstr "Tworzenie kroniki na urzdzeniu %s: "
 
-#: misc/tune2fs.c:457
+#: misc/tune2fs.c:423
 #, c-format
 msgid "while adding filesystem to journal on %s"
 msgstr "podczas dodawania systemu plikw do kroniki na %s"
 
-#: misc/tune2fs.c:463
+#: misc/tune2fs.c:429
 msgid "Creating journal inode: "
 msgstr "Tworzenie i-wza kroniki: "
 
-#: misc/tune2fs.c:472
+#: misc/tune2fs.c:438
 msgid ""
 "\n"
 "\twhile trying to create journal file"
@@ -4199,66 +4089,56 @@ msgstr ""
 "\n"
 "\tpodczas prby utworzenia pliku kroniki"
 
-#: misc/tune2fs.c:539
+#: misc/tune2fs.c:505
 #, c-format
 msgid "Couldn't parse date/time specifier: %s"
 msgstr "Nie mona przeanalizowa podanej daty/czasu: %s"
 
-#: misc/tune2fs.c:563 misc/tune2fs.c:576
+#: misc/tune2fs.c:529 misc/tune2fs.c:542
 #, c-format
 msgid "bad mounts count - %s"
 msgstr "bdna liczba montowa - %s"
 
-#: misc/tune2fs.c:592
+#: misc/tune2fs.c:558
 #, c-format
 msgid "bad error behavior - %s"
 msgstr "bdne traktowanie bdw - %s"
 
-#: misc/tune2fs.c:619
+#: misc/tune2fs.c:585
 #, c-format
 msgid "bad gid/group name - %s"
 msgstr "bdny gid/nazwa grupy - %s"
 
-#: misc/tune2fs.c:652
+#: misc/tune2fs.c:618
 #, c-format
 msgid "bad interval - %s"
 msgstr "bdny odstp - %s"
 
-#: misc/tune2fs.c:680
+#: misc/tune2fs.c:646
 #, c-format
 msgid "bad reserved block ratio - %s"
 msgstr "bdny procent zarezerwowanych blokw - %s"
 
-#: misc/tune2fs.c:695
+#: misc/tune2fs.c:661
 msgid "-o may only be specified once"
 msgstr "-o moe by podane tylko raz"
 
-#: misc/tune2fs.c:705
+#: misc/tune2fs.c:671
 msgid "-O may only be specified once"
 msgstr "-O moe by podane tylko raz"
 
-#: misc/tune2fs.c:715
+#: misc/tune2fs.c:681
 #, c-format
 msgid "bad reserved blocks count - %s"
 msgstr "bdna liczba zarezerwowanych blokw - %s"
 
-#: misc/tune2fs.c:744
+#: misc/tune2fs.c:710
 #, c-format
 msgid "bad uid/user name - %s"
 msgstr "bdny uid/nazwa uytkownika - %s"
 
-#: misc/tune2fs.c:842
-#, fuzzy, c-format
-msgid "Invalid RAID stride: %s\n"
-msgstr "Bdny parametr stride: %s\n"
-
-#: misc/tune2fs.c:857
-#, fuzzy, c-format
-msgid "Invalid RAID stripe-width: %s\n"
-msgstr "Bdny parametr stride: %s\n"
-
-#: misc/tune2fs.c:867
-#, fuzzy, c-format
+#: misc/tune2fs.c:804
+#, c-format
 msgid ""
 "\n"
 "Bad options specified.\n"
@@ -4267,8 +4147,6 @@ msgid ""
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk chunk size in blocks>\n"
-"\tstripe-width=<RAID stride*data disks in blocks>\n"
 "\ttest_fs\n"
 "\t^test_fs\n"
 msgstr ""
@@ -4282,53 +4160,54 @@ msgstr ""
 "\tstride=<dugo stride w blokach>\n"
 "\tresize=<maksymalny rozmiar powikszenia w blokach>\n"
 "\ttest_fs\n"
+"\t^test_fs\n"
 
-#: misc/tune2fs.c:927
+#: misc/tune2fs.c:862
 #, c-format
 msgid "Filesystem %s has unsupported features enabled.\n"
 msgstr "System plikw %s ma wczone nie obsugiwane cechy.\n"
 
-#: misc/tune2fs.c:951
+#: misc/tune2fs.c:886
 #, c-format
 msgid "Setting maximal mount count to %d\n"
 msgstr "Ustawianie maksymalnej liczby montowa na %d\n"
 
-#: misc/tune2fs.c:957
+#: misc/tune2fs.c:892
 #, c-format
 msgid "Setting current mount count to %d\n"
 msgstr "Ustawianie aktualnego licznika montowa na %d\n"
 
-#: misc/tune2fs.c:962
+#: misc/tune2fs.c:897
 #, c-format
 msgid "Setting error behavior to %d\n"
 msgstr "Ustawianie traktowania bdw na %d\n"
 
-#: misc/tune2fs.c:967
+#: misc/tune2fs.c:902
 #, c-format
 msgid "Setting reserved blocks gid to %lu\n"
 msgstr "Ustawianie gid-a zarezerwowanych blokw na %lu\n"
 
-#: misc/tune2fs.c:972
+#: misc/tune2fs.c:907
 #, c-format
 msgid "Setting interval between checks to %lu seconds\n"
 msgstr "Ustawianie odstpu pomidzy sprawdzeniami na %lu sekund\n"
 
-#: misc/tune2fs.c:978
+#: misc/tune2fs.c:913
 #, c-format
 msgid "Setting reserved blocks percentage to %g%% (%u blocks)\n"
 msgstr "Ustawianie procent zarezerwowanych blokw na %g%% (%u blokw)\n"
 
-#: misc/tune2fs.c:984
+#: misc/tune2fs.c:919
 #, c-format
 msgid "reserved blocks count is too big (%lu)"
 msgstr "liczba zarezerwowanych blokw zbyt due (%lu)"
 
-#: misc/tune2fs.c:990
+#: misc/tune2fs.c:925
 #, c-format
 msgid "Setting reserved blocks count to %lu\n"
 msgstr "Ustawianie liczby zarezerwowanych blokw na %lu\n"
 
-#: misc/tune2fs.c:996
+#: misc/tune2fs.c:931
 msgid ""
 "\n"
 "The filesystem already has sparse superblocks.\n"
@@ -4336,7 +4215,7 @@ msgstr ""
 "\n"
 "System plikw ju ma rzadkie superbloki.\n"
 
-#: misc/tune2fs.c:1003
+#: misc/tune2fs.c:938
 #, c-format
 msgid ""
 "\n"
@@ -4345,36 +4224,37 @@ msgstr ""
 "\n"
 "Flaga rzadkich superblokw ustawiona. %s"
 
-#: misc/tune2fs.c:1008
+#: misc/tune2fs.c:945
 msgid ""
 "\n"
-"Clearing the sparse superflag not supported.\n"
+"The filesystem already has sparse superblocks disabled.\n"
 msgstr ""
+"\n"
+"System plikw ju ma wyczone rzadkie superbloki.\n"
 
-#: misc/tune2fs.c:1015
+#: misc/tune2fs.c:953
+#, c-format
+msgid ""
+"\n"
+"Sparse superblock flag cleared.  %s"
+msgstr ""
+"\n"
+"Flaga rzadkich superblokw wyczyszczona. %s"
+
+#: misc/tune2fs.c:960
 #, c-format
 msgid "Setting time filesystem last checked to %s\n"
 msgstr "Ustawianie czasu ostatniego sprawdzenia systemu plikw na %s\n"
 
-#: misc/tune2fs.c:1021
+#: misc/tune2fs.c:966
 #, c-format
 msgid "Setting reserved blocks uid to %lu\n"
 msgstr "Ustawianie uid-a zarezerwowanych blokw na %lu\n"
 
-#: misc/tune2fs.c:1056
+#: misc/tune2fs.c:1001
 msgid "Invalid UUID format\n"
 msgstr "Bdny format UUID-a\n"
 
-#: misc/tune2fs.c:1067
-#, fuzzy, c-format
-msgid "Setting stride size to %d\n"
-msgstr "Ustawianie gid-a zarezerwowanych blokw na %lu\n"
-
-#: misc/tune2fs.c:1072
-#, fuzzy, c-format
-msgid "Setting stripe width to %d\n"
-msgstr "Ustawianie gid-a zarezerwowanych blokw na %lu\n"
-
 #: misc/util.c:72
 msgid "Proceed anyway? (y,n) "
 msgstr "Kontynuowa mimo to? (t,n) "
@@ -4620,21 +4500,7 @@ msgstr "bloki do przeniesienia"
 msgid "meta-data blocks"
 msgstr "bloki metadanych"
 
-#: resize/resize2fs.c:1550
+#: resize/resize2fs.c:1534
 #, c-format
 msgid "Should never happen: resize inode corrupt!\n"
 msgstr "Nigdy si nie powinno zdarzy: i-wze zmiany rozmiaru uszkodzony!\n"
-
-#~ msgid ""
-#~ "\n"
-#~ "The filesystem already has sparse superblocks disabled.\n"
-#~ msgstr ""
-#~ "\n"
-#~ "System plikw ju ma wyczone rzadkie superbloki.\n"
-
-#~ msgid ""
-#~ "\n"
-#~ "Sparse superblock flag cleared.  %s"
-#~ msgstr ""
-#~ "\n"
-#~ "Flaga rzadkich superblokw wyczyszczona. %s"
Files e2fsprogs-1.40.7/po/sv.gmo and e2fsprogs/po/sv.gmo differ
diff -Nurp e2fsprogs-1.40.7/po/sv.po e2fsprogs/po/sv.po
--- e2fsprogs-1.40.7/po/sv.po	2008-02-29 02:46:26.000000000 +0000
+++ e2fsprogs/po/sv.po	2008-02-29 11:23:57.000000000 +0000
@@ -67,7 +67,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: e2fsprogs 1.40.6\n"
 "Report-Msgid-Bugs-To: tytso@alum.mit.edu\n"
-"POT-Creation-Date: 2008-02-28 21:45-0500\n"
+"POT-Creation-Date: 2008-02-09 23:16-0500\n"
 "PO-Revision-Date: 2008-02-12 13:01+0100\n"
 "Last-Translator: Gran Uddeborg <goeran@uddeborg.se>\n"
 "Language-Team: Swedish <tp-sv@listor.tp-sv.se>\n"
@@ -76,7 +76,7 @@ msgstr ""
 "Content-Transfer-Encoding: 8bit\n"
 "Plural-Forms: nplurals=2; plural=(n != 1);\n"
 
-#: e2fsck/badblocks.c:22 misc/mke2fs.c:157
+#: e2fsck/badblocks.c:22 misc/mke2fs.c:156
 #, c-format
 msgid "Bad block %u out of range; ignored.\n"
 msgstr "Dligt block %u utanfr giltigt intervall; ignoreras.\n"
@@ -90,10 +90,10 @@ msgid "while reading the bad blocks inod
 msgstr "vid lsning av inoden fr dliga block"
 
 #: e2fsck/badblocks.c:71 e2fsck/iscan.c:112 e2fsck/scantest.c:109
-#: e2fsck/unix.c:1010 e2fsck/unix.c:1093 misc/badblocks.c:1025
+#: e2fsck/unix.c:992 e2fsck/unix.c:1075 misc/badblocks.c:1025
 #: misc/badblocks.c:1033 misc/badblocks.c:1047 misc/badblocks.c:1059
-#: misc/dumpe2fs.c:483 misc/e2image.c:571 misc/e2image.c:664
-#: misc/e2image.c:680 misc/mke2fs.c:173 misc/tune2fs.c:916 resize/main.c:296
+#: misc/dumpe2fs.c:400 misc/e2image.c:571 misc/e2image.c:664
+#: misc/e2image.c:680 misc/mke2fs.c:172 misc/tune2fs.c:851 resize/main.c:296
 #, c-format
 msgid "while trying to open %s"
 msgstr "vid frsk att ppna %s"
@@ -103,15 +103,15 @@ msgstr "vid frsk att ppna %s"
 msgid "while trying popen '%s'"
 msgstr "vid frsk att anvnda popen \"%s\""
 
-#: e2fsck/badblocks.c:93 misc/mke2fs.c:180
+#: e2fsck/badblocks.c:93 misc/mke2fs.c:179
 msgid "while reading in list of bad blocks from file"
 msgstr "vid lsning i listan ver dliga block frn fil"
 
-#: e2fsck/badblocks.c:104
+#: e2fsck/badblocks.c:103
 msgid "while updating bad block inode"
 msgstr "vid uppdatering av inoden fr dliga block"
 
-#: e2fsck/badblocks.c:130
+#: e2fsck/badblocks.c:129
 #, c-format
 msgid "Warning: illegal block %u found in bad block inode.  Cleared.\n"
 msgstr "Varning: otilltet block %u hittat i inoden fr dliga block.  Tmt.\n"
@@ -474,7 +474,7 @@ msgstr "internt fel; det gick inte att s
 msgid "internal error: couldn't lookup EA inode record for %u"
 msgstr "internt fel: det gick inte att sl upp EA-inodpost fr %u"
 
-#: e2fsck/pass1.c:404 e2fsck/pass2.c:770
+#: e2fsck/pass1.c:404 e2fsck/pass2.c:779
 msgid "reading directory block"
 msgstr "lser katalogblock"
 
@@ -543,7 +543,7 @@ msgstr "inodbitkarta"
 msgid "inode table"
 msgstr "inodstabell"
 
-#: e2fsck/pass2.c:283
+#: e2fsck/pass2.c:292
 msgid "Pass 2"
 msgstr "Pass 2"
 
@@ -891,8 +891,7 @@ msgstr "Extern journal stdjer inte dett
 #: e2fsck/problem.c:212
 msgid ""
 "Ext3 @j @S is unknown type %N (unsupported).\n"
-"It is likely that your copy of e2fsck is old and/or doesn't support this @j "
-"format.\n"
+"It is likely that your copy of e2fsck is old and/or doesn't support this @j format.\n"
 "It is also possible the @j @S is corrupt.\n"
 msgstr ""
 "Ext3-journalsuperblock r av oknd typ %N (ej sttt).\n"
@@ -914,8 +913,7 @@ msgstr "superblock har inte har-journal-
 #. @-expanded: superblock has ext3 needs_recovery flag set, but no journal.\n
 #: e2fsck/problem.c:230
 msgid "@S has ext3 needs_recovery flag set, but no @j.\n"
-msgstr ""
-"superblock har ext3-behver-rttas-flagga satt, men har ext3-journal %s.\n"
+msgstr "superblock har ext3-behver-rttas-flagga satt, men har ext3-journal %s.\n"
 
 #. @-expanded: ext3 recovery flag is clear, but journal has data.\n
 #: e2fsck/problem.c:235
@@ -940,8 +938,7 @@ msgstr "Rttningsflagga inte satt i rese
 #. @-expanded: %s orphaned inode %i (uid=%Iu, gid=%Ig, mode=%Im, size=%Is)\n
 #: e2fsck/problem.c:255
 msgid "%s @o @i %i (uid=%Iu, gid=%Ig, mode=%Im, size=%Is)\n"
-msgstr ""
-"%s frldrals inod %i (uid=%Iu, gid=%Ig, rttighet=%Im, storlek=%Is)\n"
+msgstr "%s frldrals inod %i (uid=%Iu, gid=%Ig, rttighet=%Im, storlek=%Is)\n"
 
 #. @-expanded: illegal block #%B (%b) found in orphaned inode %i.\n
 #: e2fsck/problem.c:260
@@ -968,8 +965,7 @@ msgstr "Ogiltig inod %i i frldrals in
 #. @-expanded: filesystem has feature flag(s) set, but is a revision 0 filesystem.  
 #: e2fsck/problem.c:280 e2fsck/problem.c:613
 msgid "@f has feature flag(s) set, but is a revision 0 @f.  "
-msgstr ""
-"filsystemet har funktionsflaggor satta, men r ett revision 0-filsystem.  "
+msgstr "filsystemet har funktionsflaggor satta, men r ett revision 0-filsystem.  "
 
 #. @-expanded: Ext3 journal superblock has an unknown read-only feature flag set.\n
 #: e2fsck/problem.c:285
@@ -1044,8 +1040,7 @@ msgstr ""
 #. @-expanded: Resize_inode not enabled, but the resize inode is non-zero.  
 #: e2fsck/problem.c:327
 msgid "Resize_@i not enabled, but the resize @i is non-zero.  "
-msgstr ""
-"Resize_inode r inte aktiverat, men storleksndringsinoden r inte noll.  "
+msgstr "Resize_inode r inte aktiverat, men storleksndringsinoden r inte noll.  "
 
 #. @-expanded: Resize inode not valid.  
 #: e2fsck/problem.c:332
@@ -1119,20 +1114,17 @@ msgstr "Inod %i r en nollngds katalog.
 #. @-expanded: group %g's block bitmap at %b conflicts with some other fs block.\n
 #: e2fsck/problem.c:392
 msgid "@g %g's @b @B at %b @C.\n"
-msgstr ""
-"Grupp %g:s blockbitkarta vid %b str i konflikt med annat filsystemblock.\n"
+msgstr "Grupp %g:s blockbitkarta vid %b str i konflikt med annat filsystemblock.\n"
 
 #. @-expanded: group %g's inode bitmap at %b conflicts with some other fs block.\n
 #: e2fsck/problem.c:397
 msgid "@g %g's @i @B at %b @C.\n"
-msgstr ""
-"Grupp %g:s inodbitkarta vid %b str i konflikt med annat filsystemblock.\n"
+msgstr "Grupp %g:s inodbitkarta vid %b str i konflikt med annat filsystemblock.\n"
 
 #. @-expanded: group %g's inode table at %b conflicts with some other fs block.\n
 #: e2fsck/problem.c:402
 msgid "@g %g's @i table at %b @C.\n"
-msgstr ""
-"Grupp %g:s inodtabell vid %b str i konflikt med annat filsystemblock.\n"
+msgstr "Grupp %g:s inodtabell vid %b str i konflikt med annat filsystemblock.\n"
 
 #. @-expanded: group %g's block bitmap (%b) is bad.  
 #: e2fsck/problem.c:407
@@ -1194,8 +1186,7 @@ msgstr "Duplicerat eller felaktigt block
 #. @-expanded: Bad block %b used as bad block inode indirect block.  
 #: e2fsck/problem.c:462
 msgid "Bad @b %b used as bad @b @i indirect @b.  "
-msgstr ""
-"Felaktigt block %b anvnt som indirektblock fr inod fr dliga block.  "
+msgstr "Felaktigt block %b anvnt som indirektblock fr inod fr dliga block.  "
 
 #. @-expanded: \n
 #. @-expanded: The bad block inode has probably been corrupted.  You probably\n
@@ -1244,8 +1235,7 @@ msgstr "Det primra superblocket (%b) r
 #. @-expanded: Block %b in the primary group descriptors is on the bad block list\n
 #: e2fsck/problem.c:490
 msgid "Block %b in the primary @g descriptors is on the bad @b list\n"
-msgstr ""
-"Block %b i de primra gruppbeskrivarna r p listan ver dliga block\n"
+msgstr "Block %b i de primra gruppbeskrivarna r p listan ver dliga block\n"
 
 #. @-expanded: Warning: Group %g's superblock (%b) is bad.\n
 #: e2fsck/problem.c:496
@@ -1255,21 +1245,17 @@ msgstr "Varning: Grupp %g:s superblock (
 #. @-expanded: Warning: Group %g's copy of the group descriptors has a bad block (%b).\n
 #: e2fsck/problem.c:501
 msgid "Warning: Group %g's copy of the @g descriptors has a bad @b (%b).\n"
-msgstr ""
-"Varning: Grupp %g:s kopia av gruppbeskrivarna har ett dligt block (%b).\n"
+msgstr "Varning: Grupp %g:s kopia av gruppbeskrivarna har ett dligt block (%b).\n"
 
 #. @-expanded: Programming error?  block #%b claimed for no reason in process_bad_block.\n
 #: e2fsck/problem.c:507
 msgid "Programming error?  @b #%b claimed for no reason in process_bad_@b.\n"
-msgstr ""
-"Programmeringsfel?  Block nr. %b tas i ansprk utan anledning i "
-"process_bad_block.\n"
+msgstr "Programmeringsfel?  Block nr. %b tas i ansprk utan anledning i process_bad_block.\n"
 
 #. @-expanded: error allocating %N contiguous block(s) in block group %g for %s: %m\n
 #: e2fsck/problem.c:513
 msgid "@A %N contiguous @b(s) in @b @g %g for %s: %m\n"
-msgstr ""
-"Fel vid allokering av %N konsekutiva block i blockgrupp %g fr %s: %m\n"
+msgstr "Fel vid allokering av %N konsekutiva block i blockgrupp %g fr %s: %m\n"
 
 #. @-expanded: error allocating block buffer for relocating %s\n
 #: e2fsck/problem.c:518
@@ -1340,9 +1326,7 @@ msgstr "Fel vid lagring av inodsrknarin
 #. @-expanded: Error storing directory block information (inode=%i, block=%b, num=%N): %m\n
 #: e2fsck/problem.c:578
 msgid "Error storing @d @b information (@i=%i, @b=%b, num=%N): %m\n"
-msgstr ""
-"Fel vid lagring av katalogblocksinformation (inod=%i, block=%b, antal=%N): %"
-"m\n"
+msgstr "Fel vid lagring av katalogblocksinformation (inod=%i, block=%b, antal=%N): %m\n"
 
 #. @-expanded: Error reading inode %i: %m\n
 #: e2fsck/problem.c:584
@@ -1371,8 +1355,7 @@ msgstr ""
 #: e2fsck/problem.c:603
 #, c-format
 msgid "@i %i has @cion flag set on @f without @cion support.  "
-msgstr ""
-"Inod %i har kompressionsflagga satt p filsystem utan kompressionsstd.  "
+msgstr "Inod %i har kompressionsflagga satt p filsystem utan kompressionsstd.  "
 
 #. @-expanded: Special (device/socket/fifo) inode %i has non-zero size.  
 #: e2fsck/problem.c:608
@@ -1550,16 +1533,12 @@ msgstr "Utkat attribut i inod %i har en
 #. @-expanded: extended attribute in inode %i has a value block (%N) which is invalid (must be 0)\n
 #: e2fsck/problem.c:774
 msgid "@a in @i %i has a value @b (%N) which is @n (must be 0)\n"
-msgstr ""
-"Utkat attribut i inod %i har ett vrdeblock (%N) som r ogiltigt (mste "
-"vara 0)\n"
+msgstr "Utkat attribut i inod %i har ett vrdeblock (%N) som r ogiltigt (mste vara 0)\n"
 
 #. @-expanded: extended attribute in inode %i has a hash (%N) which is invalid (must be 0)\n
 #: e2fsck/problem.c:779
 msgid "@a in @i %i has a hash (%N) which is @n (must be 0)\n"
-msgstr ""
-"Utkat attribut i inod %i har en kontrollsumma (%N) som r ogiltig (mste "
-"vara 0)\n"
+msgstr "Utkat attribut i inod %i har en kontrollsumma (%N) som r ogiltig (mste vara 0)\n"
 
 #. @-expanded: inode %i is a %It but it looks like it is really a directory.\n
 #: e2fsck/problem.c:784
@@ -1576,8 +1555,7 @@ msgid ""
 "Pass 1B: Rescanning for @m @bs\n"
 msgstr ""
 "\n"
-"Kr ytterliggare pass fr att lsa upp block som anvnds av mer n en "
-"inod ...\n"
+"Kr ytterliggare pass fr att lsa upp block som anvnds av mer n en inod ...\n"
 "Pass 1B: Sker igen efter block som anvnds flera gnger\n"
 
 #. @-expanded: multiply-claimed block(s) in inode %i:
@@ -1606,15 +1584,12 @@ msgstr "Fel vid iterering ver block i i
 #. @-expanded: Error adjusting refcount for extended attribute block %b (inode %i): %m\n
 #: e2fsck/problem.c:827 e2fsck/problem.c:1143
 msgid "Error adjusting refcount for @a @b %b (@i %i): %m\n"
-msgstr ""
-"Fel vid justering av referensrknare fr externa attribut-block %b (inod %"
-"i): %m\n"
+msgstr "Fel vid justering av referensrknare fr externa attribut-block %b (inod %i): %m\n"
 
 #. @-expanded: Pass 1C: Scanning directories for inodes with multiply-claimed blocks\n
 #: e2fsck/problem.c:833
 msgid "Pass 1C: Scanning directories for @is with @m @bs\n"
-msgstr ""
-"Pass 1C: Sker kataloger efter inoder med flerfaldigt iansprkstagna block\n"
+msgstr "Pass 1C: Sker kataloger efter inoder med flerfaldigt iansprkstagna block\n"
 
 #. @-expanded: Pass 1D: Reconciling multiply-claimed blocks\n
 #: e2fsck/problem.c:839
@@ -1695,8 +1670,7 @@ msgstr "Post \"%Dn\" i %p (%i) r en ln
 #. @-expanded: entry '%Dn' in %p (%i) points to inode (%Di) located in a bad block.\n
 #: e2fsck/problem.c:909
 msgid "@E points to @i (%Di) located in a bad @b.\n"
-msgstr ""
-"Post \"%Dn\" i %p (%i) pekar p inod (%Di) som finns i ett trasigt block.\n"
+msgstr "Post \"%Dn\" i %p (%i) pekar p inod (%Di) som finns i ett trasigt block.\n"
 
 #. @-expanded: entry '%Dn' in %p (%i) is a link to directory %P (%Di).\n
 #: e2fsck/problem.c:914
@@ -1728,8 +1702,7 @@ msgstr "\"..\" saknas i kataloginod %i.\
 #. @-expanded: First entry '%Dn' (inode=%Di) in directory inode %i (%p) should be '.'\n
 #: e2fsck/problem.c:939
 msgid "First @e '%Dn' (@i=%Di) in @d @i %i (%p) @s '.'\n"
-msgstr ""
-"Frsta post \"%Dn\" (inod=%Di) i kataloginod %i (%p) skulle varit \".\"\n"
+msgstr "Frsta post \"%Dn\" (inod=%Di) i kataloginod %i (%p) skulle varit \".\"\n"
 
 #. @-expanded: Second entry '%Dn' (inode=%Di) in directory inode %i should be '..'\n
 #: e2fsck/problem.c:944
@@ -1882,8 +1855,7 @@ msgstr "Stter filtyp fr post \"%Dn\" i
 #. @-expanded: entry '%Dn' in %p (%i) has an incorrect filetype (was %Dt, should be %N).\n
 #: e2fsck/problem.c:1084
 msgid "@E has an incorrect filetype (was %Dt, @s %N).\n"
-msgstr ""
-"Post \"%Dn\" i %p (%i) har felaktig filtyp (var %Dt, skulle varit %N).\n"
+msgstr "Post \"%Dn\" i %p (%i) har felaktig filtyp (var %Dt, skulle varit %N).\n"
 
 #. @-expanded: entry '%Dn' in %p (%i) has filetype set.\n
 #: e2fsck/problem.c:1089
@@ -1908,9 +1880,7 @@ msgstr "Utkat attribut-block fr inod %
 #. @-expanded: filesystem contains large files, but lacks LARGE_FILE flag in superblock.\n
 #: e2fsck/problem.c:1109
 msgid "@f contains large files, but lacks LARGE_FILE flag in @S.\n"
-msgstr ""
-"Filsystem innehller stora filer, men saknar flaggan LARGE_FILE i "
-"superblock.\n"
+msgstr "Filsystem innehller stora filer, men saknar flaggan LARGE_FILE i superblock.\n"
 
 #. @-expanded: problem in HTREE directory inode %d: node (%B) not referenced\n
 #: e2fsck/problem.c:1114
@@ -1963,8 +1933,7 @@ msgstr ""
 #. @-expanded: problem in HTREE directory inode %d: node (%B) has an unordered hash table\n
 #: e2fsck/problem.c:1163
 msgid "@p @h %d: node (%B) has an unordered hash table\n"
-msgstr ""
-"Problem i HTREE-katalognod %d (%q): not (%B) har en oordnat hash-tabell\n"
+msgstr "Problem i HTREE-katalognod %d (%q): not (%B) har en oordnat hash-tabell\n"
 
 #. @-expanded: problem in HTREE directory inode %d: node (%B) has invalid depth\n
 #: e2fsck/problem.c:1168
@@ -2080,8 +2049,7 @@ msgstr "ext2fs_new_dir_block: %m nr nyt
 #: e2fsck/problem.c:1260
 #, c-format
 msgid "ext2fs_write_dir_@b: %m while writing the @d @b for /@l\n"
-msgstr ""
-"ext2fs_write_dir_block: %m vid skrivning av katalogblocket fr /lost+found\n"
+msgstr "ext2fs_write_dir_block: %m vid skrivning av katalogblocket fr /lost+found\n"
 
 #. @-expanded: Error while adjusting inode count on inode %i\n
 #: e2fsck/problem.c:1265
@@ -2108,8 +2076,7 @@ msgid ""
 "Couldn't fix parent of @i %i: Couldn't find parent @d @e\n"
 "\n"
 msgstr ""
-"Kunde inte rtta frlder till inod %i: Kunde inte hitta "
-"frlderkatalogpost\n"
+"Kunde inte rtta frlder till inod %i: Kunde inte hitta frlderkatalogpost\n"
 "\n"
 
 #. @-expanded: Error creating root directory (%s): %m\n
@@ -2188,8 +2155,7 @@ msgid ""
 "@i_link_info[%i] is %N, @i.i_links_count is %Il.  They @s the same!\n"
 msgstr ""
 "VARNING: PROGRAMMERINGSFEL I E2FSCK!\n"
-"    ELLER NGON KLANTSKALLE (DU) KONTROLLERAR ETT MONTERAT (AKTIVT) "
-"FILSYSTEM.\n"
+"    ELLER NGON KLANTSKALLE (DU) KONTROLLERAR ETT MONTERAT (AKTIVT) FILSYSTEM.\n"
 "inod_link_info[%i] r %N, inod.i_links_count r %Il.  De skulle vara samma!\n"
 
 #. @-expanded: Pass 5: Checking group summary information\n
@@ -2245,9 +2211,7 @@ msgstr "Antal fria block r fel (%b, rk
 #. @-expanded: PROGRAMMING ERROR: filesystem (#%N) bitmap endpoints (%b, %c) don't match calculated bitmap 
 #. @-expanded: endpoints (%i, %j)\n
 #: e2fsck/problem.c:1458
-msgid ""
-"PROGRAMMING ERROR: @f (#%N) @B endpoints (%b, %c) don't match calculated @B "
-"endpoints (%i, %j)\n"
+msgid "PROGRAMMING ERROR: @f (#%N) @B endpoints (%b, %c) don't match calculated @B endpoints (%i, %j)\n"
 msgstr ""
 "PROGRAMMERINGSFEL: filsystem (nr. %N) bitkartas ndpunkter (%b, %c) stmmer\n"
 "inte med berknade bitkartendpunkter (%i, %j)\n"
@@ -2378,8 +2342,7 @@ msgid ""
 " -p                   Automatic repair (no questions)\n"
 " -n                   Make no changes to the filesystem\n"
 " -y                   Assume \"yes\" to all questions\n"
-" -c                   Check for bad blocks and add them to the badblock "
-"list\n"
+" -c                   Check for bad blocks and add them to the badblock list\n"
 " -f                   Force checking even if filesystem is marked clean\n"
 msgstr ""
 "\n"
@@ -2388,8 +2351,7 @@ msgstr ""
 " -n                   Gr inga frndringar av filsystemet\n"
 " -y                   Anta \"ja\" som svar p alla frgor\n"
 " -c                   Leta efter dliga block och lgg till dem i listan\n"
-" -f                   Framtvinga kontroll ven om filsystemet r markerat "
-"rent\n"
+" -f                   Framtvinga kontroll ven om filsystemet r markerat rent\n"
 
 #: e2fsck/unix.c:86
 #, c-format
@@ -2418,7 +2380,7 @@ msgstr "%s: %u/%u filer (%0d.%d%% ej sam
 msgid "         # of inodes with ind/dind/tind blocks: %u/%u/%u\n"
 msgstr "         antal inoder med ind/dind/tind-block: %u/%u/%u\n"
 
-#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:941 misc/util.c:151
+#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:876 misc/util.c:151
 #: resize/main.c:237
 #, c-format
 msgid "while determining whether %s is mounted."
@@ -2555,10 +2517,9 @@ msgstr "Flaggan -t stdjs inte i denna v
 #: e2fsck/unix.c:747
 #, c-format
 msgid "Byte-swapping filesystems not compiled in this version of e2fsck\n"
-msgstr ""
-"Bytevxling av filsystem r inte inkompilerat i denna version av e2fsck\n"
+msgstr "Bytevxling av filsystem r inte inkompilerat i denna version av e2fsck\n"
 
-#: e2fsck/unix.c:770 misc/tune2fs.c:504 misc/tune2fs.c:769 misc/tune2fs.c:786
+#: e2fsck/unix.c:770 misc/tune2fs.c:470 misc/tune2fs.c:735 misc/tune2fs.c:752
 #, c-format
 msgid "Unable to resolve '%s'"
 msgstr "Kan inte hitta \"%s\""
@@ -2593,38 +2554,38 @@ msgstr ""
 "Ogiltigt ickenumerikst argument till -%c (\"%s\")\n"
 "\n"
 
-#: e2fsck/unix.c:905
+#: e2fsck/unix.c:904
 #, c-format
 msgid "Error: ext2fs library version out of date!\n"
 msgstr "Fel: ext2fs-bibliotekversion inaktuell!\n"
 
-#: e2fsck/unix.c:913
+#: e2fsck/unix.c:912
 msgid "while trying to initialize program"
 msgstr "vid frsk att initiera program"
 
-#: e2fsck/unix.c:927
+#: e2fsck/unix.c:926
 #, c-format
 msgid "\tUsing %s, %s\n"
 msgstr "\tAnvnder %s, %s\n"
 
-#: e2fsck/unix.c:939
+#: e2fsck/unix.c:938
 msgid "need terminal for interactive repairs"
 msgstr "behver terminal fr interaktiva reparationer"
 
-#: e2fsck/unix.c:983
+#: e2fsck/unix.c:978
 #, c-format
 msgid "%s: %s trying backup blocks...\n"
 msgstr "%s: %s frsker med reservblock ...\n"
 
-#: e2fsck/unix.c:985
+#: e2fsck/unix.c:980
 msgid "Superblock invalid,"
 msgstr "Superblocket r ogiltigt,"
 
-#: e2fsck/unix.c:986
+#: e2fsck/unix.c:981
 msgid "Group descriptors look bad..."
 msgstr "Gruppbeskrivarna ser trasiga ut ..."
 
-#: e2fsck/unix.c:1013
+#: e2fsck/unix.c:995
 #, c-format
 msgid ""
 "The filesystem revision is apparently too high for this version of e2fsck.\n"
@@ -2635,27 +2596,27 @@ msgstr ""
 "(Eller s r filsystemets superblock trasigt)\n"
 "\n"
 
-#: e2fsck/unix.c:1019
+#: e2fsck/unix.c:1001
 #, c-format
 msgid "Could this be a zero-length partition?\n"
 msgstr "Kan detta vara en nollngdspartition?\n"
 
-#: e2fsck/unix.c:1021
+#: e2fsck/unix.c:1003
 #, c-format
 msgid "You must have %s access to the filesystem or be root\n"
 msgstr "Du mste ha %s-tkomst till filsystemet eller vara root\n"
 
-#: e2fsck/unix.c:1026
+#: e2fsck/unix.c:1008
 #, c-format
 msgid "Possibly non-existent or swap device?\n"
 msgstr "Kanske inte existerar eller vxlingsenhet?\n"
 
-#: e2fsck/unix.c:1028
+#: e2fsck/unix.c:1010
 #, c-format
 msgid "Filesystem mounted or opened exclusively by another program?\n"
 msgstr "Filsystemet monterat eller ppnat exklusivt av ett annat program?\n"
 
-#: e2fsck/unix.c:1032
+#: e2fsck/unix.c:1014
 #, c-format
 msgid ""
 "Disk write-protected; use the -n option to do a read-only\n"
@@ -2664,44 +2625,35 @@ msgstr ""
 "Skrivskyddad disk; anvnd flaggan -n fr att gra en lsningskontroll\n"
 "av enheten.\n"
 
-#: e2fsck/unix.c:1096
+#: e2fsck/unix.c:1078
 msgid "Get a newer version of e2fsck!"
 msgstr "Hmta en nyare version av e2fsck!"
 
-#: e2fsck/unix.c:1117
+#: e2fsck/unix.c:1099
 #, c-format
 msgid "while checking ext3 journal for %s"
 msgstr "vid kontroll av ext3-journal fr %s"
 
-#: e2fsck/unix.c:1128
+#: e2fsck/unix.c:1110
 #, c-format
-msgid ""
-"Warning: skipping journal recovery because doing a read-only filesystem "
-"check.\n"
-msgstr ""
-"Varning: hoppar ver journalterhmtning eftersom en lsningskontroll av "
-"filsystem grs.\n"
+msgid "Warning: skipping journal recovery because doing a read-only filesystem check.\n"
+msgstr "Varning: hoppar ver journalterhmtning eftersom en lsningskontroll av filsystem grs.\n"
 
-#: e2fsck/unix.c:1141
+#: e2fsck/unix.c:1123
 #, c-format
 msgid "unable to set superblock flags on %s\n"
 msgstr "kan inte stta superblocksflaggor p %s\n"
 
-#: e2fsck/unix.c:1147
+#: e2fsck/unix.c:1129
 #, c-format
 msgid "while recovering ext3 journal of %s"
 msgstr "vid terhmtning av ext3-journal fr %s"
 
-#: e2fsck/unix.c:1171
-#, fuzzy, c-format
-msgid "%s has unsupported feature(s):"
-msgstr "Filsystem %s har funktioner som inte stds aktiverade.\n"
-
-#: e2fsck/unix.c:1187
+#: e2fsck/unix.c:1158
 msgid "Warning: compression support is experimental.\n"
 msgstr "Varning: komprimeringsstd r experimentellt.\n"
 
-#: e2fsck/unix.c:1192
+#: e2fsck/unix.c:1163
 #, c-format
 msgid ""
 "E2fsck not compiled with HTREE support,\n"
@@ -2710,30 +2662,30 @@ msgstr ""
 "E2fsck r inte kompilerat med HTREE-std,\n"
 "\tmen filsystem %s har HTREE-kataloger.\n"
 
-#: e2fsck/unix.c:1241
+#: e2fsck/unix.c:1212
 #, c-format
 msgid "%s: Filesystem byte order already normalized.\n"
 msgstr "%s: Filsystemets byteordning redan normaliserad.\n"
 
-#: e2fsck/unix.c:1261
+#: e2fsck/unix.c:1232
 msgid "while reading bad blocks inode"
 msgstr "vid lsning av inod fr dliga block"
 
-#: e2fsck/unix.c:1263
+#: e2fsck/unix.c:1234
 #, c-format
 msgid "This doesn't bode well, but we'll try to go on...\n"
 msgstr "Detta bdar inte gott, men vi skall frska att fortstta ...\n"
 
-#: e2fsck/unix.c:1289
+#: e2fsck/unix.c:1260
 msgid "Couldn't determine journal size"
 msgstr "Det gick inte att avgra journalstorlek"
 
-#: e2fsck/unix.c:1292 misc/mke2fs.c:1776
+#: e2fsck/unix.c:1263 misc/mke2fs.c:1744
 #, c-format
 msgid "Creating journal (%d blocks): "
 msgstr "Skapar journal (%d block): "
 
-#: e2fsck/unix.c:1299 misc/mke2fs.c:1784
+#: e2fsck/unix.c:1270 misc/mke2fs.c:1752
 msgid ""
 "\n"
 "\twhile trying to create journal"
@@ -2741,12 +2693,12 @@ msgstr ""
 "\n"
 "\tvid frsk att skapa journal"
 
-#: e2fsck/unix.c:1302
+#: e2fsck/unix.c:1273
 #, c-format
 msgid " Done.\n"
 msgstr " Klar.\n"
 
-#: e2fsck/unix.c:1303
+#: e2fsck/unix.c:1274
 #, c-format
 msgid ""
 "\n"
@@ -2755,25 +2707,25 @@ msgstr ""
 "\n"
 "*** journalen har terskapats - filsystemet r nu ext3 igen ***\n"
 
-#: e2fsck/unix.c:1310
+#: e2fsck/unix.c:1281
 #, c-format
 msgid "Restarting e2fsck from the beginning...\n"
 msgstr "Startar om e2fsck frn brjan ...\n"
 
-#: e2fsck/unix.c:1314
+#: e2fsck/unix.c:1285
 msgid "while resetting context"
 msgstr "vid terstllning av omgivning"
 
-#: e2fsck/unix.c:1321
+#: e2fsck/unix.c:1292
 #, c-format
 msgid "%s: e2fsck canceled.\n"
 msgstr "%s: e2fsck instlld.\n"
 
-#: e2fsck/unix.c:1326
+#: e2fsck/unix.c:1297
 msgid "aborted"
 msgstr "avbruten"
 
-#: e2fsck/unix.c:1338
+#: e2fsck/unix.c:1309
 #, c-format
 msgid ""
 "\n"
@@ -2782,12 +2734,12 @@ msgstr ""
 "\n"
 "%s: ***** FILSYSTEMET MODIFIERADES *****\n"
 
-#: e2fsck/unix.c:1341
+#: e2fsck/unix.c:1312
 #, c-format
 msgid "%s: ***** REBOOT LINUX *****\n"
 msgstr "%s: ***** STARTA OM LINUX *****\n"
 
-#: e2fsck/unix.c:1349
+#: e2fsck/unix.c:1320
 #, c-format
 msgid ""
 "\n"
@@ -2939,13 +2891,11 @@ msgstr "klar                            
 #, c-format
 msgid ""
 "Usage: %s [-b block_size] [-i input_file] [-o output_file] [-svwnf]\n"
-" [-c blocks_at_once] [-p num_passes] [-t test_pattern [-t test_pattern "
-"[...]]]\n"
+" [-c blocks_at_once] [-p num_passes] [-t test_pattern [-t test_pattern [...]]]\n"
 " device [last_block [start_block]]\n"
 msgstr ""
 "Anvndning: %s [-b blockstorlek] [-i infil] [-o utfile] [-svwnf]\n"
-" [-c block_t_gngen] [-p antal_pass] [-t testmnster [-t testmnster "
-"[...]]]\n"
+" [-c block_t_gngen] [-p antal_pass] [-t testmnster [-t testmnster [...]]]\n"
 " enhet [sista_block [start_block]]\n"
 
 #: misc/badblocks.c:88
@@ -3090,7 +3040,7 @@ msgstr ""
 msgid "while trying to determine device size"
 msgstr "vid frsk att avgra enhetsstorlek"
 
-#: misc/badblocks.c:996 misc/mke2fs.c:1255
+#: misc/badblocks.c:996 misc/mke2fs.c:1223
 #, c-format
 msgid "invalid blocks count - %s"
 msgstr "felaktigt blockantal - %s"
@@ -3255,7 +3205,7 @@ msgstr "vid utskrift av lista ver dlig
 msgid "Bad blocks: %u"
 msgstr "Dliga block: %u"
 
-#: misc/dumpe2fs.c:274 misc/tune2fs.c:261
+#: misc/dumpe2fs.c:274 misc/tune2fs.c:243
 msgid "while reading journal inode"
 msgstr "vid lsning av journalinod"
 
@@ -3263,7 +3213,7 @@ msgstr "vid lsning av journalinod"
 msgid "Journal size:             "
 msgstr "Journalstorlek:           "
 
-#: misc/dumpe2fs.c:296 misc/tune2fs.c:183
+#: misc/dumpe2fs.c:296 misc/tune2fs.c:165
 msgid "while reading journal superblock"
 msgstr "vid lsning av journalsuperblock"
 
@@ -3295,61 +3245,22 @@ msgstr ""
 msgid "Journal users:            %s\n"
 msgstr "Journalanvndare:         %s\n"
 
-#: misc/dumpe2fs.c:337 misc/mke2fs.c:768 misc/tune2fs.c:810
-#, c-format
-msgid "Couldn't allocate memory to parse options!\n"
-msgstr "Kunde inte allokera minne fr att tolka flaggor!\n"
-
-#: misc/dumpe2fs.c:363
-#, fuzzy, c-format
-msgid "Invalid superblock parameter: %s\n"
-msgstr "Ogiltig stride-parameter: %s\n"
-
-#: misc/dumpe2fs.c:378
-#, fuzzy, c-format
-msgid "Invalid blocksize parameter: %s\n"
-msgstr "Ogiltig storleksndringsparameter: %s\n"
-
-#: misc/dumpe2fs.c:389
-#, fuzzy, c-format
-msgid ""
-"\n"
-"Bad extended option(s) specified: %s\n"
-"\n"
-"Extended options are separated by commas, and may take an argument which\n"
-"\tis set off by an equals ('=') sign.\n"
-"\n"
-"Valid extended options are:\n"
-"\tsuperblock=<superblock number>\n"
-"\tblocksize=<blocksize>\n"
-msgstr ""
-"\n"
-"Felaktiga flaggor angivna.\n"
-"\n"
-"Utkade flaggor separeras med komman, och kan ta ett argument som avdelas "
-"med\n"
-"\tett likhetstecken (\"=\").\n"
-"\n"
-"Giltiga utkade flaggor r:\n"
-"\ttest_fs\n"
-"\t^test_fs\n"
-
-#: misc/dumpe2fs.c:449 misc/mke2fs.c:1199
+#: misc/dumpe2fs.c:376 misc/mke2fs.c:1167
 #, c-format
 msgid "\tUsing %s\n"
 msgstr "\tAnvnder %s\n"
 
-#: misc/dumpe2fs.c:485 misc/e2image.c:666 misc/tune2fs.c:919 resize/main.c:298
+#: misc/dumpe2fs.c:402 misc/e2image.c:666 misc/tune2fs.c:854 resize/main.c:298
 #, c-format
 msgid "Couldn't find valid filesystem superblock.\n"
 msgstr "Kunde inte hitta giltigt filsystemssuperblock.\n"
 
-#: misc/dumpe2fs.c:496
+#: misc/dumpe2fs.c:413
 #, c-format
 msgid "Note: This is a byte-swapped filesystem\n"
 msgstr "Observera: Detta r ett bytevxlat filsystem\n"
 
-#: misc/dumpe2fs.c:515
+#: misc/dumpe2fs.c:432
 #, c-format
 msgid ""
 "\n"
@@ -3408,7 +3319,7 @@ msgstr "e2label: fel vid lsning av supe
 msgid "e2label: not an ext2 filesystem\n"
 msgstr "e2label: inte ett ext2-filsystem\n"
 
-#: misc/e2label.c:96 misc/tune2fs.c:1025
+#: misc/e2label.c:96 misc/tune2fs.c:970
 #, c-format
 msgid "Warning: label too long, truncating.\n"
 msgstr "Varning: etikett fr lng, avkortar.\n"
@@ -3423,7 +3334,7 @@ msgstr "e2label: kan inte ska till supe
 msgid "e2label: error writing superblock\n"
 msgstr "e2label: fel vid skrivning av superblock\n"
 
-#: misc/e2label.c:116 misc/tune2fs.c:496
+#: misc/e2label.c:116 misc/tune2fs.c:462
 #, c-format
 msgid "Usage: e2label device [newlabel]\n"
 msgstr "Anvndning: e2label enhet [ny-etikett]\n"
@@ -3494,12 +3405,8 @@ msgstr "Kunde inte allokera minne fr fi
 
 #: misc/fsck.c:872
 #, c-format
-msgid ""
-"%s: skipping bad line in /etc/fstab: bind mount with nonzero fsck pass "
-"number\n"
-msgstr ""
-"%s: hoppar ver felaktig rad i /etc/fstab: bind-montering med fsck-"
-"passnummer som inte r noll\n"
+msgid "%s: skipping bad line in /etc/fstab: bind mount with nonzero fsck pass number\n"
+msgstr "%s: hoppar ver felaktig rad i /etc/fstab: bind-montering med fsck-passnummer som inte r noll\n"
 
 #: misc/fsck.c:899
 #, c-format
@@ -3510,25 +3417,21 @@ msgstr "fsck: kan inte kontrollera %s: f
 msgid "Checking all file systems.\n"
 msgstr "Kontrollerar alla filsystem.\n"
 
-#: misc/fsck.c:1046
+#: misc/fsck.c:1041
 #, c-format
 msgid "--waiting-- (pass %d)\n"
 msgstr "--vntar-- (pass %d)\n"
 
-#: misc/fsck.c:1066
-#, fuzzy
-msgid ""
-"Usage: fsck [-AMNPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
-msgstr ""
-"Anvndning: fsck [-ANPRTV] [ -C [ fh ] ] [-t fstyp] [fs-flaggor] "
-"[filsys ...]\n"
+#: misc/fsck.c:1061
+msgid "Usage: fsck [-ANPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
+msgstr "Anvndning: fsck [-ANPRTV] [ -C [ fh ] ] [-t fstyp] [fs-flaggor] [filsys ...]\n"
 
-#: misc/fsck.c:1108
+#: misc/fsck.c:1103
 #, c-format
 msgid "%s: too many devices\n"
 msgstr "%s: fr mnga enheter\n"
 
-#: misc/fsck.c:1141 misc/fsck.c:1227
+#: misc/fsck.c:1136 misc/fsck.c:1222
 #, c-format
 msgid "%s: too many arguments\n"
 msgstr "%s: fr mnga argument\n"
@@ -3549,14 +3452,14 @@ msgid "While reading version on %s"
 msgstr "Vid lsning av version p %s"
 
 #: misc/mke2fs.c:97
-#, fuzzy, c-format
+#, c-format
 msgid ""
-"Usage: %s [-c|-l filename] [-b block-size] [-f fragment-size]\n"
-"\t[-i bytes-per-inode] [-I inode-size] [-J journal-options]\n"
+"Usage: %s [-c|-t|-l filename] [-b block-size] [-f fragment-size]\n"
+"\t[-i bytes-per-inode] [-I inode-size] [-j] [-J journal-options]\n"
 "\t[-N number-of-inodes] [-m reserved-blocks-percentage] [-o creator-os]\n"
 "\t[-g blocks-per-group] [-L volume-label] [-M last-mounted-directory]\n"
-"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]]\n"
-"\t[-T fs-type] [-jnqvFSV] device [blocks-count]\n"
+"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]] [-qvSV]\n"
+"\tdevice [blocks-count]\n"
 msgstr ""
 "Anvndning: %s [-c|-t|-l filnamn] [-b blockstorlek] [-f fragmentstorlek]\n"
 "\t[-i byte-per-inod] [-I inodstorlek] [-j] [-J journalflaggor]\n"
@@ -3565,35 +3468,35 @@ msgstr ""
 "\t[-O funktion[,...]] [-r fs-revision] [-E utkad-flagga[,...]] [-qvSV]\n"
 "\tenhet [blockantal]\n"
 
-#: misc/mke2fs.c:198
+#: misc/mke2fs.c:197
 #, c-format
 msgid "Running command: %s\n"
 msgstr "Kr kommando: %s\n"
 
-#: misc/mke2fs.c:202
+#: misc/mke2fs.c:201
 #, c-format
 msgid "while trying to run '%s'"
 msgstr "vid frsk att kra \"%s\""
 
-#: misc/mke2fs.c:209
+#: misc/mke2fs.c:208
 msgid "while processing list of bad blocks from program"
 msgstr "vid bearbetning av lista ver dliga block frn program"
 
-#: misc/mke2fs.c:236
+#: misc/mke2fs.c:235
 #, c-format
 msgid "Block %d in primary superblock/group descriptor area bad.\n"
 msgstr "Block %d i primr superblock-/gruppbeskrivare r felaktigt.\n"
 
-#: misc/mke2fs.c:238
+#: misc/mke2fs.c:237
 #, c-format
 msgid "Blocks %u through %u must be good in order to build a filesystem.\n"
 msgstr "Block %u till %u mste vara bra fr att bygga ett filsystem.\n"
 
-#: misc/mke2fs.c:241
+#: misc/mke2fs.c:240
 msgid "Aborting....\n"
 msgstr "Avbryter...\n"
 
-#: misc/mke2fs.c:261
+#: misc/mke2fs.c:260
 #, c-format
 msgid ""
 "Warning: the backup superblock/group descriptors at block %u contain\n"
@@ -3604,23 +3507,23 @@ msgstr ""
 "\tdliga block.\n"
 "\n"
 
-#: misc/mke2fs.c:279
+#: misc/mke2fs.c:278
 msgid "while marking bad blocks as used"
 msgstr "vid markering av dliga block som anvnda"
 
-#: misc/mke2fs.c:337
+#: misc/mke2fs.c:336
 msgid "done                            \n"
 msgstr "klar                            \n"
 
-#: misc/mke2fs.c:372
+#: misc/mke2fs.c:371
 msgid "while allocating zeroizing buffer"
 msgstr "vid allokering av nollstllningsbuffert"
 
-#: misc/mke2fs.c:414
+#: misc/mke2fs.c:413
 msgid "Writing inode tables: "
 msgstr "Skriver inodstabeller: "
 
-#: misc/mke2fs.c:431
+#: misc/mke2fs.c:430
 #, c-format
 msgid ""
 "\n"
@@ -3629,67 +3532,67 @@ msgstr ""
 "\n"
 "Kunde inte skriva %d block i inodstabell som brjar vid %u: %s\n"
 
-#: misc/mke2fs.c:487
+#: misc/mke2fs.c:486
 msgid "while creating root dir"
 msgstr "vid skapande av rotkatalog"
 
-#: misc/mke2fs.c:494
+#: misc/mke2fs.c:493
 msgid "while reading root inode"
 msgstr "vid lsning av rotinod"
 
-#: misc/mke2fs.c:508
+#: misc/mke2fs.c:507
 msgid "while setting root inode ownership"
 msgstr "vid instllning av rotinodens garskap"
 
-#: misc/mke2fs.c:526
+#: misc/mke2fs.c:525
 msgid "while creating /lost+found"
 msgstr "vid skapande av /lost+found"
 
-#: misc/mke2fs.c:533
+#: misc/mke2fs.c:532
 msgid "while looking up /lost+found"
 msgstr "vid skning efter /lost+found"
 
-#: misc/mke2fs.c:543
+#: misc/mke2fs.c:542
 msgid "while expanding /lost+found"
 msgstr "vid utvidgning av /lost+found"
 
-#: misc/mke2fs.c:559
+#: misc/mke2fs.c:558
 msgid "while setting bad block inode"
 msgstr "vid instllning av inod fr dliga block"
 
-#: misc/mke2fs.c:591
+#: misc/mke2fs.c:590
 #, c-format
 msgid "Out of memory erasing sectors %d-%d\n"
 msgstr "Slut p mine vid radering av sektorer %d-%d\n"
 
-#: misc/mke2fs.c:601
+#: misc/mke2fs.c:600
 #, c-format
 msgid "Warning: could not read block 0: %s\n"
 msgstr "Varning: kune inte lsa block 0: %s\n"
 
-#: misc/mke2fs.c:617
+#: misc/mke2fs.c:616
 #, c-format
 msgid "Warning: could not erase sector %d: %s\n"
 msgstr "Varning: kunde inte radera sektor %d: %s\n"
 
-#: misc/mke2fs.c:633
+#: misc/mke2fs.c:632
 msgid "while initializing journal superblock"
 msgstr "vid initiering av journalsuperblock"
 
-#: misc/mke2fs.c:639
+#: misc/mke2fs.c:638
 msgid "Zeroing journal device: "
 msgstr "Nollstller journalenhet: "
 
-#: misc/mke2fs.c:646
+#: misc/mke2fs.c:645
 #, c-format
 msgid "while zeroing journal device (block %u, count %d)"
 msgstr "vid nollstllning av journalenhet (block %u, antal %d)"
 
-#: misc/mke2fs.c:657
+#: misc/mke2fs.c:656
 msgid "while writing journal superblock"
 msgstr "vid skrivning av journalsuperblock"
 
-#: misc/mke2fs.c:673
+#: misc/mke2fs.c:672
 #, c-format
 msgid ""
 "warning: %u blocks unused.\n"
@@ -3698,117 +3601,113 @@ msgstr ""
 "varning: %u block oanvnda.\n"
 "\n"
 
-#: misc/mke2fs.c:678
+#: misc/mke2fs.c:677
 #, c-format
 msgid "Filesystem label=%s\n"
 msgstr "Filsystemsetikett=%s\n"
 
-#: misc/mke2fs.c:679
+#: misc/mke2fs.c:678
 msgid "OS type: "
 msgstr "OS-typ: "
 
-#: misc/mke2fs.c:684
+#: misc/mke2fs.c:683
 #, c-format
 msgid "Block size=%u (log=%u)\n"
 msgstr "Blockstorlek=%u (log=%u)\n"
 
-#: misc/mke2fs.c:686
+#: misc/mke2fs.c:685
 #, c-format
 msgid "Fragment size=%u (log=%u)\n"
 msgstr "Fragmentstorlek=%u (log=%u)\n"
 
-#: misc/mke2fs.c:688
+#: misc/mke2fs.c:687
 #, c-format
 msgid "%u inodes, %u blocks\n"
 msgstr "%u inoder, %u block\n"
 
-#: misc/mke2fs.c:690
+#: misc/mke2fs.c:689
 #, c-format
 msgid "%u blocks (%2.2f%%) reserved for the super user\n"
 msgstr "%u block (%2.2f%%) reserverade fr superanvndaren\n"
 
-#: misc/mke2fs.c:693
+#: misc/mke2fs.c:692
 #, c-format
 msgid "First data block=%u\n"
 msgstr "Frsta datablock=%u\n"
 
-#: misc/mke2fs.c:695
+#: misc/mke2fs.c:694
 #, c-format
 msgid "Maximum filesystem blocks=%lu\n"
 msgstr "Maximalt antal filsystemsblock=%lu\n"
 
-#: misc/mke2fs.c:700
+#: misc/mke2fs.c:699
 #, c-format
 msgid "%u block groups\n"
 msgstr "%u blockgrupper\n"
 
-#: misc/mke2fs.c:702
+#: misc/mke2fs.c:701
 #, c-format
 msgid "%u block group\n"
 msgstr "%u blockgrupp\n"
 
-#: misc/mke2fs.c:703
+#: misc/mke2fs.c:702
 #, c-format
 msgid "%u blocks per group, %u fragments per group\n"
 msgstr "%u block per grupp, %u fragment per grupp\n"
 
-#: misc/mke2fs.c:705
+#: misc/mke2fs.c:704
 #, c-format
 msgid "%u inodes per group\n"
 msgstr "%u inoder per grupp\n"
 
-#: misc/mke2fs.c:712
+#: misc/mke2fs.c:711
 #, c-format
 msgid "Superblock backups stored on blocks: "
 msgstr "Superblockkopior lagrade p block: "
 
-#: misc/mke2fs.c:793
+#: misc/mke2fs.c:767 misc/tune2fs.c:776
 #, c-format
-msgid "Invalid stride parameter: %s\n"
-msgstr "Ogiltig stride-parameter: %s\n"
+msgid "Couldn't allocate memory to parse options!\n"
+msgstr "Kunde inte allokera minne fr att tolka flaggor!\n"
 
-#: misc/mke2fs.c:808
-#, fuzzy, c-format
-msgid "Invalid stripe-width parameter: %s\n"
+#: misc/mke2fs.c:791
+#, c-format
+msgid "Invalid stride parameter: %s\n"
 msgstr "Ogiltig stride-parameter: %s\n"
 
-#: misc/mke2fs.c:830
+#: misc/mke2fs.c:812
 #, c-format
 msgid "Invalid resize parameter: %s\n"
 msgstr "Ogiltig storleksndringsparameter: %s\n"
 
-#: misc/mke2fs.c:837
+#: misc/mke2fs.c:819
 #, c-format
 msgid "The resize maximum must be greater than the filesystem size.\n"
-msgstr ""
-"Storleksndringens maximum mste vara strre n filsystemets storlek.\n"
+msgstr "Storleksndringens maximum mste vara strre n filsystemets storlek.\n"
 
-#: misc/mke2fs.c:861
+#: misc/mke2fs.c:843
 #, c-format
 msgid "On-line resizing not supported with revision 0 filesystems\n"
 msgstr "Storleksndring under drift stds inte med revision 0-filsystem\n"
 
-#: misc/mke2fs.c:878
-#, fuzzy, c-format
+#: misc/mke2fs.c:858
+#, c-format
 msgid ""
 "\n"
-"Bad option(s) specified: %s\n"
+"Bad options specified.\n"
 "\n"
 "Extended options are separated by commas, and may take an argument which\n"
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk data chunk in blocks>\n"
-"\tstripe-width=<RAID stride * data disks in blocks>\n"
+"\tstride=<stride length in blocks>\n"
 "\tresize=<resize maximum size in blocks>\n"
-"\n"
 "\ttest_fs\n"
 msgstr ""
 "\n"
 "Felaktiga flaggor angivna.\n"
 "\n"
-"Utkade flaggor separeras med komman, och kan ta ett argument som avdelas "
-"med\n"
+"Utkade flaggor separeras med komman, och kan ta ett argument som avdelas med\n"
 "\tett likhetstecken (\"=\").\n"
 "\n"
 "Giltiga utkade flaggor r:\n"
@@ -3816,15 +3715,7 @@ msgstr ""
 "\tresize=<maximal storleksndring i block>\n"
 "\ttest_fs\n"
 
-#: misc/mke2fs.c:893
-#, c-format
-msgid ""
-"\n"
-"Warning: RAID stripe-width %u not an even multiple of stride %u.\n"
-"\n"
-msgstr ""
-
-#: misc/mke2fs.c:920
+#: misc/mke2fs.c:888
 #, c-format
 msgid ""
 "Syntax error in mke2fs config file (%s, line #%d)\n"
@@ -3833,101 +3724,99 @@ msgstr ""
 "Syntaxfel i mke2fs konfigurationsfil (%s, rad nr %d)\n"
 "\t%s\n"
 
-#: misc/mke2fs.c:933 misc/tune2fs.c:335
+#: misc/mke2fs.c:901 misc/tune2fs.c:314
 #, c-format
 msgid "Invalid filesystem option set: %s\n"
 msgstr "Ogiltig filsystemsflagga satt: %s\n"
 
-#: misc/mke2fs.c:1040
+#: misc/mke2fs.c:1008
 #, c-format
 msgid "invalid block size - %s"
 msgstr "felaktig blockstorlek - %s"
 
-#: misc/mke2fs.c:1044
+#: misc/mke2fs.c:1012
 #, c-format
 msgid "Warning: blocksize %d not usable on most systems.\n"
 msgstr "Varning: blockstorlek %d r inte anvndbar p de flesta system.\n"
 
-#: misc/mke2fs.c:1061
+#: misc/mke2fs.c:1029
 #, c-format
 msgid "invalid fragment size - %s"
 msgstr "ogiltig fragmentstorlek - %s"
 
-#: misc/mke2fs.c:1067
+#: misc/mke2fs.c:1035
 #, c-format
 msgid "Warning: fragments not supported.  Ignoring -f option\n"
 msgstr "Varning: fragment stds inte.  Ignorerar -f-flagga\n"
 
-#: misc/mke2fs.c:1074
+#: misc/mke2fs.c:1042
 msgid "Illegal number for blocks per group"
 msgstr "Ogiltigt antal fr block per grupp"
 
-#: misc/mke2fs.c:1079
+#: misc/mke2fs.c:1047
 msgid "blocks per group must be multiple of 8"
 msgstr "block per grupp mste vara en multipel av 8"
 
-#: misc/mke2fs.c:1089
+#: misc/mke2fs.c:1057
 #, c-format
 msgid "invalid inode ratio %s (min %d/max %d)"
 msgstr "ogiltig inodsfrhllande %s (min %d/max %d)"
 
-#: misc/mke2fs.c:1106
+#: misc/mke2fs.c:1074
 msgid "in malloc for bad_blocks_filename"
 msgstr "i malloc fr bad_blocks_filename"
 
-#: misc/mke2fs.c:1115
+#: misc/mke2fs.c:1083
 #, c-format
 msgid "invalid reserved blocks percent - %s"
 msgstr "ogiltig procentandel reserverade block - %s"
 
-#: misc/mke2fs.c:1133
+#: misc/mke2fs.c:1101
 #, c-format
 msgid "bad revision level - %s"
 msgstr "felaktigt versionsniv - %s"
 
-#: misc/mke2fs.c:1145
+#: misc/mke2fs.c:1113
 #, c-format
 msgid "invalid inode size - %s"
 msgstr "ogiltig inodsstorlek - %s"
 
-#: misc/mke2fs.c:1165
+#: misc/mke2fs.c:1133
 #, c-format
 msgid "bad num inodes - %s"
 msgstr "felaktigt antal inoder - %s"
 
-#: misc/mke2fs.c:1223 misc/mke2fs.c:1745
+#: misc/mke2fs.c:1191 misc/mke2fs.c:1713
 #, c-format
 msgid "while trying to open journal device %s\n"
 msgstr "vid frsk att ppna journalenhet %s\n"
 
-#: misc/mke2fs.c:1229
+#: misc/mke2fs.c:1197
 #, c-format
 msgid "Journal dev blocksize (%d) smaller than minimum blocksize %d\n"
 msgstr "Journalenhetens blockstorlek (%d) mindre n minsta blockstorlek %d\n"
 
-#: misc/mke2fs.c:1243
+#: misc/mke2fs.c:1211
 #, c-format
 msgid "%d-byte blocks too big for system (max %d)"
 msgstr "%d-byteblock fr stort fr systemet (max %d)"
 
-#: misc/mke2fs.c:1247
+#: misc/mke2fs.c:1215
 #, c-format
-msgid ""
-"Warning: %d-byte blocks too big for system (max %d), forced to continue\n"
-msgstr ""
-"Varning: %d-byteblock fr stort fr systemet (max %d), tvingas fortstta\n"
+msgid "Warning: %d-byte blocks too big for system (max %d), forced to continue\n"
+msgstr "Varning: %d-byteblock fr stort fr systemet (max %d), tvingas fortstta\n"
 
 # "Ett" fr att detta stts in i annan strng dr det fregs av "a".
 # ven "journal" kan sttas in p samma plats.  Felrapporterat.
-#: misc/mke2fs.c:1265
+#: misc/mke2fs.c:1233
 msgid "filesystem"
 msgstr "ett filsystem"
 
-#: misc/mke2fs.c:1288 resize/main.c:332
+#: misc/mke2fs.c:1256 resize/main.c:332
 msgid "while trying to determine filesystem size"
 msgstr "vid frsk att avgra filsystemstorlek"
 
-#: misc/mke2fs.c:1294
+#: misc/mke2fs.c:1262
 msgid ""
 "Couldn't determine device size; you must specify\n"
 "the size of the filesystem\n"
@@ -3935,7 +3824,7 @@ msgstr ""
 "Kunde inte avgra enhetsstorlek; du mste ange\n"
 "storleken p filsystemet\n"
 
-#: misc/mke2fs.c:1301
+#: misc/mke2fs.c:1269
 msgid ""
 "Device size reported to be zero.  Invalid partition specified, or\n"
 "\tpartition table wasn't reread after running fdisk, due to\n"
@@ -3947,40 +3836,38 @@ msgstr ""
 "\tav en modifierad partition anvnds och r i bruk.  Du kan behva\n"
 "\tstarta om fr att lsa om din partitionstabell.\n"
 
-#: misc/mke2fs.c:1319
+#: misc/mke2fs.c:1287
 msgid "Filesystem larger than apparent device size."
 msgstr "Filsystem strre n synbar enhetsstorlek."
 
-#: misc/mke2fs.c:1367
+#: misc/mke2fs.c:1335
 #, c-format
 msgid "Filesystem features not supported with revision 0 filesystems\n"
 msgstr "Filsystemsfunktioner som inte stds med revision 0-filsystem\n"
 
-#: misc/mke2fs.c:1374
+#: misc/mke2fs.c:1342
 #, c-format
 msgid "Sparse superblocks not supported with revision 0 filesystems\n"
 msgstr "Glesa superblock stds inte med revision 0-filsystem\n"
 
-#: misc/mke2fs.c:1386
+#: misc/mke2fs.c:1354
 #, c-format
 msgid "Journals not supported with revision 0 filesystems\n"
 msgstr "Journaler stds inte med revision 0-filsystem\n"
 
-#: misc/mke2fs.c:1412
+#: misc/mke2fs.c:1380
 msgid "while trying to determine hardware sector size"
 msgstr "vid frsk att avgra hrdvarusektorstorlek"
 
-#: misc/mke2fs.c:1464
+#: misc/mke2fs.c:1432
 msgid "reserved online resize blocks not supported on non-sparse filesystem"
-msgstr ""
-"reserverade block fr storleksndring under drift stds inte p icke-glesa "
-"filsystem"
+msgstr "reserverade block fr storleksndring under drift stds inte p icke-glesa filsystem"
 
-#: misc/mke2fs.c:1473
+#: misc/mke2fs.c:1441
 msgid "blocks per group count out of range"
 msgstr "antal block per grupp utanfr giltigt intervall"
 
-#: misc/mke2fs.c:1480
+#: misc/mke2fs.c:1448
 msgid ""
 "Filesystem too large.  No more than 2**31-1 blocks\n"
 "\t (8TB using a blocksize of 4k) are currently supported."
@@ -3988,7 +3875,7 @@ msgstr ""
 "Filsystemet r fr stort.  Hgst 2**31-1 block\n"
 "\t (8 TB om blockstorlek 4 kB anvnds) stds fr nrvarande."
 
-#: misc/mke2fs.c:1487
+#: misc/mke2fs.c:1455
 #, c-format
 msgid ""
 "\n"
@@ -4001,27 +3888,27 @@ msgstr ""
 "        med ext3.  Anvnd -b 4096 om detta r ett problem fr dig.\n"
 "\n"
 
-#: misc/mke2fs.c:1504
+#: misc/mke2fs.c:1472
 #, c-format
 msgid "invalid inode size %d (min %d/max %d)"
 msgstr "ogiltig inodstorlek %d (min %d/max %d)"
 
-#: misc/mke2fs.c:1510
+#: misc/mke2fs.c:1478
 #, c-format
 msgid "Warning: %d-byte inodes not usable on older systems\n"
 msgstr "Varning: %d-byteinoder inte anvndbara p ldre system\n"
 
-#: misc/mke2fs.c:1522
+#: misc/mke2fs.c:1490
 #, c-format
 msgid "too many inodes (%llu), raise inode ratio?"
 msgstr "fr mnga inoder (%llu), ka inodsfrhllandet?"
 
-#: misc/mke2fs.c:1527
+#: misc/mke2fs.c:1495
 #, c-format
 msgid "too many inodes (%llu), specify < 2^32 inodes"
 msgstr "fr mnga inoder (%llu), ange < 2^32 inoder"
 
-#: misc/mke2fs.c:1542
+#: misc/mke2fs.c:1510
 #, c-format
 msgid ""
 "inode_size (%u) * inodes_count (%u) too big for a\n"
@@ -4032,40 +3919,40 @@ msgstr ""
 "\tfilsystem med %lu block, ange hgre inodsfrhllande (-i)\n"
 "\teller lgre inodantal (-N).\n"
 
-#: misc/mke2fs.c:1591
+#: misc/mke2fs.c:1559
 msgid "while setting up superblock"
 msgstr "vid uppsttning av superblock"
 
-#: misc/mke2fs.c:1628
+#: misc/mke2fs.c:1596
 #, c-format
 msgid "unknown os - %s"
 msgstr "oknt os - %s"
 
-#: misc/mke2fs.c:1682
+#: misc/mke2fs.c:1650
 msgid "while trying to allocate filesystem tables"
 msgstr "vid frsk att allokera filsystemstabeller"
 
-#: misc/mke2fs.c:1713
+#: misc/mke2fs.c:1681
 #, c-format
 msgid "while zeroing block %u at end of filesystem"
 msgstr "vid nollstllning av block %u vid slutet av filsystem"
 
-#: misc/mke2fs.c:1727
+#: misc/mke2fs.c:1695
 msgid "while reserving blocks for online resize"
 msgstr "vid reservation av block fr storleksndring under drift"
 
 # "En" fr att detta stts in i annan strng dr det fregs av "a".
 # ven "filsystem" kan sttas in p samma plats.  Felrapporterat.
-#: misc/mke2fs.c:1738 misc/tune2fs.c:433
+#: misc/mke2fs.c:1706 misc/tune2fs.c:399
 msgid "journal"
 msgstr "en journal"
 
-#: misc/mke2fs.c:1750
+#: misc/mke2fs.c:1718
 #, c-format
 msgid "Adding journal to device %s: "
 msgstr "Lgger till journal till enhet %s: "
 
-#: misc/mke2fs.c:1757
+#: misc/mke2fs.c:1725
 #, c-format
 msgid ""
 "\n"
@@ -4074,17 +3961,17 @@ msgstr ""
 "\n"
 "\tvid frsk att lgga till journal till enhet %s"
 
-#: misc/mke2fs.c:1762 misc/mke2fs.c:1788 misc/tune2fs.c:461 misc/tune2fs.c:475
+#: misc/mke2fs.c:1730 misc/mke2fs.c:1756 misc/tune2fs.c:427 misc/tune2fs.c:441
 #, c-format
 msgid "done\n"
 msgstr "klar\n"
 
-#: misc/mke2fs.c:1793
+#: misc/mke2fs.c:1761
 #, c-format
 msgid "Writing superblocks and filesystem accounting information: "
 msgstr "Skriver superblock och filsystemsbokfringsinformation: "
 
-#: misc/mke2fs.c:1798
+#: misc/mke2fs.c:1766
 #, c-format
 msgid ""
 "\n"
@@ -4093,7 +3980,7 @@ msgstr ""
 "\n"
 "Varning, hade problem att skriva ut superblock."
 
-#: misc/mke2fs.c:1801
+#: misc/mke2fs.c:1769
 #, c-format
 msgid ""
 "done\n"
@@ -4107,17 +3994,18 @@ msgstr ""
 msgid "Usage: mklost+found\n"
 msgstr "Anvndning: mklost+found\n"
 
-#: misc/tune2fs.c:91
+#: misc/tune2fs.c:89
 msgid "Please run e2fsck on the filesystem.\n"
 msgstr "Kr e2fsck p filsystemet.\n"
 
-#: misc/tune2fs.c:98
-#, fuzzy, c-format
+#: misc/tune2fs.c:96
+#, c-format
 msgid ""
 "Usage: %s [-c max_mounts_count] [-e errors_behavior] [-g group]\n"
-"\t[-i interval[d|m|w]] [-j] [-J journal_options] [-l]\n"
-"\t[-m reserved_blocks_percent] [-o [^]mount_options[,...]] \n"
-"\t[-r reserved_blocks_count] [-u user] [-C mount_count] [-L volume_label]\n"
+"\t[-i interval[d|m|w]] [-j] [-J journal_options]\n"
+"\t[-l] [-s sparse_flag] [-m reserved_blocks_percent]\n"
+"\t[-o [^]mount_options[,...]] [-r reserved_blocks_count]\n"
+"\t[-u user] [-C mount_count] [-L volume_label]\n"
 "\t[-M last_mounted_dir] [-O [^]feature[,...]]\n"
 "\t[-E extended-option[,...]] [-T last_check_time] [-U UUID] device\n"
 msgstr ""
@@ -4129,59 +4017,49 @@ msgstr ""
 "\t[-M senast_monterad_katalog] [-O [^]funktion[,...]]\n"
 "\t[-E utkad-flagga[,...]] [-T senaste_kontroll_tid] [-U UUID] enhet\n"
 
-#: misc/tune2fs.c:171
+#: misc/tune2fs.c:153
 msgid "while trying to open external journal"
 msgstr "vid frsk att ppna extern journal"
 
-#: misc/tune2fs.c:175
+#: misc/tune2fs.c:157
 #, c-format
 msgid "%s is not a journal device.\n"
 msgstr "%s r inte en journalenhet.\n"
 
-#: misc/tune2fs.c:190
+#: misc/tune2fs.c:172
 msgid "Journal superblock not found!\n"
 msgstr "Journalsuperblock inte funnet!\n"
 
-#: misc/tune2fs.c:202
+#: misc/tune2fs.c:184
 msgid "Filesystem's UUID not found on journal device.\n"
 msgstr "Filsystems UUID inte funnet p journalenhet.\n"
 
-#: misc/tune2fs.c:223
+#: misc/tune2fs.c:205
 msgid "Journal NOT removed\n"
 msgstr "Journal INTE borttagen\n"
 
-#: misc/tune2fs.c:229
+#: misc/tune2fs.c:211
 msgid "Journal removed\n"
 msgstr "Journal borttagen\n"
 
-#: misc/tune2fs.c:268
+#: misc/tune2fs.c:250
 msgid "while reading bitmaps"
 msgstr "vid lsning av bitkartor"
 
-#: misc/tune2fs.c:275
+#: misc/tune2fs.c:257
 msgid "while clearing journal inode"
 msgstr "vid nollstllning av journalinod"
 
-#: misc/tune2fs.c:286
+#: misc/tune2fs.c:268
 msgid "while writing journal inode"
 msgstr "vid skrivning av journalinod"
 
-#: misc/tune2fs.c:301
+#: misc/tune2fs.c:283
 #, c-format
 msgid "Invalid mount option set: %s\n"
 msgstr "Ogiltig monteringsflagga satt: %s\n"
 
-#: misc/tune2fs.c:338
-#, fuzzy, c-format
-msgid "Clearing filesystem feature '%s' not supported.\n"
-msgstr "Filsystemsfunktioner som inte stds med revision 0-filsystem\n"
-
-#: misc/tune2fs.c:344
-#, fuzzy, c-format
-msgid "Setting filesystem feature '%s' not supported.\n"
-msgstr "Filsystemsfunktioner som inte stds med revision 0-filsystem\n"
-
-#: misc/tune2fs.c:353
+#: misc/tune2fs.c:329
 msgid ""
 "The has_journal flag may only be cleared when the filesystem is\n"
 "unmounted or mounted read-only.\n"
@@ -4189,7 +4067,7 @@ msgstr ""
 "Flaggan has_journal fr endast nollstllas nr filsystemet r\n"
 "omonterat eller monterat enbart fr lsning.\n"
 
-#: misc/tune2fs.c:361
+#: misc/tune2fs.c:337
 msgid ""
 "The needs_recovery flag is set.  Please run e2fsck before clearing\n"
 "the has_journal flag.\n"
@@ -4197,11 +4075,11 @@ msgstr ""
 "Flaggan needs_recovery r satt.  Kr e2fsck fre flaggan has_journal\n"
 "nollstlls.\n"
 
-#: misc/tune2fs.c:428
+#: misc/tune2fs.c:394
 msgid "The filesystem already has a journal.\n"
 msgstr "Filsystemet har redan en journal.\n"
 
-#: misc/tune2fs.c:445
+#: misc/tune2fs.c:411
 #, c-format
 msgid ""
 "\n"
@@ -4210,21 +4088,21 @@ msgstr ""
 "\n"
 "\tvid frsk att ppna journal p %s\n"
 
-#: misc/tune2fs.c:449
+#: misc/tune2fs.c:415
 #, c-format
 msgid "Creating journal on device %s: "
 msgstr "Skapar journal p enhet %s: "
 
-#: misc/tune2fs.c:457
+#: misc/tune2fs.c:423
 #, c-format
 msgid "while adding filesystem to journal on %s"
 msgstr "vid tillgg av filsystem till journal p %s"
 
-#: misc/tune2fs.c:463
+#: misc/tune2fs.c:429
 msgid "Creating journal inode: "
 msgstr "Skapar journalinod: "
 
-#: misc/tune2fs.c:472
+#: misc/tune2fs.c:438
 msgid ""
 "\n"
 "\twhile trying to create journal file"
@@ -4232,66 +4110,56 @@ msgstr ""
 "\n"
 "\tvid frsk att skapa journalfil"
 
-#: misc/tune2fs.c:539
+#: misc/tune2fs.c:505
 #, c-format
 msgid "Couldn't parse date/time specifier: %s"
 msgstr "Kunde inte tolka datum-/tidsangivelse: %s"
 
-#: misc/tune2fs.c:563 misc/tune2fs.c:576
+#: misc/tune2fs.c:529 misc/tune2fs.c:542
 #, c-format
 msgid "bad mounts count - %s"
 msgstr "felaktigt antal monteringar - %s"
 
-#: misc/tune2fs.c:592
+#: misc/tune2fs.c:558
 #, c-format
 msgid "bad error behavior - %s"
 msgstr "felaktigt felbeteende - %s"
 
-#: misc/tune2fs.c:619
+#: misc/tune2fs.c:585
 #, c-format
 msgid "bad gid/group name - %s"
 msgstr "felaktigt gid/gruppnamn - %s"
 
-#: misc/tune2fs.c:652
+#: misc/tune2fs.c:618
 #, c-format
 msgid "bad interval - %s"
 msgstr "felaktigt intervall - %s"
 
-#: misc/tune2fs.c:680
+#: misc/tune2fs.c:646
 #, c-format
 msgid "bad reserved block ratio - %s"
 msgstr "felaktig andel reserverade block - %s"
 
-#: misc/tune2fs.c:695
+#: misc/tune2fs.c:661
 msgid "-o may only be specified once"
 msgstr "-o fr endast anges en gng"
 
-#: misc/tune2fs.c:705
+#: misc/tune2fs.c:671
 msgid "-O may only be specified once"
 msgstr "-O fr endast anges en gng"
 
-#: misc/tune2fs.c:715
+#: misc/tune2fs.c:681
 #, c-format
 msgid "bad reserved blocks count - %s"
 msgstr "felaktigt antal reserverade block - %s"
 
-#: misc/tune2fs.c:744
+#: misc/tune2fs.c:710
 #, c-format
 msgid "bad uid/user name - %s"
 msgstr "felagtigt uid/anvndarnamn - %s"
 
-#: misc/tune2fs.c:842
-#, fuzzy, c-format
-msgid "Invalid RAID stride: %s\n"
-msgstr "Ogiltig stride-parameter: %s\n"
-
-#: misc/tune2fs.c:857
-#, fuzzy, c-format
-msgid "Invalid RAID stripe-width: %s\n"
-msgstr "Ogiltig stride-parameter: %s\n"
-
-#: misc/tune2fs.c:867
-#, fuzzy, c-format
+#: misc/tune2fs.c:804
+#, c-format
 msgid ""
 "\n"
 "Bad options specified.\n"
@@ -4300,69 +4168,65 @@ msgid ""
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk chunk size in blocks>\n"
-"\tstripe-width=<RAID stride*data disks in blocks>\n"
 "\ttest_fs\n"
 "\t^test_fs\n"
 msgstr ""
 "\n"
 "Felaktiga flaggor angivna.\n"
 "\n"
-"Utkade flaggor separeras med komman, och kan ta ett argument som avdelas "
-"med\n"
+"Utkade flaggor separeras med komman, och kan ta ett argument som avdelas med\n"
 "\tett likhetstecken (\"=\").\n"
 "\n"
 "Giltiga utkade flaggor r:\n"
-"\tstride=<stride-lngd i block>\n"
-"\tresize=<maximal storleksndring i block>\n"
 "\ttest_fs\n"
+"\t^test_fs\n"
 
-#: misc/tune2fs.c:927
+#: misc/tune2fs.c:862
 #, c-format
 msgid "Filesystem %s has unsupported features enabled.\n"
 msgstr "Filsystem %s har funktioner som inte stds aktiverade.\n"
 
-#: misc/tune2fs.c:951
+#: misc/tune2fs.c:886
 #, c-format
 msgid "Setting maximal mount count to %d\n"
 msgstr "Stter max antal monteringar till %d\n"
 
-#: misc/tune2fs.c:957
+#: misc/tune2fs.c:892
 #, c-format
 msgid "Setting current mount count to %d\n"
 msgstr "Stter aktuellt antal monteringar till %d\n"
 
-#: misc/tune2fs.c:962
+#: misc/tune2fs.c:897
 #, c-format
 msgid "Setting error behavior to %d\n"
 msgstr "Stter felbeteende till %d\n"
 
-#: misc/tune2fs.c:967
+#: misc/tune2fs.c:902
 #, c-format
 msgid "Setting reserved blocks gid to %lu\n"
 msgstr "Stter gid fr reserverade block till %lu\n"
 
-#: misc/tune2fs.c:972
+#: misc/tune2fs.c:907
 #, c-format
 msgid "Setting interval between checks to %lu seconds\n"
 msgstr "Stter intervall mellan kontroller till %lu sekunder\n"
 
-#: misc/tune2fs.c:978
+#: misc/tune2fs.c:913
 #, c-format
 msgid "Setting reserved blocks percentage to %g%% (%u blocks)\n"
 msgstr "Stter procent reserverade block till %g%% (%u block)\n"
 
-#: misc/tune2fs.c:984
+#: misc/tune2fs.c:919
 #, c-format
 msgid "reserved blocks count is too big (%lu)"
 msgstr "antal reserverade block fr stort (%lu)"
 
-#: misc/tune2fs.c:990
+#: misc/tune2fs.c:925
 #, c-format
 msgid "Setting reserved blocks count to %lu\n"
 msgstr "Stter antal reserverade block till %lu\n"
 
-#: misc/tune2fs.c:996
+#: misc/tune2fs.c:931
 msgid ""
 "\n"
 "The filesystem already has sparse superblocks.\n"
@@ -4370,7 +4234,7 @@ msgstr ""
 "\n"
 "Filsystemet har redan glesa superblock.\n"
 
-#: misc/tune2fs.c:1003
+#: misc/tune2fs.c:938
 #, c-format
 msgid ""
 "\n"
@@ -4379,36 +4243,37 @@ msgstr ""
 "\n"
 "Flaggan fr glesa superblock satt.  %s"
 
-#: misc/tune2fs.c:1008
+#: misc/tune2fs.c:945
+msgid ""
+"\n"
+"The filesystem already has sparse superblocks disabled.\n"
+msgstr ""
+"\n"
+"Filsystemet har redan glesa superblock avslagna.\n"
+
+#: misc/tune2fs.c:953
+#, c-format
 msgid ""
 "\n"
-"Clearing the sparse superflag not supported.\n"
+"Sparse superblock flag cleared.  %s"
 msgstr ""
+"\n"
+"Flaggan fr glesa superblock nollstlld.  %s"
 
-#: misc/tune2fs.c:1015
+#: misc/tune2fs.c:960
 #, c-format
 msgid "Setting time filesystem last checked to %s\n"
 msgstr "Stter tidpunkt fr senaste filsystemskontroll till %s\n"
 
-#: misc/tune2fs.c:1021
+#: misc/tune2fs.c:966
 #, c-format
 msgid "Setting reserved blocks uid to %lu\n"
 msgstr "Stter uid fr reserverade block till %lu\n"
 
-#: misc/tune2fs.c:1056
+#: misc/tune2fs.c:1001
 msgid "Invalid UUID format\n"
 msgstr "Ogiltigt UUID-format\n"
 
-#: misc/tune2fs.c:1067
-#, fuzzy, c-format
-msgid "Setting stride size to %d\n"
-msgstr "Stter gid fr reserverade block till %lu\n"
-
-#: misc/tune2fs.c:1072
-#, fuzzy, c-format
-msgid "Setting stripe width to %d\n"
-msgstr "Stter gid fr reserverade block till %lu\n"
-
 #: misc/util.c:72
 msgid "Proceed anyway? (y,n) "
 msgstr "Fortstt nd? (j,n) "
@@ -4656,21 +4521,7 @@ msgstr "block att flytta"
 msgid "meta-data blocks"
 msgstr "metadatablock"
 
-#: resize/resize2fs.c:1550
+#: resize/resize2fs.c:1534
 #, c-format
 msgid "Should never happen: resize inode corrupt!\n"
 msgstr "Skulle aldrig intrffa: storleksndringsinoden trasig!\n"
-
-#~ msgid ""
-#~ "\n"
-#~ "The filesystem already has sparse superblocks disabled.\n"
-#~ msgstr ""
-#~ "\n"
-#~ "Filsystemet har redan glesa superblock avslagna.\n"
-
-#~ msgid ""
-#~ "\n"
-#~ "Sparse superblock flag cleared.  %s"
-#~ msgstr ""
-#~ "\n"
-#~ "Flaggan fr glesa superblock nollstlld.  %s"
Files e2fsprogs-1.40.7/po/tr.gmo and e2fsprogs/po/tr.gmo differ
diff -Nurp e2fsprogs-1.40.7/po/tr.po e2fsprogs/po/tr.po
--- e2fsprogs-1.40.7/po/tr.po	2008-02-29 02:46:29.000000000 +0000
+++ e2fsprogs/po/tr.po	2008-02-29 11:23:57.000000000 +0000
@@ -64,7 +64,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: e2fsprogs 1.40\n"
 "Report-Msgid-Bugs-To: tytso@alum.mit.edu\n"
-"POT-Creation-Date: 2008-02-28 21:45-0500\n"
+"POT-Creation-Date: 2008-02-09 23:16-0500\n"
 "PO-Revision-Date: 2006-04-07 00:22+0300\n"
 "Last-Translator: Nilgn Belma Bugner <nilgun@buguner.name.tr>\n"
 "Language-Team: Turkish <gnu-tr-u12a@lists.sourceforge.net>\n"
@@ -74,7 +74,7 @@ msgstr ""
 "Plural-Forms: nplurals=2; plural=(n != 1);\n"
 "X-Generator: KBabel 1.9.1\n"
 
-#: e2fsck/badblocks.c:22 misc/mke2fs.c:157
+#: e2fsck/badblocks.c:22 misc/mke2fs.c:156
 #, c-format
 msgid "Bad block %u out of range; ignored.\n"
 msgstr "Hatal blok %u kapsamd; yoksayld.\n"
@@ -88,10 +88,10 @@ msgid "while reading the bad blocks inod
 msgstr "- hatal bloklar dm okunurken hata olutu"
 
 #: e2fsck/badblocks.c:71 e2fsck/iscan.c:112 e2fsck/scantest.c:109
-#: e2fsck/unix.c:1010 e2fsck/unix.c:1093 misc/badblocks.c:1025
+#: e2fsck/unix.c:992 e2fsck/unix.c:1075 misc/badblocks.c:1025
 #: misc/badblocks.c:1033 misc/badblocks.c:1047 misc/badblocks.c:1059
-#: misc/dumpe2fs.c:483 misc/e2image.c:571 misc/e2image.c:664
-#: misc/e2image.c:680 misc/mke2fs.c:173 misc/tune2fs.c:916 resize/main.c:296
+#: misc/dumpe2fs.c:400 misc/e2image.c:571 misc/e2image.c:664
+#: misc/e2image.c:680 misc/mke2fs.c:172 misc/tune2fs.c:851 resize/main.c:296
 #, c-format
 msgid "while trying to open %s"
 msgstr "- %s almaya allrken hata olutu"
@@ -101,15 +101,15 @@ msgstr "- %s almaya allrke
 msgid "while trying popen '%s'"
 msgstr "- '%s' veri yolu almaya allrken hata olutu"
 
-#: e2fsck/badblocks.c:93 misc/mke2fs.c:180
+#: e2fsck/badblocks.c:93 misc/mke2fs.c:179
 msgid "while reading in list of bad blocks from file"
 msgstr "- dosyadan hatal bloklar listesinin okunmas srasnda hata olutu"
 
-#: e2fsck/badblocks.c:104
+#: e2fsck/badblocks.c:103
 msgid "while updating bad block inode"
 msgstr "- hatal bloklar dm gncellenirken hata olutu"
 
-#: e2fsck/badblocks.c:130
+#: e2fsck/badblocks.c:129
 #, c-format
 msgid "Warning: illegal block %u found in bad block inode.  Cleared.\n"
 msgstr "Uyar: Hatal blok dmnde %u. blok kurald; temizlendi.\n"
@@ -458,7 +458,7 @@ msgstr "i hata; %u iin dup_blk bulun
 msgid "internal error: couldn't lookup EA inode record for %u"
 msgstr " hata: %i iin dizin bilgileri bulunamyor.\n"
 
-#: e2fsck/pass1.c:404 e2fsck/pass2.c:770
+#: e2fsck/pass1.c:404 e2fsck/pass2.c:779
 #, fuzzy
 msgid "reading directory block"
 msgstr "%u dmnn dolayl bloklar okunuyor"
@@ -530,7 +530,7 @@ msgstr "dm bitelemi"
 msgid "inode table"
 msgstr "dm tablosu"
 
-#: e2fsck/pass2.c:283
+#: e2fsck/pass2.c:292
 msgid "Pass 2"
 msgstr "2. gei"
 
@@ -2457,7 +2457,7 @@ msgstr "%s: %d/%d dosya (%%%0d.%d yanyan
 msgid "         # of inodes with ind/dind/tind blocks: %u/%u/%u\n"
 msgstr "         ind/dind/tind bloklarnn dm saylar: %d/%d/%d\n"
 
-#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:941 misc/util.c:151
+#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:876 misc/util.c:151
 #: resize/main.c:237
 #, c-format
 msgid "while determining whether %s is mounted."
@@ -2596,7 +2596,7 @@ msgstr " -t seenei e2fsck'nn bu s
 msgid "Byte-swapping filesystems not compiled in this version of e2fsck\n"
 msgstr "e2fsck'nn bu srmnde derlenmemi ters baytl sistemler \n"
 
-#: e2fsck/unix.c:770 misc/tune2fs.c:504 misc/tune2fs.c:769 misc/tune2fs.c:786
+#: e2fsck/unix.c:770 misc/tune2fs.c:470 misc/tune2fs.c:735 misc/tune2fs.c:752
 #, c-format
 msgid "Unable to resolve '%s'"
 msgstr "'%s' zmlenemiyor"
@@ -2627,38 +2627,38 @@ msgid ""
 "\n"
 msgstr ""
 
-#: e2fsck/unix.c:905
+#: e2fsck/unix.c:904
 #, c-format
 msgid "Error: ext2fs library version out of date!\n"
 msgstr "Hata: ext2fs kitaplk srm uygun deil!\n"
 
-#: e2fsck/unix.c:913
+#: e2fsck/unix.c:912
 msgid "while trying to initialize program"
 msgstr "- uygulama balatlmaya ellrken hata olutu"
 
-#: e2fsck/unix.c:927
+#: e2fsck/unix.c:926
 #, c-format
 msgid "\tUsing %s, %s\n"
 msgstr "\t%s, %s kullanlyor\n"
 
-#: e2fsck/unix.c:939
+#: e2fsck/unix.c:938
 msgid "need terminal for interactive repairs"
 msgstr "etkileimli onarm iin ubirim gerekli"
 
-#: e2fsck/unix.c:983
+#: e2fsck/unix.c:978
 #, fuzzy, c-format
 msgid "%s: %s trying backup blocks...\n"
 msgstr "%s yedekleme bloklar deneniyor...\n"
 
-#: e2fsck/unix.c:985
+#: e2fsck/unix.c:980
 msgid "Superblock invalid,"
 msgstr ""
 
-#: e2fsck/unix.c:986
+#: e2fsck/unix.c:981
 msgid "Group descriptors look bad..."
 msgstr "Grup tanmlayclar hatal grnyor..."
 
-#: e2fsck/unix.c:1013
+#: e2fsck/unix.c:995
 #, c-format
 msgid ""
 "The filesystem revision is apparently too high for this version of e2fsck.\n"
@@ -2669,29 +2669,29 @@ msgstr ""
 "destekliyor gibi. (Ya da dosya sisteminin sperblou bozuk olabilir)\n"
 "\n"
 
-#: e2fsck/unix.c:1019
+#: e2fsck/unix.c:1001
 #, c-format
 msgid "Could this be a zero-length partition?\n"
 msgstr "Bu sfr uzunluklu bir disk blm olabilir mi?\n"
 
-#: e2fsck/unix.c:1021
+#: e2fsck/unix.c:1003
 #, c-format
 msgid "You must have %s access to the filesystem or be root\n"
 msgstr "Dosya sistemine %s eriiminiz olmal ya da root olmalsnz\n"
 
-#: e2fsck/unix.c:1026
+#: e2fsck/unix.c:1008
 #, c-format
 msgid "Possibly non-existent or swap device?\n"
 msgstr "Bu mevcut olmayan bir aygt ya da bir takas aygt m acaba?\n"
 
-#: e2fsck/unix.c:1028
+#: e2fsck/unix.c:1010
 #, c-format
 msgid "Filesystem mounted or opened exclusively by another program?\n"
 msgstr ""
 "Dosyasistemi baka bir uygulama tarafndan zellikle balanm veya alm\n"
 "olabilir mi?\n"
 
-#: e2fsck/unix.c:1032
+#: e2fsck/unix.c:1014
 #, c-format
 msgid ""
 "Disk write-protected; use the -n option to do a read-only\n"
@@ -2700,16 +2700,16 @@ msgstr ""
 "Disk yazma korumal; -n seeneini kullanarak salt-oku kipinde\n"
 "denetim yapnz.\n"
 
-#: e2fsck/unix.c:1096
+#: e2fsck/unix.c:1078
 msgid "Get a newer version of e2fsck!"
 msgstr "e2fsck'nn daha yeni bir srmn aln!"
 
-#: e2fsck/unix.c:1117
+#: e2fsck/unix.c:1099
 #, c-format
 msgid "while checking ext3 journal for %s"
 msgstr "- %s iin ext3 gnl denetlenirken hata olutu"
 
-#: e2fsck/unix.c:1128
+#: e2fsck/unix.c:1110
 #, c-format
 msgid ""
 "Warning: skipping journal recovery because doing a read-only filesystem "
@@ -2718,26 +2718,21 @@ msgstr ""
 "Uyar: Dosya sistemi salt-oku kipinde denetlendiinden\n"
 "gnlk dosyasna gre kurtarma atlanyor.\n"
 
-#: e2fsck/unix.c:1141
+#: e2fsck/unix.c:1123
 #, c-format
 msgid "unable to set superblock flags on %s\n"
 msgstr "%s zerine sperblok bayraklar konulamad\n"
 
-#: e2fsck/unix.c:1147
+#: e2fsck/unix.c:1129
 #, c-format
 msgid "while recovering ext3 journal of %s"
 msgstr "- %s ext3 gnlk dosyas kurtarlmaya allrken hata olutu"
 
-#: e2fsck/unix.c:1171
-#, fuzzy, c-format
-msgid "%s has unsupported feature(s):"
-msgstr "HTREE dizin dm %i desteklenmeyen bir hash srm (%N) ieriyor.\n"
-
-#: e2fsck/unix.c:1187
+#: e2fsck/unix.c:1158
 msgid "Warning: compression support is experimental.\n"
 msgstr "Uyar: sktrma destei deneyseldir.\n"
 
-#: e2fsck/unix.c:1192
+#: e2fsck/unix.c:1163
 #, c-format
 msgid ""
 "E2fsck not compiled with HTREE support,\n"
@@ -2746,30 +2741,30 @@ msgstr ""
 "E2fsck HTREE destei ile derlenmemi,\n"
 "\tama dosya sistemi %s HTREE dizinleri ieriyor.\n"
 
-#: e2fsck/unix.c:1241
+#: e2fsck/unix.c:1212
 #, c-format
 msgid "%s: Filesystem byte order already normalized.\n"
 msgstr "%s Dosya sisteminde baytlar zaten normal.\n"
 
-#: e2fsck/unix.c:1261
+#: e2fsck/unix.c:1232
 msgid "while reading bad blocks inode"
 msgstr "- hatal bloklar dm okunmaya allrken hata olutu"
 
-#: e2fsck/unix.c:1263
+#: e2fsck/unix.c:1234
 #, c-format
 msgid "This doesn't bode well, but we'll try to go on...\n"
 msgstr "Bu pek hayra alamet deil, ama stne gidilecek...\n"
 
-#: e2fsck/unix.c:1289
+#: e2fsck/unix.c:1260
 msgid "Couldn't determine journal size"
 msgstr ""
 
-#: e2fsck/unix.c:1292 misc/mke2fs.c:1776
+#: e2fsck/unix.c:1263 misc/mke2fs.c:1744
 #, c-format
 msgid "Creating journal (%d blocks): "
 msgstr "Gnlk oluturuluyor (%d blok): "
 
-#: e2fsck/unix.c:1299 misc/mke2fs.c:1784
+#: e2fsck/unix.c:1270 misc/mke2fs.c:1752
 msgid ""
 "\n"
 "\twhile trying to create journal"
@@ -2777,37 +2772,37 @@ msgstr ""
 "\n"
 "\tgnlk oluturulmaya allrken hata olutu"
 
-#: e2fsck/unix.c:1302
+#: e2fsck/unix.c:1273
 #, fuzzy, c-format
 msgid " Done.\n"
 msgstr "tamam\n"
 
-#: e2fsck/unix.c:1303
+#: e2fsck/unix.c:1274
 #, c-format
 msgid ""
 "\n"
 "*** journal has been re-created - filesystem is now ext3 again ***\n"
 msgstr ""
 
-#: e2fsck/unix.c:1310
+#: e2fsck/unix.c:1281
 #, c-format
 msgid "Restarting e2fsck from the beginning...\n"
 msgstr "e2fsck batan balyor...\n"
 
-#: e2fsck/unix.c:1314
+#: e2fsck/unix.c:1285
 msgid "while resetting context"
 msgstr "- balam sfrlanrken hata olutu"
 
-#: e2fsck/unix.c:1321
+#: e2fsck/unix.c:1292
 #, c-format
 msgid "%s: e2fsck canceled.\n"
 msgstr "%s: e2fsck durduruldu.\n"
 
-#: e2fsck/unix.c:1326
+#: e2fsck/unix.c:1297
 msgid "aborted"
 msgstr "kt"
 
-#: e2fsck/unix.c:1338
+#: e2fsck/unix.c:1309
 #, c-format
 msgid ""
 "\n"
@@ -2816,12 +2811,12 @@ msgstr ""
 "\n"
 "%s: ***** DOSYA SSTEM DETRLD *****\n"
 
-#: e2fsck/unix.c:1341
+#: e2fsck/unix.c:1312
 #, c-format
 msgid "%s: ***** REBOOT LINUX *****\n"
 msgstr "%s: ***** MAKNAYI YENDEN BALATIN *****\n"
 
-#: e2fsck/unix.c:1349
+#: e2fsck/unix.c:1320
 #, c-format
 msgid ""
 "\n"
@@ -3123,7 +3118,7 @@ msgstr "Aygt alan saptanamad; Elle
 msgid "while trying to determine device size"
 msgstr "- aygt alan saptanmaya allrken hata olutu"
 
-#: misc/badblocks.c:996 misc/mke2fs.c:1255
+#: misc/badblocks.c:996 misc/mke2fs.c:1223
 #, c-format
 msgid "invalid blocks count - %s"
 msgstr "blok says hatal - %s"
@@ -3353,7 +3348,7 @@ msgstr "- hatal bloklar listesi basl
 msgid "Bad blocks: %u"
 msgstr "Hatal bloklar: %d"
 
-#: misc/dumpe2fs.c:274 misc/tune2fs.c:261
+#: misc/dumpe2fs.c:274 misc/tune2fs.c:243
 msgid "while reading journal inode"
 msgstr "- gnlk dm okunurken hata olutu"
 
@@ -3361,7 +3356,7 @@ msgstr "- gnlk dm okunurken 
 msgid "Journal size:             "
 msgstr "Gnlk boyutu:            "
 
-#: misc/dumpe2fs.c:296 misc/tune2fs.c:183
+#: misc/dumpe2fs.c:296 misc/tune2fs.c:165
 msgid "while reading journal superblock"
 msgstr "- gnlk dosyas sperblou okunurken hata olutu"
 
@@ -3393,61 +3388,22 @@ msgstr ""
 msgid "Journal users:            %s\n"
 msgstr "Gnlk kullanclar:     %s\n"
 
-#: misc/dumpe2fs.c:337 misc/mke2fs.c:768 misc/tune2fs.c:810
-#, c-format
-msgid "Couldn't allocate memory to parse options!\n"
-msgstr "Seenekleri zmlemek iin bellek ayrlamad!\n"
-
-#: misc/dumpe2fs.c:363
-#, fuzzy, c-format
-msgid "Invalid superblock parameter: %s\n"
-msgstr "'stride' parametresi geersiz: %s\n"
-
-#: misc/dumpe2fs.c:378
-#, fuzzy, c-format
-msgid "Invalid blocksize parameter: %s\n"
-msgstr "Yeniden boyutlama parametresi geersiz: %s\n"
-
-#: misc/dumpe2fs.c:389
-#, fuzzy, c-format
-msgid ""
-"\n"
-"Bad extended option(s) specified: %s\n"
-"\n"
-"Extended options are separated by commas, and may take an argument which\n"
-"\tis set off by an equals ('=') sign.\n"
-"\n"
-"Valid extended options are:\n"
-"\tsuperblock=<superblock number>\n"
-"\tblocksize=<blocksize>\n"
-msgstr ""
-"\n"
-"Belirtilen seenekler hatal.\n"
-"\n"
-"Ek seenekler virgllerle ayrlarak belirtilir. Bir seenee deer\n"
-"belirtilecekse bu '=' iaretinden sonra yazlr.\n"
-"\n"
-"Geerli ek seenekler:\n"
-"\tstride=<blok cinsinden adm uzunluu>\n"
-"\tresize=<yeniden boyutlanaca blok says>\n"
-"\n"
-
-#: misc/dumpe2fs.c:449 misc/mke2fs.c:1199
+#: misc/dumpe2fs.c:376 misc/mke2fs.c:1167
 #, c-format
 msgid "\tUsing %s\n"
 msgstr "\t%s kullanlyor\n"
 
-#: misc/dumpe2fs.c:485 misc/e2image.c:666 misc/tune2fs.c:919 resize/main.c:298
+#: misc/dumpe2fs.c:402 misc/e2image.c:666 misc/tune2fs.c:854 resize/main.c:298
 #, c-format
 msgid "Couldn't find valid filesystem superblock.\n"
 msgstr "Geerli sperblok bulunamad.\n"
 
-#: misc/dumpe2fs.c:496
+#: misc/dumpe2fs.c:413
 #, c-format
 msgid "Note: This is a byte-swapped filesystem\n"
 msgstr "Bilgi: Bu bir ters-baytl dosya sistemi\n"
 
-#: misc/dumpe2fs.c:515
+#: misc/dumpe2fs.c:432
 #, c-format
 msgid ""
 "\n"
@@ -3516,7 +3472,7 @@ msgstr "e2label: sperblok okunurken ha
 msgid "e2label: not an ext2 filesystem\n"
 msgstr "e2label: bir ext2 dosya sistemi deil\n"
 
-#: misc/e2label.c:96 misc/tune2fs.c:1025
+#: misc/e2label.c:96 misc/tune2fs.c:970
 #, c-format
 msgid "Warning: label too long, truncating.\n"
 msgstr "Uyar: etiket ok uzun, krplyor.\n"
@@ -3531,7 +3487,7 @@ msgstr "e2label: sperbloa yine eri
 msgid "e2label: error writing superblock\n"
 msgstr "e2label: sperbloa yazlrken hata olutu\n"
 
-#: misc/e2label.c:116 misc/tune2fs.c:496
+#: misc/e2label.c:116 misc/tune2fs.c:462
 #, c-format
 msgid "Usage: e2label device [newlabel]\n"
 msgstr ""
@@ -3621,15 +3577,14 @@ msgstr "fsck: %s denetlenemiyor: fsck.%s
 msgid "Checking all file systems.\n"
 msgstr "Tm dosya sistemleri denetleniyor.\n"
 
-#: misc/fsck.c:1046
+#: misc/fsck.c:1041
 #, c-format
 msgid "--waiting-- (pass %d)\n"
 msgstr "--beklemede-- (%d. gei)\n"
 
-#: misc/fsck.c:1066
-#, fuzzy
+#: misc/fsck.c:1061
 msgid ""
-"Usage: fsck [-AMNPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
+"Usage: fsck [-ANPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
 msgstr ""
 "Kullanm:\n"
 "   fsck [-ANPRTV] [ -C [fd] ][-t dstr] [ds-seenekleri] "
@@ -3665,12 +3620,12 @@ msgstr ""
 "eviri hatalarn <gnu-tr@belgeler.org> adresine bildiriniz.\n"
 "\n"
 
-#: misc/fsck.c:1108
+#: misc/fsck.c:1103
 #, c-format
 msgid "%s: too many devices\n"
 msgstr "%s: aygt says ok fazla\n"
 
-#: misc/fsck.c:1141 misc/fsck.c:1227
+#: misc/fsck.c:1136 misc/fsck.c:1222
 #, c-format
 msgid "%s: too many arguments\n"
 msgstr "%s: argman says fazla\n"
@@ -3707,12 +3662,12 @@ msgstr "- %s zerinde srm okunurken
 #: misc/mke2fs.c:97
 #, fuzzy, c-format
 msgid ""
-"Usage: %s [-c|-l filename] [-b block-size] [-f fragment-size]\n"
-"\t[-i bytes-per-inode] [-I inode-size] [-J journal-options]\n"
+"Usage: %s [-c|-t|-l filename] [-b block-size] [-f fragment-size]\n"
+"\t[-i bytes-per-inode] [-I inode-size] [-j] [-J journal-options]\n"
 "\t[-N number-of-inodes] [-m reserved-blocks-percentage] [-o creator-os]\n"
 "\t[-g blocks-per-group] [-L volume-label] [-M last-mounted-directory]\n"
-"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]]\n"
-"\t[-T fs-type] [-jnqvFSV] device [blocks-count]\n"
+"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]] [-qvSV]\n"
+"\tdevice [blocks-count]\n"
 msgstr ""
 "Kullanm: %s [seenekler] aygt [blok-says]\n"
 "\n"
@@ -3767,37 +3722,37 @@ msgstr ""
 "eviri hatalarn <gnu-tr@belgeler.org> adresine bildiriniz.\n"
 "\n"
 
-#: misc/mke2fs.c:198
+#: misc/mke2fs.c:197
 #, c-format
 msgid "Running command: %s\n"
 msgstr "alan komut: %s\n"
 
-#: misc/mke2fs.c:202
+#: misc/mke2fs.c:201
 #, c-format
 msgid "while trying to run '%s'"
 msgstr "- '%s' altrlrken oldu"
 
-#: misc/mke2fs.c:209
+#: misc/mke2fs.c:208
 msgid "while processing list of bad blocks from program"
 msgstr "- hatal bloklar listesi ilenirken hata olutu"
 
-#: misc/mke2fs.c:236
+#: misc/mke2fs.c:235
 #, c-format
 msgid "Block %d in primary superblock/group descriptor area bad.\n"
 msgstr "Birincil sperblok/grup tanm alanndaki blok %d hatal\n"
 
-#: misc/mke2fs.c:238
+#: misc/mke2fs.c:237
 #, fuzzy, c-format
 msgid "Blocks %u through %u must be good in order to build a filesystem.\n"
 msgstr ""
 "Bir dosya sistemi oluturulurken %u den %d ye kadar olan\n"
 "bloklar hatasz olmak zorundadr.\n"
 
-#: misc/mke2fs.c:241
+#: misc/mke2fs.c:240
 msgid "Aborting....\n"
 msgstr "klyor...\n"
 
-#: misc/mke2fs.c:261
+#: misc/mke2fs.c:260
 #, c-format
 msgid ""
 "Warning: the backup superblock/group descriptors at block %u contain\n"
@@ -3808,23 +3763,23 @@ msgstr ""
 "\thatal bloklar ieriyor.\n"
 "\n"
 
-#: misc/mke2fs.c:279
+#: misc/mke2fs.c:278
 msgid "while marking bad blocks as used"
 msgstr "- hatal bloklar kullanlm olarak imlenirken hata olutu"
 
-#: misc/mke2fs.c:337
+#: misc/mke2fs.c:336
 msgid "done                            \n"
 msgstr "bitti                           \n"
 
-#: misc/mke2fs.c:372
+#: misc/mke2fs.c:371
 msgid "while allocating zeroizing buffer"
 msgstr "- sfrlama tampon bellei ayrlrken hata olutu"
 
-#: misc/mke2fs.c:414
+#: misc/mke2fs.c:413
 msgid "Writing inode tables: "
 msgstr "Dm tablolar yazlyor: "
 
-#: misc/mke2fs.c:431
+#: misc/mke2fs.c:430
 #, c-format
 msgid ""
 "\n"
@@ -3833,67 +3788,67 @@ msgstr ""
 "\n"
 "%2$u de balayan dm tablosundaki %1$d blok yazlamad: %3$s\n"
 
-#: misc/mke2fs.c:487
+#: misc/mke2fs.c:486
 msgid "while creating root dir"
 msgstr "- kk dizin oluturulurken hata"
 
-#: misc/mke2fs.c:494
+#: misc/mke2fs.c:493
 msgid "while reading root inode"
 msgstr "- kk dm okunurken hata olutu"
 
-#: misc/mke2fs.c:508
+#: misc/mke2fs.c:507
 msgid "while setting root inode ownership"
 msgstr "- kk dmnn sahibi belirlenirken hata olutu"
 
-#: misc/mke2fs.c:526
+#: misc/mke2fs.c:525
 msgid "while creating /lost+found"
 msgstr "- /lost+found dizini oluturulurken hata olutu"
 
-#: misc/mke2fs.c:533
+#: misc/mke2fs.c:532
 msgid "while looking up /lost+found"
 msgstr "- /lost+found dizine baklrken hata olutu"
 
-#: misc/mke2fs.c:543
+#: misc/mke2fs.c:542
 msgid "while expanding /lost+found"
 msgstr "- /lost+found dizini geniletilirken hata olutu"
 
-#: misc/mke2fs.c:559
+#: misc/mke2fs.c:558
 msgid "while setting bad block inode"
 msgstr "- hatal blok dm belirlenirken hata olutu"
 
-#: misc/mke2fs.c:591
+#: misc/mke2fs.c:590
 #, c-format
 msgid "Out of memory erasing sectors %d-%d\n"
 msgstr "%d-%d arasndaki sektrler silinirken bellek yetmedi\n"
 
-#: misc/mke2fs.c:601
+#: misc/mke2fs.c:600
 #, c-format
 msgid "Warning: could not read block 0: %s\n"
 msgstr "Uyar: blok 0 okunamad: %s\n"
 
-#: misc/mke2fs.c:617
+#: misc/mke2fs.c:616
 #, c-format
 msgid "Warning: could not erase sector %d: %s\n"
 msgstr "Uyar: %d. sektr silinemedi: %s\n"
 
-#: misc/mke2fs.c:633
+#: misc/mke2fs.c:632
 msgid "while initializing journal superblock"
 msgstr "- gmlk superblou ilklendirilirken hata olutu"
 
-#: misc/mke2fs.c:639
+#: misc/mke2fs.c:638
 msgid "Zeroing journal device: "
 msgstr "Gnlk aygt temizleniyor: "
 
-#: misc/mke2fs.c:646
+#: misc/mke2fs.c:645
 #, c-format
 msgid "while zeroing journal device (block %u, count %d)"
 msgstr "- gnlk aygt temizlenirken (blok %u, %d blok) hata olutu"
 
-#: misc/mke2fs.c:657
+#: misc/mke2fs.c:656
 msgid "while writing journal superblock"
 msgstr "- gnlk sperblou yazlrken hata olutu"
 
-#: misc/mke2fs.c:673
+#: misc/mke2fs.c:672
 #, c-format
 msgid ""
 "warning: %u blocks unused.\n"
@@ -3902,111 +3857,109 @@ msgstr ""
 "uyar: %u blok kullanlmam.\n"
 "\n"
 
-#: misc/mke2fs.c:678
+#: misc/mke2fs.c:677
 #, c-format
 msgid "Filesystem label=%s\n"
 msgstr "Dosya sistemi ismi = %s\n"
 
-#: misc/mke2fs.c:679
+#: misc/mke2fs.c:678
 msgid "OS type: "
 msgstr "l. Sist. tr: "
 
-#: misc/mke2fs.c:684
+#: misc/mke2fs.c:683
 #, c-format
 msgid "Block size=%u (log=%u)\n"
 msgstr "Blok boyu = %u (gnlk kayd = %u)\n"
 
-#: misc/mke2fs.c:686
+#: misc/mke2fs.c:685
 #, c-format
 msgid "Fragment size=%u (log=%u)\n"
 msgstr "Admlama boyu = %u (gnlk kayd = %u)\n"
 
-#: misc/mke2fs.c:688
+#: misc/mke2fs.c:687
 #, c-format
 msgid "%u inodes, %u blocks\n"
 msgstr "%u dm, %u blok\n"
 
-#: misc/mke2fs.c:690
+#: misc/mke2fs.c:689
 #, c-format
 msgid "%u blocks (%2.2f%%) reserved for the super user\n"
 msgstr "%u blok (%%%2.2f) sper kullanc iin ayrld\n"
 
-#: misc/mke2fs.c:693
+#: misc/mke2fs.c:692
 #, c-format
 msgid "First data block=%u\n"
 msgstr "lk veri blou = %u\n"
 
-#: misc/mke2fs.c:695
+#: misc/mke2fs.c:694
 #, c-format
 msgid "Maximum filesystem blocks=%lu\n"
 msgstr "Azami dosyasistemi blou says = %lu\n"
 
-#: misc/mke2fs.c:700
+#: misc/mke2fs.c:699
 #, c-format
 msgid "%u block groups\n"
 msgstr "%u blok grubu\n"
 
-#: misc/mke2fs.c:702
+#: misc/mke2fs.c:701
 #, c-format
 msgid "%u block group\n"
 msgstr "%u blok grubu\n"
 
-#: misc/mke2fs.c:703
+#: misc/mke2fs.c:702
 #, c-format
 msgid "%u blocks per group, %u fragments per group\n"
 msgstr "Grup bana %u blok ve %u sekme\n"
 
-#: misc/mke2fs.c:705
+#: misc/mke2fs.c:704
 #, c-format
 msgid "%u inodes per group\n"
 msgstr "grup bana %u dm\n"
 
-#: misc/mke2fs.c:712
+#: misc/mke2fs.c:711
 #, c-format
 msgid "Superblock backups stored on blocks: "
 msgstr "Sperbloklarn bulunduu bloklar:"
 
-#: misc/mke2fs.c:793
+#: misc/mke2fs.c:767 misc/tune2fs.c:776
 #, c-format
-msgid "Invalid stride parameter: %s\n"
-msgstr "'stride' parametresi geersiz: %s\n"
+msgid "Couldn't allocate memory to parse options!\n"
+msgstr "Seenekleri zmlemek iin bellek ayrlamad!\n"
 
-#: misc/mke2fs.c:808
-#, fuzzy, c-format
-msgid "Invalid stripe-width parameter: %s\n"
+#: misc/mke2fs.c:791
+#, c-format
+msgid "Invalid stride parameter: %s\n"
 msgstr "'stride' parametresi geersiz: %s\n"
 
-#: misc/mke2fs.c:830
+#: misc/mke2fs.c:812
 #, c-format
 msgid "Invalid resize parameter: %s\n"
 msgstr "Yeniden boyutlama parametresi geersiz: %s\n"
 
-#: misc/mke2fs.c:837
+#: misc/mke2fs.c:819
 #, c-format
 msgid "The resize maximum must be greater than the filesystem size.\n"
 msgstr ""
 "Azami yeniden boyutlama deeri dosya sistemi boyutundan byk olmaldr.\n"
 
-#: misc/mke2fs.c:861
+#: misc/mke2fs.c:843
 #, fuzzy, c-format
 msgid "On-line resizing not supported with revision 0 filesystems\n"
 msgstr ""
 "Dosyasistemi zellikleri 0 revizyonlu dosyasistemlerinde desteklenmiyor\n"
 
-#: misc/mke2fs.c:878
+#: misc/mke2fs.c:858
 #, fuzzy, c-format
 msgid ""
 "\n"
-"Bad option(s) specified: %s\n"
+"Bad options specified.\n"
 "\n"
 "Extended options are separated by commas, and may take an argument which\n"
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk data chunk in blocks>\n"
-"\tstripe-width=<RAID stride * data disks in blocks>\n"
+"\tstride=<stride length in blocks>\n"
 "\tresize=<resize maximum size in blocks>\n"
-"\n"
 "\ttest_fs\n"
 msgstr ""
 "\n"
@@ -4020,15 +3973,7 @@ msgstr ""
 "\tresize=<yeniden boyutlanaca blok says>\n"
 "\n"
 
-#: misc/mke2fs.c:893
-#, c-format
-msgid ""
-"\n"
-"Warning: RAID stripe-width %u not an even multiple of stride %u.\n"
-"\n"
-msgstr ""
-
-#: misc/mke2fs.c:920
+#: misc/mke2fs.c:888
 #, c-format
 msgid ""
 "Syntax error in mke2fs config file (%s, line #%d)\n"
@@ -4037,84 +3982,84 @@ msgstr ""
 "mke2fs yaplandrma dosyasnda (%s, %d.satrda) szdizimi hatas\n"
 "\t%s\n"
 
-#: misc/mke2fs.c:933 misc/tune2fs.c:335
+#: misc/mke2fs.c:901 misc/tune2fs.c:314
 #, c-format
 msgid "Invalid filesystem option set: %s\n"
 msgstr "Geersiz dosya sistemi seenei: %s\n"
 
-#: misc/mke2fs.c:1040
+#: misc/mke2fs.c:1008
 #, c-format
 msgid "invalid block size - %s"
 msgstr "blok uzunluu hatal - %s"
 
-#: misc/mke2fs.c:1044
+#: misc/mke2fs.c:1012
 #, c-format
 msgid "Warning: blocksize %d not usable on most systems.\n"
 msgstr "Uyar: blok uzunluu %d birok sistemde kullanmddr.\n"
 
-#: misc/mke2fs.c:1061
+#: misc/mke2fs.c:1029
 #, c-format
 msgid "invalid fragment size - %s"
 msgstr "sekme boyu hatal - %s"
 
-#: misc/mke2fs.c:1067
+#: misc/mke2fs.c:1035
 #, c-format
 msgid "Warning: fragments not supported.  Ignoring -f option\n"
 msgstr "Uyar: sekmeler desteklenmediinden -f seenei yoksaylyor\n"
 
-#: misc/mke2fs.c:1074
+#: misc/mke2fs.c:1042
 msgid "Illegal number for blocks per group"
 msgstr "Grup bana blok says kurald"
 
-#: misc/mke2fs.c:1079
+#: misc/mke2fs.c:1047
 msgid "blocks per group must be multiple of 8"
 msgstr "grup bana blok says 8'in katlar olmaldr"
 
-#: misc/mke2fs.c:1089
+#: misc/mke2fs.c:1057
 #, c-format
 msgid "invalid inode ratio %s (min %d/max %d)"
 msgstr "dm oran %s hatal (en az %d/en ok %d)"
 
-#: misc/mke2fs.c:1106
+#: misc/mke2fs.c:1074
 msgid "in malloc for bad_blocks_filename"
 msgstr "- bad_blocks_filename iin bellek ayrlrken"
 
-#: misc/mke2fs.c:1115
+#: misc/mke2fs.c:1083
 #, c-format
 msgid "invalid reserved blocks percent - %s"
 msgstr "yedek blok yzdesi hatal - %s"
 
-#: misc/mke2fs.c:1133
+#: misc/mke2fs.c:1101
 #, c-format
 msgid "bad revision level - %s"
 msgstr "deiiklik seviyesi hatal - %s"
 
-#: misc/mke2fs.c:1145
+#: misc/mke2fs.c:1113
 #, c-format
 msgid "invalid inode size - %s"
 msgstr "dm uzunluu hatal - %s"
 
-#: misc/mke2fs.c:1165
+#: misc/mke2fs.c:1133
 #, c-format
 msgid "bad num inodes - %s"
 msgstr "dm says hatal - %s"
 
-#: misc/mke2fs.c:1223 misc/mke2fs.c:1745
+#: misc/mke2fs.c:1191 misc/mke2fs.c:1713
 #, c-format
 msgid "while trying to open journal device %s\n"
 msgstr "- %s gnlk aygt almaya allrken hata\n"
 
-#: misc/mke2fs.c:1229
+#: misc/mke2fs.c:1197
 #, c-format
 msgid "Journal dev blocksize (%d) smaller than minimum blocksize %d\n"
 msgstr "Gnlk aygtnn blok boyu (%d) asgari blok boyundan (%d) kk\n"
 
-#: misc/mke2fs.c:1243
+#: misc/mke2fs.c:1211
 #, c-format
 msgid "%d-byte blocks too big for system (max %d)"
 msgstr "%d baytlk bloklar sistem iin ok byk (en ok %d)"
 
-#: misc/mke2fs.c:1247
+#: misc/mke2fs.c:1215
 #, c-format
 msgid ""
 "Warning: %d-byte blocks too big for system (max %d), forced to continue\n"
@@ -4122,15 +4067,15 @@ msgstr ""
 "Uyar: %d baytlk bloklar sistem iin ok byk (en ok %d), ama devam "
 "ediliyor\n"
 
-#: misc/mke2fs.c:1265
+#: misc/mke2fs.c:1233
 msgid "filesystem"
 msgstr "dosya sistemi"
 
-#: misc/mke2fs.c:1288 resize/main.c:332
+#: misc/mke2fs.c:1256 resize/main.c:332
 msgid "while trying to determine filesystem size"
 msgstr "- dosya sistemi uzunluu saptanmaya allrken hata olutu"
 
-#: misc/mke2fs.c:1294
+#: misc/mke2fs.c:1262
 msgid ""
 "Couldn't determine device size; you must specify\n"
 "the size of the filesystem\n"
@@ -4138,7 +4083,7 @@ msgstr ""
 "Aygt alan saptanamad; dosya sistemi iin\n"
 "bir uzunluk belirtmelisiniz\n"
 
-#: misc/mke2fs.c:1301
+#: misc/mke2fs.c:1269
 msgid ""
 "Device size reported to be zero.  Invalid partition specified, or\n"
 "\tpartition table wasn't reread after running fdisk, due to\n"
@@ -4151,43 +4096,43 @@ msgstr ""
 "Disk blmleme tablosunun yeniden okunmas iin sisteminizi yeniden\n"
 "balatmalsnz.\n"
 
-#: misc/mke2fs.c:1319
+#: misc/mke2fs.c:1287
 msgid "Filesystem larger than apparent device size."
 msgstr "Dosya sisteminin uzunluu grnrdeki uzunluktan byk."
 
-#: misc/mke2fs.c:1367
+#: misc/mke2fs.c:1335
 #, c-format
 msgid "Filesystem features not supported with revision 0 filesystems\n"
 msgstr ""
 "Dosyasistemi zellikleri 0 revizyonlu dosyasistemlerinde desteklenmiyor\n"
 
-#: misc/mke2fs.c:1374
+#: misc/mke2fs.c:1342
 #, fuzzy, c-format
 msgid "Sparse superblocks not supported with revision 0 filesystems\n"
 msgstr ""
 "Dosyasistemi zellikleri 0 revizyonlu dosyasistemlerinde desteklenmiyor\n"
 
-#: misc/mke2fs.c:1386
+#: misc/mke2fs.c:1354
 #, fuzzy, c-format
 msgid "Journals not supported with revision 0 filesystems\n"
 msgstr ""
 "Dosyasistemi zellikleri 0 revizyonlu dosyasistemlerinde desteklenmiyor\n"
 
-#: misc/mke2fs.c:1412
+#: misc/mke2fs.c:1380
 msgid "while trying to determine hardware sector size"
 msgstr "- donanmsal sektr boyu saptanmaya allrken"
 
-#: misc/mke2fs.c:1464
+#: misc/mke2fs.c:1432
 msgid "reserved online resize blocks not supported on non-sparse filesystem"
 msgstr ""
 "sperblok azaltmas uygulanmam dosya sisteminde\n"
 "yedek bloklar kullanlarak yeniden boyutlama desteklenmiyor."
 
-#: misc/mke2fs.c:1473
+#: misc/mke2fs.c:1441
 msgid "blocks per group count out of range"
 msgstr "Grup bana blok says kapsamd"
 
-#: misc/mke2fs.c:1480
+#: misc/mke2fs.c:1448
 msgid ""
 "Filesystem too large.  No more than 2**31-1 blocks\n"
 "\t (8TB using a blocksize of 4k) are currently supported."
@@ -4195,7 +4140,7 @@ msgstr ""
 "Dosya sistemi ok byk.  2**31-1 bloktan fazlas\n"
 "\t (4k'lk bloklarla 8TB mmkn) desteklenmiyor."
 
-#: misc/mke2fs.c:1487
+#: misc/mke2fs.c:1455
 #, c-format
 msgid ""
 "\n"
@@ -4208,27 +4153,27 @@ msgstr ""
 "\tboylarn desteklemez. Bu sizin iin de geerliyse, -b 4096 hullann.\n"
 "\n"
 
-#: misc/mke2fs.c:1504
+#: misc/mke2fs.c:1472
 #, c-format
 msgid "invalid inode size %d (min %d/max %d)"
 msgstr "dm uzunluu %d hatal (en az %d/en ok %d)"
 
-#: misc/mke2fs.c:1510
+#: misc/mke2fs.c:1478
 #, fuzzy, c-format
 msgid "Warning: %d-byte inodes not usable on older systems\n"
 msgstr "Uyar: %d baytlk dmler bir ok sistemde kullanmddr.\n"
 
-#: misc/mke2fs.c:1522
+#: misc/mke2fs.c:1490
 #, c-format
 msgid "too many inodes (%llu), raise inode ratio?"
 msgstr ""
 
-#: misc/mke2fs.c:1527
+#: misc/mke2fs.c:1495
 #, c-format
 msgid "too many inodes (%llu), specify < 2^32 inodes"
 msgstr ""
 
-#: misc/mke2fs.c:1542
+#: misc/mke2fs.c:1510
 #, c-format
 msgid ""
 "inode_size (%u) * inodes_count (%u) too big for a\n"
@@ -4236,38 +4181,38 @@ msgid ""
 "\tor lower inode count (-N).\n"
 msgstr ""
 
-#: misc/mke2fs.c:1591
+#: misc/mke2fs.c:1559
 msgid "while setting up superblock"
 msgstr "- sperblok ayarlanrken hata olutu"
 
-#: misc/mke2fs.c:1628
+#: misc/mke2fs.c:1596
 #, c-format
 msgid "unknown os - %s"
 msgstr "bilinmeyen iletim sistemi - %s"
 
-#: misc/mke2fs.c:1682
+#: misc/mke2fs.c:1650
 msgid "while trying to allocate filesystem tables"
 msgstr "- dosya sistemi tablolar ayrlmaya allrken hata olutu"
 
-#: misc/mke2fs.c:1713
+#: misc/mke2fs.c:1681
 #, c-format
 msgid "while zeroing block %u at end of filesystem"
 msgstr "- dosya sisteminin sonunda blok %u sfrlanrken hata olutu"
 
-#: misc/mke2fs.c:1727
+#: misc/mke2fs.c:1695
 msgid "while reserving blocks for online resize"
 msgstr "- yeniden boyutlama iin bloklar yedeklenirken hata olutu"
 
-#: misc/mke2fs.c:1738 misc/tune2fs.c:433
+#: misc/mke2fs.c:1706 misc/tune2fs.c:399
 msgid "journal"
 msgstr "gnlk"
 
-#: misc/mke2fs.c:1750
+#: misc/mke2fs.c:1718
 #, c-format
 msgid "Adding journal to device %s: "
 msgstr "%s'e gnlk ekleniyor: "
 
-#: misc/mke2fs.c:1757
+#: misc/mke2fs.c:1725
 #, c-format
 msgid ""
 "\n"
@@ -4276,17 +4221,17 @@ msgstr ""
 "\n"
 "\tgnlk %s e eklenmeye allrken hata olutu"
 
-#: misc/mke2fs.c:1762 misc/mke2fs.c:1788 misc/tune2fs.c:461 misc/tune2fs.c:475
+#: misc/mke2fs.c:1730 misc/mke2fs.c:1756 misc/tune2fs.c:427 misc/tune2fs.c:441
 #, c-format
 msgid "done\n"
 msgstr "tamam\n"
 
-#: misc/mke2fs.c:1793
+#: misc/mke2fs.c:1761
 #, c-format
 msgid "Writing superblocks and filesystem accounting information: "
 msgstr "Sperbloklarn ve dosya sisteminin hesap bilgileri yazlyor: "
 
-#: misc/mke2fs.c:1798
+#: misc/mke2fs.c:1766
 #, c-format
 msgid ""
 "\n"
@@ -4295,7 +4240,7 @@ msgstr ""
 "\n"
 "Uyar, sperbloklarn tamamna yazma sorunu var."
 
-#: misc/mke2fs.c:1801
+#: misc/mke2fs.c:1769
 #, c-format
 msgid ""
 "done\n"
@@ -4309,17 +4254,18 @@ msgstr ""
 msgid "Usage: mklost+found\n"
 msgstr "Kullanm: mklost+found\n"
 
-#: misc/tune2fs.c:91
+#: misc/tune2fs.c:89
 msgid "Please run e2fsck on the filesystem.\n"
 msgstr "Ltfen dosya sisteminde e2fsck altrn.\n"
 
-#: misc/tune2fs.c:98
+#: misc/tune2fs.c:96
 #, fuzzy, c-format
 msgid ""
 "Usage: %s [-c max_mounts_count] [-e errors_behavior] [-g group]\n"
-"\t[-i interval[d|m|w]] [-j] [-J journal_options] [-l]\n"
-"\t[-m reserved_blocks_percent] [-o [^]mount_options[,...]] \n"
-"\t[-r reserved_blocks_count] [-u user] [-C mount_count] [-L volume_label]\n"
+"\t[-i interval[d|m|w]] [-j] [-J journal_options]\n"
+"\t[-l] [-s sparse_flag] [-m reserved_blocks_percent]\n"
+"\t[-o [^]mount_options[,...]] [-r reserved_blocks_count]\n"
+"\t[-u user] [-C mount_count] [-L volume_label]\n"
 "\t[-M last_mounted_dir] [-O [^]feature[,...]]\n"
 "\t[-E extended-option[,...]] [-T last_check_time] [-U UUID] device\n"
 msgstr ""
@@ -4386,62 +4332,50 @@ msgstr ""
 "eviri hatalarn <gnu-tr@belgeler.org> adresine bildiriniz.\n"
 "\n"
 
-#: misc/tune2fs.c:171
+#: misc/tune2fs.c:153
 msgid "while trying to open external journal"
 msgstr "- d gnlk almaya allrken hata olutu"
 
-#: misc/tune2fs.c:175
+#: misc/tune2fs.c:157
 #, c-format
 msgid "%s is not a journal device.\n"
 msgstr "%s bir gnlkleme aygt deil.\n"
 
-#: misc/tune2fs.c:190
+#: misc/tune2fs.c:172
 msgid "Journal superblock not found!\n"
 msgstr "Gnlk sperblou yok!\n"
 
-#: misc/tune2fs.c:202
+#: misc/tune2fs.c:184
 msgid "Filesystem's UUID not found on journal device.\n"
 msgstr ""
 "Gnlkleme aygtnda dosya sisteminin evrensel tek kimlii (UUID) yok.\n"
 
-#: misc/tune2fs.c:223
+#: misc/tune2fs.c:205
 msgid "Journal NOT removed\n"
 msgstr "Gnlk silinMEdi\n"
 
-#: misc/tune2fs.c:229
+#: misc/tune2fs.c:211
 msgid "Journal removed\n"
 msgstr "Gnlk silindi\n"
 
-#: misc/tune2fs.c:268
+#: misc/tune2fs.c:250
 msgid "while reading bitmaps"
 msgstr "- bitelemler okunurken hata olutu"
 
-#: misc/tune2fs.c:275
+#: misc/tune2fs.c:257
 msgid "while clearing journal inode"
 msgstr "- gnlk dm temizlenirken hata olutu"
 
-#: misc/tune2fs.c:286
+#: misc/tune2fs.c:268
 msgid "while writing journal inode"
 msgstr "- gnlk dm yazlrken hata olutu"
 
-#: misc/tune2fs.c:301
+#: misc/tune2fs.c:283
 #, c-format
 msgid "Invalid mount option set: %s\n"
 msgstr "Geersiz dosya sistemi seenei belirtidi: %s\n"
 
-#: misc/tune2fs.c:338
-#, fuzzy, c-format
-msgid "Clearing filesystem feature '%s' not supported.\n"
-msgstr ""
-"Dosyasistemi zellikleri 0 revizyonlu dosyasistemlerinde desteklenmiyor\n"
-
-#: misc/tune2fs.c:344
-#, fuzzy, c-format
-msgid "Setting filesystem feature '%s' not supported.\n"
-msgstr ""
-"Dosyasistemi zellikleri 0 revizyonlu dosyasistemlerinde desteklenmiyor\n"
-
-#: misc/tune2fs.c:353
+#: misc/tune2fs.c:329
 msgid ""
 "The has_journal flag may only be cleared when the filesystem is\n"
 "unmounted or mounted read-only.\n"
@@ -4449,7 +4383,7 @@ msgstr ""
 "has_journal bayra sadece dosya sistemi bal deilken ya da salt-okunur\n"
 "balyken temizlenebilir.\n"
 
-#: misc/tune2fs.c:361
+#: misc/tune2fs.c:337
 msgid ""
 "The needs_recovery flag is set.  Please run e2fsck before clearing\n"
 "the has_journal flag.\n"
@@ -4457,11 +4391,11 @@ msgstr ""
 "needs_recovery bayra gerekiyor. Ltfen has_journal bayra\n"
 "temizlenmeden nce e2fsck altrn.\n"
 
-#: misc/tune2fs.c:428
+#: misc/tune2fs.c:394
 msgid "The filesystem already has a journal.\n"
 msgstr "Dosya sisteminde bir gnlk dosyas zaten var.\n"
 
-#: misc/tune2fs.c:445
+#: misc/tune2fs.c:411
 #, c-format
 msgid ""
 "\n"
@@ -4470,21 +4404,21 @@ msgstr ""
 "\n"
 "\t%s zerindeki gnlk almaya allrken hata olutu\n"
 
-#: misc/tune2fs.c:449
+#: misc/tune2fs.c:415
 #, c-format
 msgid "Creating journal on device %s: "
 msgstr "%s zerinde gnlk dosyas oluturuluyor: "
 
-#: misc/tune2fs.c:457
+#: misc/tune2fs.c:423
 #, c-format
 msgid "while adding filesystem to journal on %s"
 msgstr "- %s zerindeki gnlk dosyasna dosya sistemi eklenirken hata olutu"
 
-#: misc/tune2fs.c:463
+#: misc/tune2fs.c:429
 msgid "Creating journal inode: "
 msgstr "Gnlk dm oluturuluyor: "
 
-#: misc/tune2fs.c:472
+#: misc/tune2fs.c:438
 msgid ""
 "\n"
 "\twhile trying to create journal file"
@@ -4492,65 +4426,55 @@ msgstr ""
 "\n"
 "\tgnlk dosyas oluturulmaya allrken hata olutu"
 
-#: misc/tune2fs.c:539
+#: misc/tune2fs.c:505
 #, c-format
 msgid "Couldn't parse date/time specifier: %s"
 msgstr "Tarih/zaman belirteci zmlenemedi: %s"
 
-#: misc/tune2fs.c:563 misc/tune2fs.c:576
+#: misc/tune2fs.c:529 misc/tune2fs.c:542
 #, c-format
 msgid "bad mounts count - %s"
 msgstr "balama says hatal - %s"
 
-#: misc/tune2fs.c:592
+#: misc/tune2fs.c:558
 #, c-format
 msgid "bad error behavior - %s"
 msgstr "hata davran hatal - %s"
 
-#: misc/tune2fs.c:619
+#: misc/tune2fs.c:585
 #, c-format
 msgid "bad gid/group name - %s"
 msgstr "grup ismi/numaras hatal -%s"
 
-#: misc/tune2fs.c:652
+#: misc/tune2fs.c:618
 #, c-format
 msgid "bad interval - %s"
 msgstr "sre hatal - %s"
 
-#: misc/tune2fs.c:680
+#: misc/tune2fs.c:646
 #, c-format
 msgid "bad reserved block ratio - %s"
 msgstr "yedek blok oran hatal - %s"
 
-#: misc/tune2fs.c:695
+#: misc/tune2fs.c:661
 msgid "-o may only be specified once"
 msgstr "-o yalnz bir kere kullanlabilir"
 
-#: misc/tune2fs.c:705
+#: misc/tune2fs.c:671
 msgid "-O may only be specified once"
 msgstr "-O yalnz bir kere kullanlabilir"
 
-#: misc/tune2fs.c:715
+#: misc/tune2fs.c:681
 #, c-format
 msgid "bad reserved blocks count - %s"
 msgstr "yedek blok says hatal - %s"
 
-#: misc/tune2fs.c:744
+#: misc/tune2fs.c:710
 #, c-format
 msgid "bad uid/user name - %s"
 msgstr "kullanc ismi/numaras hatal - %s"
 
-#: misc/tune2fs.c:842
-#, fuzzy, c-format
-msgid "Invalid RAID stride: %s\n"
-msgstr "'stride' parametresi geersiz: %s\n"
-
-#: misc/tune2fs.c:857
-#, fuzzy, c-format
-msgid "Invalid RAID stripe-width: %s\n"
-msgstr "'stride' parametresi geersiz: %s\n"
-
-#: misc/tune2fs.c:867
+#: misc/tune2fs.c:804
 #, fuzzy, c-format
 msgid ""
 "\n"
@@ -4560,8 +4484,6 @@ msgid ""
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk chunk size in blocks>\n"
-"\tstripe-width=<RAID stride*data disks in blocks>\n"
 "\ttest_fs\n"
 "\t^test_fs\n"
 msgstr ""
@@ -4576,53 +4498,53 @@ msgstr ""
 "\tresize=<yeniden boyutlanaca blok says>\n"
 "\n"
 
-#: misc/tune2fs.c:927
+#: misc/tune2fs.c:862
 #, fuzzy, c-format
 msgid "Filesystem %s has unsupported features enabled.\n"
 msgstr ""
 "Dosyasistemi zellikleri 0 revizyonlu dosyasistemlerinde desteklenmiyor\n"
 
-#: misc/tune2fs.c:951
+#: misc/tune2fs.c:886
 #, c-format
 msgid "Setting maximal mount count to %d\n"
 msgstr "En fazla balama says %d olarak belirleniyor\n"
 
-#: misc/tune2fs.c:957
+#: misc/tune2fs.c:892
 #, c-format
 msgid "Setting current mount count to %d\n"
 msgstr "imdiki balama says %d olarak belirleniyor\n"
 
-#: misc/tune2fs.c:962
+#: misc/tune2fs.c:897
 #, c-format
 msgid "Setting error behavior to %d\n"
 msgstr "Hata davran %d olarak belirleniyor\n"
 
-#: misc/tune2fs.c:967
+#: misc/tune2fs.c:902
 #, c-format
 msgid "Setting reserved blocks gid to %lu\n"
 msgstr "Yedek bloklarn grup numaras %lu olarak belirleniyor\n"
 
-#: misc/tune2fs.c:972
+#: misc/tune2fs.c:907
 #, c-format
 msgid "Setting interval between checks to %lu seconds\n"
 msgstr "Denetimler arasndaki sre %lu saniye olarak belirleniyor\n"
 
-#: misc/tune2fs.c:978
+#: misc/tune2fs.c:913
 #, c-format
 msgid "Setting reserved blocks percentage to %g%% (%u blocks)\n"
 msgstr "Yedek bloklarn yzdesi %%%g (%u blok) olarak belirleniyor\n"
 
-#: misc/tune2fs.c:984
+#: misc/tune2fs.c:919
 #, c-format
 msgid "reserved blocks count is too big (%lu)"
 msgstr "yedek ayrlm blok says ok byk (%lu)"
 
-#: misc/tune2fs.c:990
+#: misc/tune2fs.c:925
 #, c-format
 msgid "Setting reserved blocks count to %lu\n"
 msgstr "Yedek blok says %lu olarak belirleniyor\n"
 
-#: misc/tune2fs.c:996
+#: misc/tune2fs.c:931
 msgid ""
 "\n"
 "The filesystem already has sparse superblocks.\n"
@@ -4630,7 +4552,7 @@ msgstr ""
 "\n"
 "Dosya sistemindeki sperbloklar zaten azaltlm.\n"
 
-#: misc/tune2fs.c:1003
+#: misc/tune2fs.c:938
 #, c-format
 msgid ""
 "\n"
@@ -4639,36 +4561,37 @@ msgstr ""
 "\n"
 "Sperblok azaltma bayra konuldu.  %s"
 
-#: misc/tune2fs.c:1008
+#: misc/tune2fs.c:945
+msgid ""
+"\n"
+"The filesystem already has sparse superblocks disabled.\n"
+msgstr ""
+"\n"
+"Dosya sisteminde sperblok azaltma bayra zaten etkin deil.\n"
+
+#: misc/tune2fs.c:953
+#, c-format
 msgid ""
 "\n"
-"Clearing the sparse superflag not supported.\n"
+"Sparse superblock flag cleared.  %s"
 msgstr ""
+"\n"
+"Sperblok azaltma bayra temizlendi.  %s"
 
-#: misc/tune2fs.c:1015
+#: misc/tune2fs.c:960
 #, c-format
 msgid "Setting time filesystem last checked to %s\n"
 msgstr "Dosya sisteminin son denetim zaman %s yaplyor\n"
 
-#: misc/tune2fs.c:1021
+#: misc/tune2fs.c:966
 #, c-format
 msgid "Setting reserved blocks uid to %lu\n"
 msgstr "Ayrlan bloklarn kullanc numaras %lu olarak ayarlanyor\n"
 
-#: misc/tune2fs.c:1056
+#: misc/tune2fs.c:1001
 msgid "Invalid UUID format\n"
 msgstr "Geersiz UUID biemi\n"
 
-#: misc/tune2fs.c:1067
-#, fuzzy, c-format
-msgid "Setting stride size to %d\n"
-msgstr "Yedek bloklarn grup numaras %lu olarak belirleniyor\n"
-
-#: misc/tune2fs.c:1072
-#, fuzzy, c-format
-msgid "Setting stripe width to %d\n"
-msgstr "Yedek bloklarn grup numaras %lu olarak belirleniyor\n"
-
 #: misc/util.c:72
 msgid "Proceed anyway? (y,n) "
 msgstr "Yine de devam edilsin mi? (e/h) "
@@ -4938,7 +4861,7 @@ msgstr "tanacak bloklar"
 msgid "meta-data blocks"
 msgstr "meta-veri bloklar"
 
-#: resize/resize2fs.c:1550
+#: resize/resize2fs.c:1534
 #, c-format
 msgid "Should never happen: resize inode corrupt!\n"
 msgstr "Bu olmamalyd: boyutlandrrken dm kaybettik!\n"
@@ -4950,20 +4873,6 @@ msgstr "Bu olmamalyd: boyutlandr
 #~ msgstr "hatal blok aral: %lu-%lu"
 
 #~ msgid ""
-#~ "\n"
-#~ "The filesystem already has sparse superblocks disabled.\n"
-#~ msgstr ""
-#~ "\n"
-#~ "Dosya sisteminde sperblok azaltma bayra zaten etkin deil.\n"
-
-#~ msgid ""
-#~ "\n"
-#~ "Sparse superblock flag cleared.  %s"
-#~ msgstr ""
-#~ "\n"
-#~ "Sperblok azaltma bayra temizlendi.  %s"
-
-#~ msgid ""
 #~ "%s is mounted; can't resize a mounted filesystem!\n"
 #~ "\n"
 #~ msgstr "%s bal; bal bir dosya sistemi yeniden boyutlandrlamaz!\n"
Files e2fsprogs-1.40.7/po/vi.gmo and e2fsprogs/po/vi.gmo differ
diff -Nurp e2fsprogs-1.40.7/po/vi.po e2fsprogs/po/vi.po
--- e2fsprogs-1.40.7/po/vi.po	2008-02-29 02:46:31.000000000 +0000
+++ e2fsprogs/po/vi.po	2008-02-29 11:23:57.000000000 +0000
@@ -65,7 +65,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: e2fsprogs 1.40.6\n"
 "Report-Msgid-Bugs-To: tytso@alum.mit.edu\n"
-"POT-Creation-Date: 2008-02-28 21:45-0500\n"
+"POT-Creation-Date: 2008-02-09 23:16-0500\n"
 "PO-Revision-Date: 2008-02-12 22:09+1030\n"
 "Last-Translator: Clytie Siddall <clytie@riverland.net.au>\n"
 "Language-Team: Vietnamese <vi-VN@googlegroups.com>\n"
@@ -75,7 +75,7 @@ msgstr ""
 "Plural-Forms: nplurals=1; plural=0;\n"
 "X-Generator: LocFactoryEditor 1.7b3\n"
 
-#: e2fsck/badblocks.c:22 misc/mke2fs.c:157
+#: e2fsck/badblocks.c:22 misc/mke2fs.c:156
 #, c-format
 msgid "Bad block %u out of range; ignored.\n"
 msgstr "Khi hng %u  ngoi phm vi nn b b qua.\n"
@@ -89,10 +89,10 @@ msgid "while reading the bad blocks inod
 msgstr "trong khi c nt thng tin khi hng"
 
 #: e2fsck/badblocks.c:71 e2fsck/iscan.c:112 e2fsck/scantest.c:109
-#: e2fsck/unix.c:1010 e2fsck/unix.c:1093 misc/badblocks.c:1025
+#: e2fsck/unix.c:992 e2fsck/unix.c:1075 misc/badblocks.c:1025
 #: misc/badblocks.c:1033 misc/badblocks.c:1047 misc/badblocks.c:1059
-#: misc/dumpe2fs.c:483 misc/e2image.c:571 misc/e2image.c:664
-#: misc/e2image.c:680 misc/mke2fs.c:173 misc/tune2fs.c:916 resize/main.c:296
+#: misc/dumpe2fs.c:400 misc/e2image.c:571 misc/e2image.c:664
+#: misc/e2image.c:680 misc/mke2fs.c:172 misc/tune2fs.c:851 resize/main.c:296
 #, c-format
 msgid "while trying to open %s"
 msgstr "trong khi th m %s"
@@ -102,19 +102,18 @@ msgstr "trong khi th m %s"
 msgid "while trying popen '%s'"
 msgstr "trong khi th m popen  %s "
 
-#: e2fsck/badblocks.c:93 misc/mke2fs.c:180
+#: e2fsck/badblocks.c:93 misc/mke2fs.c:179
 msgid "while reading in list of bad blocks from file"
 msgstr "trong khi c vo danh sch cc khi hng t tp tin"
 
-#: e2fsck/badblocks.c:104
+#: e2fsck/badblocks.c:103
 msgid "while updating bad block inode"
 msgstr "trong khi cp nht nt thng tin khi hng"
 
-#: e2fsck/badblocks.c:130
+#: e2fsck/badblocks.c:129
 #, c-format
 msgid "Warning: illegal block %u found in bad block inode.  Cleared.\n"
-msgstr ""
-"Cnh bo : tm thy khi cm %u trong nt thng tin khi hng nn b xo.\n"
+msgstr "Cnh bo : tm thy khi cm %u trong nt thng tin khi hng nn b xo.\n"
 
 #: e2fsck/ehandler.c:53
 #, c-format
@@ -462,7 +461,7 @@ msgstr "li ni b : khng th 
 msgid "internal error: couldn't lookup EA inode record for %u"
 msgstr "li ni b : khng th tra tm mc ghi nt thng tin EA cho %u"
 
-#: e2fsck/pass1.c:404 e2fsck/pass2.c:770
+#: e2fsck/pass1.c:404 e2fsck/pass2.c:779
 msgid "reading directory block"
 msgstr "ang c khi th mc"
 
@@ -531,7 +530,7 @@ msgstr "mng nh nt thng tin"
 msgid "inode table"
 msgstr "bng nt thng tin"
 
-#: e2fsck/pass2.c:283
+#: e2fsck/pass2.c:292
 msgid "Pass 2"
 msgstr "Ln qua 2"
 
@@ -880,13 +879,11 @@ msgstr "@j bn ngoi khng h tr
 #: e2fsck/problem.c:212
 msgid ""
 "Ext3 @j @S is unknown type %N (unsupported).\n"
-"It is likely that your copy of e2fsck is old and/or doesn't support this @j "
-"format.\n"
+"It is likely that your copy of e2fsck is old and/or doesn't support this @j format.\n"
 "It is also possible the @j @S is corrupt.\n"
 msgstr ""
 "@S @j ext3 c kiu l %N (khng c h tr).\n"
-"Rt c th l bn c mt bn sao e2fsck c m/hay khng h tr nh dng @j "
-"ny.\n"
+"Rt c th l bn c mt bn sao e2fsck c m/hay khng h tr nh dng @j ny.\n"
 "It is also possible the @S @j is corrupt.\n"
 
 #. @-expanded: Ext3 journal superblock is corrupt.\n
@@ -1224,8 +1221,7 @@ msgstr "@S chnh (%b) nm trn danh 
 #. @-expanded: Block %b in the primary group descriptors is on the bad block list\n
 #: e2fsck/problem.c:490
 msgid "Block %b in the primary @g descriptors is on the bad @b list\n"
-msgstr ""
-"Khi %b trong nhng m t @g chnh c nm trong danh sch cc @b sai.\n"
+msgstr "Khi %b trong nhng m t @g chnh c nm trong danh sch cc @b sai.\n"
 
 #. @-expanded: Warning: Group %g's superblock (%b) is bad.\n
 #: e2fsck/problem.c:496
@@ -1240,8 +1236,7 @@ msgstr "Cnh bo : bn sao cc m
 #. @-expanded: Programming error?  block #%b claimed for no reason in process_bad_block.\n
 #: e2fsck/problem.c:507
 msgid "Programming error?  @b #%b claimed for no reason in process_bad_@b.\n"
-msgstr ""
-"Li lp trnh ? @b %b c tuyn b, khng c l do, trong process_bad_@b\n"
+msgstr "Li lp trnh ? @b %b c tuyn b, khng c l do, trong process_bad_@b\n"
 
 #. @-expanded: error allocating %N contiguous block(s) in block group %g for %s: %m\n
 #: e2fsck/problem.c:513
@@ -1751,15 +1746,13 @@ msgstr "@i @d %i c mt @b #%B cha 
 #: e2fsck/problem.c:994
 #, c-format
 msgid "'.' @d @e in @d @i %i is not NULL terminated\n"
-msgstr ""
-"@e @d  .  trong @i @d %i khng c chm dt bng NULL (v gi tr)\n"
+msgstr "@e @d  .  trong @i @d %i khng c chm dt bng NULL (v gi tr)\n"
 
 #. @-expanded: '..' directory entry in directory inode %i is not NULL terminated\n
 #: e2fsck/problem.c:999
 #, c-format
 msgid "'..' @d @e in @d @i %i is not NULL terminated\n"
-msgstr ""
-"@e @d  ..  trong @i @d %i khng c chm dt bng NULL (v gi tr)\n"
+msgstr "@e @d  ..  trong @i @d %i khng c chm dt bng NULL (v gi tr)\n"
 
 #. @-expanded: inode %i (%Q) is an illegal character device.\n
 #: e2fsck/problem.c:1004
@@ -2202,12 +2195,8 @@ msgstr "S m cc @b rnh khn
 #. @-expanded: PROGRAMMING ERROR: filesystem (#%N) bitmap endpoints (%b, %c) don't match calculated bitmap 
 #. @-expanded: endpoints (%i, %j)\n
 #: e2fsck/problem.c:1458
-msgid ""
-"PROGRAMMING ERROR: @f (#%N) @B endpoints (%b, %c) don't match calculated @B "
-"endpoints (%i, %j)\n"
-msgstr ""
-"LI LP TRNH: trong @f (#%N) c cc im cui @B (%b, %c) khng tng ng "
-"vi cc im cui @B  tnh (%i, %j)\n"
+msgid "PROGRAMMING ERROR: @f (#%N) @B endpoints (%b, %c) don't match calculated @B endpoints (%i, %j)\n"
+msgstr "LI LP TRNH: trong @f (#%N) c cc im cui @B (%b, %c) khng tng ng vi cc im cui @B  tnh (%i, %j)\n"
 
 #: e2fsck/problem.c:1464
 msgid "Internal error: fudging end of bitmap (%N)\n"
@@ -2259,15 +2248,13 @@ msgstr "trong khi chy tin trnh q
 #: e2fsck/super.c:187
 #, c-format
 msgid "while calling ext2fs_block_iterate for inode %d"
-msgstr ""
-"trong khi gi hm lp li khi  ext2fs_block_iterate  cho nt thng tin %d"
+msgstr "trong khi gi hm lp li khi  ext2fs_block_iterate  cho nt thng tin %d"
 
 #: e2fsck/super.c:210
 #, c-format
 msgid "while calling ext2fs_adjust_ea_refcount for inode %d"
 msgstr ""
-"trong khi gi hm iu chnh s m tham chiu  ext2fs_adjust_ea_refcount "
-"\n"
+"trong khi gi hm iu chnh s m tham chiu  ext2fs_adjust_ea_refcount \n"
 "cho nt thng tin %d"
 
 #: e2fsck/super.c:268
@@ -2339,8 +2326,7 @@ msgid ""
 " -p                   Automatic repair (no questions)\n"
 " -n                   Make no changes to the filesystem\n"
 " -y                   Assume \"yes\" to all questions\n"
-" -c                   Check for bad blocks and add them to the badblock "
-"list\n"
+" -c                   Check for bad blocks and add them to the badblock list\n"
 " -f                   Force checking even if filesystem is marked clean\n"
 msgstr ""
 "\n"
@@ -2349,8 +2335,7 @@ msgstr ""
 " -n                   Khng thay i h thng tp tin\n"
 " -y                   Gi s tr li  C  mi cu hi\n"
 " -c                   Kim tra tm khi sai: thm vo danh sch khi sai\n"
-" -f                   Buc kim tra ngay c khi h thng tp tin c nhn l "
-"sch\n"
+" -f                   Buc kim tra ngay c khi h thng tp tin c nhn l sch\n"
 
 #: e2fsck/unix.c:86
 #, c-format
@@ -2379,7 +2364,7 @@ msgstr "%s: %u/%u tp tin (%0d.%d%% kh
 msgid "         # of inodes with ind/dind/tind blocks: %u/%u/%u\n"
 msgstr "         s inode c khi ind/dind/tind: %u/%u/%u\n"
 
-#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:941 misc/util.c:151
+#: e2fsck/unix.c:176 misc/badblocks.c:789 misc/tune2fs.c:876 misc/util.c:151
 #: resize/main.c:237
 #, c-format
 msgid "while determining whether %s is mounted."
@@ -2520,7 +2505,7 @@ msgstr ""
 "H thng tp tin trao i byte khng c bin dch\n"
 "trong phin bn e2fsck ny\n"
 
-#: e2fsck/unix.c:770 misc/tune2fs.c:504 misc/tune2fs.c:769 misc/tune2fs.c:786
+#: e2fsck/unix.c:770 misc/tune2fs.c:470 misc/tune2fs.c:735 misc/tune2fs.c:752
 #, c-format
 msgid "Unable to resolve '%s'"
 msgstr "Khng th quyt nh  %s "
@@ -2533,8 +2518,7 @@ msgstr "Khng cho php ty chn kh
 #: e2fsck/unix.c:808
 #, c-format
 msgid "The -c and the -l/-L options may not be both used at the same time.\n"
-msgstr ""
-"Khng cho php s dng ng thi c hai ty chn  --c  v  --l/L .\n"
+msgstr "Khng cho php s dng ng thi c hai ty chn  --c  v  --l/L .\n"
 
 #: e2fsck/unix.c:856
 #, c-format
@@ -2556,38 +2540,38 @@ msgstr ""
 "i s khng thuc s khng hp l i vi -%c ( %s )\n"
 "\n"
 
-#: e2fsck/unix.c:905
+#: e2fsck/unix.c:904
 #, c-format
 msgid "Error: ext2fs library version out of date!\n"
 msgstr "Li: phin bn th vin ext2fs qu c.\n"
 
-#: e2fsck/unix.c:913
+#: e2fsck/unix.c:912
 msgid "while trying to initialize program"
 msgstr "trong khi th s khi chng trnh"
 
-#: e2fsck/unix.c:927
+#: e2fsck/unix.c:926
 #, c-format
 msgid "\tUsing %s, %s\n"
 msgstr "\tDng %s, %s\n"
 
-#: e2fsck/unix.c:939
+#: e2fsck/unix.c:938
 msgid "need terminal for interactive repairs"
 msgstr "cn thit thit b cui  sa cha tng tc"
 
-#: e2fsck/unix.c:983
+#: e2fsck/unix.c:978
 #, c-format
 msgid "%s: %s trying backup blocks...\n"
 msgstr "%s %s ang th cc khi d tr...\n"
 
-#: e2fsck/unix.c:985
+#: e2fsck/unix.c:980
 msgid "Superblock invalid,"
 msgstr "Siu khi khng hp l,"
 
-#: e2fsck/unix.c:986
+#: e2fsck/unix.c:981
 msgid "Group descriptors look bad..."
 msgstr "C v l cc m t nhm sai..."
 
-#: e2fsck/unix.c:1013
+#: e2fsck/unix.c:995
 #, c-format
 msgid ""
 "The filesystem revision is apparently too high for this version of e2fsck.\n"
@@ -2598,30 +2582,27 @@ msgstr ""
 "(hoc siu khi h thng tp tin b hng).\n"
 "\n"
 
-#: e2fsck/unix.c:1019
+#: e2fsck/unix.c:1001
 #, c-format
 msgid "Could this be a zero-length partition?\n"
 msgstr "Phn vng ny c th c  di bng khng ?\n"
 
-#: e2fsck/unix.c:1021
+#: e2fsck/unix.c:1003
 #, c-format
 msgid "You must have %s access to the filesystem or be root\n"
-msgstr ""
-"Bn phi c quyn truy cp %s vo h thng tp tin, hoc l ngi ch "
-"(root)\n"
+msgstr "Bn phi c quyn truy cp %s vo h thng tp tin, hoc l ngi ch (root)\n"
 
-#: e2fsck/unix.c:1026
+#: e2fsck/unix.c:1008
 #, c-format
 msgid "Possibly non-existent or swap device?\n"
 msgstr "C th l thit b khng tn ti, hoc thit b trao i ?\n"
 
-#: e2fsck/unix.c:1028
+#: e2fsck/unix.c:1010
 #, c-format
 msgid "Filesystem mounted or opened exclusively by another program?\n"
-msgstr ""
-"H thng tp tin  c gn kt hay m hon ton bi chng trnh khc ?\n"
+msgstr "H thng tp tin  c gn kt hay m hon ton bi chng trnh khc ?\n"
 
-#: e2fsck/unix.c:1032
+#: e2fsck/unix.c:1014
 #, c-format
 msgid ""
 "Disk write-protected; use the -n option to do a read-only\n"
@@ -2630,44 +2611,35 @@ msgstr ""
 "a b chng ghi; hy dng ty chn  -n   chy\n"
 "vic kim tra ch c trn thit b .\n"
 
-#: e2fsck/unix.c:1096
+#: e2fsck/unix.c:1078
 msgid "Get a newer version of e2fsck!"
 msgstr "Ly phin bn e2fsck mi hn."
 
-#: e2fsck/unix.c:1117
+#: e2fsck/unix.c:1099
 #, c-format
 msgid "while checking ext3 journal for %s"
 msgstr "trong khi kim tra nht k ext3 tm %s"
 
-#: e2fsck/unix.c:1128
+#: e2fsck/unix.c:1110
 #, c-format
-msgid ""
-"Warning: skipping journal recovery because doing a read-only filesystem "
-"check.\n"
-msgstr ""
-"Cnh bo : ang b qua vic phc hi nht k v ang kim tra h thng tp "
-"tin mt cch ch c.\n"
+msgid "Warning: skipping journal recovery because doing a read-only filesystem check.\n"
+msgstr "Cnh bo : ang b qua vic phc hi nht k v ang kim tra h thng tp tin mt cch ch c.\n"
 
-#: e2fsck/unix.c:1141
+#: e2fsck/unix.c:1123
 #, c-format
 msgid "unable to set superblock flags on %s\n"
 msgstr "khng th t c siu khi trn %s\n"
 
-#: e2fsck/unix.c:1147
+#: e2fsck/unix.c:1129
 #, c-format
 msgid "while recovering ext3 journal of %s"
 msgstr "trong khi phc hi nht k ext3 ca %s"
 
-#: e2fsck/unix.c:1171
-#, fuzzy, c-format
-msgid "%s has unsupported feature(s):"
-msgstr "H thng tp tin %s  hiu lc tnh nng khng c h tr.\n"
-
-#: e2fsck/unix.c:1187
+#: e2fsck/unix.c:1158
 msgid "Warning: compression support is experimental.\n"
 msgstr "Cnh bo : s h tr kh nng nn l thc nghim.\n"
 
-#: e2fsck/unix.c:1192
+#: e2fsck/unix.c:1163
 #, c-format
 msgid ""
 "E2fsck not compiled with HTREE support,\n"
@@ -2676,31 +2648,30 @@ msgstr ""
 "E2fsck khng c bin dch vi kh nng h tr HCY,\n"
 "nhng h thng tp tin %s c th mc HCY.\n"
 
-#: e2fsck/unix.c:1241
+#: e2fsck/unix.c:1212
 #, c-format
 msgid "%s: Filesystem byte order already normalized.\n"
 msgstr "%s: h thng tp tin c th t byte  tiu chun ho.\n"
 
-#: e2fsck/unix.c:1261
+#: e2fsck/unix.c:1232
 msgid "while reading bad blocks inode"
 msgstr "trong khi c nt thng tin khi sai"
 
-#: e2fsck/unix.c:1263
+#: e2fsck/unix.c:1234
 #, c-format
 msgid "This doesn't bode well, but we'll try to go on...\n"
-msgstr ""
-"y khng phi bo trc im hay, nhng tin trnh ny s th tip tc...\n"
+msgstr "y khng phi bo trc im hay, nhng tin trnh ny s th tip tc...\n"
 
-#: e2fsck/unix.c:1289
+#: e2fsck/unix.c:1260
 msgid "Couldn't determine journal size"
 msgstr "Khng th quyt nh kch c nht k"
 
-#: e2fsck/unix.c:1292 misc/mke2fs.c:1776
+#: e2fsck/unix.c:1263 misc/mke2fs.c:1744
 #, c-format
 msgid "Creating journal (%d blocks): "
 msgstr "ang to nht k (%d khi): "
 
-#: e2fsck/unix.c:1299 misc/mke2fs.c:1784
+#: e2fsck/unix.c:1270 misc/mke2fs.c:1752
 msgid ""
 "\n"
 "\twhile trying to create journal"
@@ -2708,12 +2679,12 @@ msgstr ""
 "\n"
 "trong khi th to nht k"
 
-#: e2fsck/unix.c:1302
+#: e2fsck/unix.c:1273
 #, c-format
 msgid " Done.\n"
 msgstr " Hon tt\n"
 
-#: e2fsck/unix.c:1303
+#: e2fsck/unix.c:1274
 #, c-format
 msgid ""
 "\n"
@@ -2722,25 +2693,25 @@ msgstr ""
 "\n"
 " nht k  c to li  h thng tp tin lc ny l ext3 li \n"
 
-#: e2fsck/unix.c:1310
+#: e2fsck/unix.c:1281
 #, c-format
 msgid "Restarting e2fsck from the beginning...\n"
 msgstr "ang khi chy li hon ton e2fsck...\n"
 
-#: e2fsck/unix.c:1314
+#: e2fsck/unix.c:1285
 msgid "while resetting context"
 msgstr "trong khi t li ng cnh"
 
-#: e2fsck/unix.c:1321
+#: e2fsck/unix.c:1292
 #, c-format
 msgid "%s: e2fsck canceled.\n"
 msgstr "%s: e2fsck b thi.\n"
 
-#: e2fsck/unix.c:1326
+#: e2fsck/unix.c:1297
 msgid "aborted"
 msgstr "b hy b"
 
-#: e2fsck/unix.c:1338
+#: e2fsck/unix.c:1309
 #, c-format
 msgid ""
 "\n"
@@ -2749,12 +2720,12 @@ msgstr ""
 "\n"
 "%s:  H THNG TP TIN B SA I \n"
 
-#: e2fsck/unix.c:1341
+#: e2fsck/unix.c:1312
 #, c-format
 msgid "%s: ***** REBOOT LINUX *****\n"
 msgstr "%s:  HY KHI NG LI LINUX \n"
 
-#: e2fsck/unix.c:1349
+#: e2fsck/unix.c:1320
 #, c-format
 msgid ""
 "\n"
@@ -2906,13 +2877,11 @@ msgstr "done                            
 #, c-format
 msgid ""
 "Usage: %s [-b block_size] [-i input_file] [-o output_file] [-svwnf]\n"
-" [-c blocks_at_once] [-p num_passes] [-t test_pattern [-t test_pattern "
-"[...]]]\n"
+" [-c blocks_at_once] [-p num_passes] [-t test_pattern [-t test_pattern [...]]]\n"
 " device [last_block [start_block]]\n"
 msgstr ""
 "Cch s dng: %s [-b c_khi] [-i tp_tin_nhp] [-o tp_tin_xut] [-svwnf]\n"
-" [-c cc_khi_cng_lc] [-p s_ln_qua] [-t mu_th_ra [-t mu_th_ra "
-"[...]]]\n"
+" [-c cc_khi_cng_lc] [-p s_ln_qua] [-t mu_th_ra [-t mu_th_ra [...]]]\n"
 " thit_b [khi_cui [khi_u]]\n"
 
 #: misc/badblocks.c:88
@@ -3041,8 +3010,7 @@ msgstr "mu th (test_pattern) khn
 
 #: misc/badblocks.c:961
 msgid "Maximum of one test_pattern may be specified in read-only mode"
-msgstr ""
-"Trong ch  ch c, c th xc nh ti a mt mu th (test_pattern)"
+msgstr "Trong ch  ch c, c th xc nh ti a mt mu th (test_pattern)"
 
 #: misc/badblocks.c:967
 msgid "Random test_pattern is not allowed in read-only mode"
@@ -3060,7 +3028,7 @@ msgstr ""
 msgid "while trying to determine device size"
 msgstr "trong khi th quyt nh kch c ca thit b"
 
-#: misc/badblocks.c:996 misc/mke2fs.c:1255
+#: misc/badblocks.c:996 misc/mke2fs.c:1223
 #, c-format
 msgid "invalid blocks count - %s"
 msgstr "s m khi khng hp l  %s"
@@ -3225,7 +3193,7 @@ msgstr "trong khi in ra danh sch cc 
 msgid "Bad blocks: %u"
 msgstr "Khi sai: %u"
 
-#: misc/dumpe2fs.c:274 misc/tune2fs.c:261
+#: misc/dumpe2fs.c:274 misc/tune2fs.c:243
 msgid "while reading journal inode"
 msgstr "trong khi c nt thng tin nht k"
 
@@ -3233,7 +3201,7 @@ msgstr "trong khi c nt thng tin
 msgid "Journal size:             "
 msgstr "Kch c nht k:             "
 
-#: misc/dumpe2fs.c:296 misc/tune2fs.c:183
+#: misc/dumpe2fs.c:296 misc/tune2fs.c:165
 msgid "while reading journal superblock"
 msgstr "trong khi c siu khi nht k"
 
@@ -3265,60 +3233,22 @@ msgstr ""
 msgid "Journal users:            %s\n"
 msgstr "Ngi dng nht k:            %s\n"
 
-#: misc/dumpe2fs.c:337 misc/mke2fs.c:768 misc/tune2fs.c:810
-#, c-format
-msgid "Couldn't allocate memory to parse options!\n"
-msgstr "Khng th cp pht b nh  phn tch ty chn !\n"
-
-#: misc/dumpe2fs.c:363
-#, fuzzy, c-format
-msgid "Invalid superblock parameter: %s\n"
-msgstr "Tham s stride khng hp l: %s\n"
-
-#: misc/dumpe2fs.c:378
-#, fuzzy, c-format
-msgid "Invalid blocksize parameter: %s\n"
-msgstr "Tham s thay i kch c khng hp l: %s\n"
-
-#: misc/dumpe2fs.c:389
-#, fuzzy, c-format
-msgid ""
-"\n"
-"Bad extended option(s) specified: %s\n"
-"\n"
-"Extended options are separated by commas, and may take an argument which\n"
-"\tis set off by an equals ('=') sign.\n"
-"\n"
-"Valid extended options are:\n"
-"\tsuperblock=<superblock number>\n"
-"\tblocksize=<blocksize>\n"
-msgstr ""
-"\n"
-"Sai xc nh ty chn.\n"
-"\n"
-"Cc ty chn  m rng cng nh gii bng du phy, c th chp nhn\n"
-"i s c ng  vi du bng  = .\n"
-"\n"
-"Ty chn  m rng hp l:\n"
-"\ttest_fs\n"
-"\t^test_fs\n"
-
-#: misc/dumpe2fs.c:449 misc/mke2fs.c:1199
+#: misc/dumpe2fs.c:376 misc/mke2fs.c:1167
 #, c-format
 msgid "\tUsing %s\n"
 msgstr "\tDng %s\n"
 
-#: misc/dumpe2fs.c:485 misc/e2image.c:666 misc/tune2fs.c:919 resize/main.c:298
+#: misc/dumpe2fs.c:402 misc/e2image.c:666 misc/tune2fs.c:854 resize/main.c:298
 #, c-format
 msgid "Couldn't find valid filesystem superblock.\n"
 msgstr "Khng tm thy siu khi h thng tp tin hp l.\n"
 
-#: misc/dumpe2fs.c:496
+#: misc/dumpe2fs.c:413
 #, c-format
 msgid "Note: This is a byte-swapped filesystem\n"
 msgstr "Ghi ch : y l h thng tp tin  trao i byte\n"
 
-#: misc/dumpe2fs.c:515
+#: misc/dumpe2fs.c:432
 #, c-format
 msgid ""
 "\n"
@@ -3377,7 +3307,7 @@ msgstr "e2label: gp li khi c 
 msgid "e2label: not an ext2 filesystem\n"
 msgstr "e2label: khng phi h thng tp tin kiu ext2\n"
 
-#: misc/e2label.c:96 misc/tune2fs.c:1025
+#: misc/e2label.c:96 misc/tune2fs.c:970
 #, c-format
 msgid "Warning: label too long, truncating.\n"
 msgstr "Cnh bo : nhn qu di nn ct ngn.\n"
@@ -3392,7 +3322,7 @@ msgstr "e2label: khng th tm ni 
 msgid "e2label: error writing superblock\n"
 msgstr "e2label: gp li khi ghi siu khi\n"
 
-#: misc/e2label.c:116 misc/tune2fs.c:496
+#: misc/e2label.c:116 misc/tune2fs.c:462
 #, c-format
 msgid "Usage: e2label device [newlabel]\n"
 msgstr "Cch s dng: e2label thit_b [nhn_mi]\n"
@@ -3463,12 +3393,8 @@ msgstr "Khng th cp pht b nh
 
 #: misc/fsck.c:872
 #, c-format
-msgid ""
-"%s: skipping bad line in /etc/fstab: bind mount with nonzero fsck pass "
-"number\n"
-msgstr ""
-"%s: ang b qua dng sai trong  /etc/fstab : ng kt lp vi s gi qua "
-"fsck khc s khng\n"
+msgid "%s: skipping bad line in /etc/fstab: bind mount with nonzero fsck pass number\n"
+msgstr "%s: ang b qua dng sai trong  /etc/fstab : ng kt lp vi s gi qua fsck khc s khng\n"
 
 #: misc/fsck.c:899
 #, c-format
@@ -3479,26 +3405,24 @@ msgstr "fsck: khng th kim tra %s
 msgid "Checking all file systems.\n"
 msgstr "ang kim tra mi h thng tp tin.\n"
 
-#: misc/fsck.c:1046
+#: misc/fsck.c:1041
 #, c-format
 msgid "--waiting-- (pass %d)\n"
 msgstr "--ang i-- (ln qua %d)\n"
 
-#: misc/fsck.c:1066
-#, fuzzy
-msgid ""
-"Usage: fsck [-AMNPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
+#: misc/fsck.c:1061
+msgid "Usage: fsck [-ANPRTV] [ -C [ fd ] ] [-t fstype] [fs-options] [filesys ...]\n"
 msgstr ""
 "Cch s dng: fsck [-ANPRTV] [ -C [ fd ] ] [-t kiu_HTT]\n"
 "[ty_chn_HTT] [HTT ...]\n"
 "(HTT : h thng tp tin)\n"
 
-#: misc/fsck.c:1108
+#: misc/fsck.c:1103
 #, c-format
 msgid "%s: too many devices\n"
 msgstr "%s: qu nhiu thit b\n"
 
-#: misc/fsck.c:1141 misc/fsck.c:1227
+#: misc/fsck.c:1136 misc/fsck.c:1222
 #, c-format
 msgid "%s: too many arguments\n"
 msgstr "%s: qu nhiu i s\n"
@@ -3519,14 +3443,14 @@ msgid "While reading version on %s"
 msgstr "Trong khi c phin bn trn %s"
 
 #: misc/mke2fs.c:97
-#, fuzzy, c-format
+#, c-format
 msgid ""
-"Usage: %s [-c|-l filename] [-b block-size] [-f fragment-size]\n"
-"\t[-i bytes-per-inode] [-I inode-size] [-J journal-options]\n"
+"Usage: %s [-c|-t|-l filename] [-b block-size] [-f fragment-size]\n"
+"\t[-i bytes-per-inode] [-I inode-size] [-j] [-J journal-options]\n"
 "\t[-N number-of-inodes] [-m reserved-blocks-percentage] [-o creator-os]\n"
 "\t[-g blocks-per-group] [-L volume-label] [-M last-mounted-directory]\n"
-"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]]\n"
-"\t[-T fs-type] [-jnqvFSV] device [blocks-count]\n"
+"\t[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]] [-qvSV]\n"
+"\tdevice [blocks-count]\n"
 msgstr ""
 "S dng: %s [-c|-t|-l tn_tp_tin] [-b c_khi] [-f c_on]\n"
 "\t[-i byte_mi_inode] [-I c_inode] [-j] [-J ty_chn_nht_k]\n"
@@ -3538,37 +3462,37 @@ msgstr ""
 "[HH: h iu hnh\n"
 "HTT: h thng tp tin]\n"
 
-#: misc/mke2fs.c:198
+#: misc/mke2fs.c:197
 #, c-format
 msgid "Running command: %s\n"
 msgstr "ang chy lnh: %s\n"
 
-#: misc/mke2fs.c:202
+#: misc/mke2fs.c:201
 #, c-format
 msgid "while trying to run '%s'"
 msgstr "trong khi th chy  %s "
 
-#: misc/mke2fs.c:209
+#: misc/mke2fs.c:208
 msgid "while processing list of bad blocks from program"
 msgstr "trong khi x l danh sch cc khi sai t chng trnh"
 
-#: misc/mke2fs.c:236
+#: misc/mke2fs.c:235
 #, c-format
 msgid "Block %d in primary superblock/group descriptor area bad.\n"
 msgstr "Khi %d sai trong vng m t nhm/siu khi chnh.\n"
 
-#: misc/mke2fs.c:238
+#: misc/mke2fs.c:237
 #, c-format
 msgid "Blocks %u through %u must be good in order to build a filesystem.\n"
 msgstr ""
 "Cc khi trong phm vi %u n %u phi l tt\n"
 " xy dng c h thng tp tin.\n"
 
-#: misc/mke2fs.c:241
+#: misc/mke2fs.c:240
 msgid "Aborting....\n"
 msgstr "ang hy b...\n"
 
-#: misc/mke2fs.c:261
+#: misc/mke2fs.c:260
 #, c-format
 msgid ""
 "Warning: the backup superblock/group descriptors at block %u contain\n"
@@ -3578,23 +3502,23 @@ msgstr ""
 "Cnh bo : cc m t nhm/siu khi d tr ti khi %u cha khi sai.\n"
 "\n"
 
-#: misc/mke2fs.c:279
+#: misc/mke2fs.c:278
 msgid "while marking bad blocks as used"
 msgstr "trong khi nh du cc khi sai  c dng"
 
-#: misc/mke2fs.c:337
+#: misc/mke2fs.c:336
 msgid "done                            \n"
 msgstr "hon tt                         \n"
 
-#: misc/mke2fs.c:372
+#: misc/mke2fs.c:371
 msgid "while allocating zeroizing buffer"
 msgstr "trong khi cp pht b m lm s khng"
 
-#: misc/mke2fs.c:414
+#: misc/mke2fs.c:413
 msgid "Writing inode tables: "
 msgstr "ang ghi cc bng nt thng tin: "
 
-#: misc/mke2fs.c:431
+#: misc/mke2fs.c:430
 #, c-format
 msgid ""
 "\n"
@@ -3603,67 +3527,67 @@ msgstr ""
 "\n"
 "Khng th ghi %d khi trong bng nt thng tin, bt u ti %u: %s\n"
 
-#: misc/mke2fs.c:487
+#: misc/mke2fs.c:486
 msgid "while creating root dir"
 msgstr "trong khi to th mc gc"
 
-#: misc/mke2fs.c:494
+#: misc/mke2fs.c:493
 msgid "while reading root inode"
 msgstr "trong khi c nt thng tin gc"
 
-#: misc/mke2fs.c:508
+#: misc/mke2fs.c:507
 msgid "while setting root inode ownership"
 msgstr "trong khi t quyn s hu nt thng tin gc"
 
-#: misc/mke2fs.c:526
+#: misc/mke2fs.c:525
 msgid "while creating /lost+found"
 msgstr "trong khi to /mt+tm"
 
-#: misc/mke2fs.c:533
+#: misc/mke2fs.c:532
 msgid "while looking up /lost+found"
 msgstr "trong khi tra tm /mt+tm"
 
-#: misc/mke2fs.c:543
+#: misc/mke2fs.c:542
 msgid "while expanding /lost+found"
 msgstr "trong khi m rng /mt+tm"
 
-#: misc/mke2fs.c:559
+#: misc/mke2fs.c:558
 msgid "while setting bad block inode"
 msgstr "trong khi t nt thng tin khi sai"
 
-#: misc/mke2fs.c:591
+#: misc/mke2fs.c:590
 #, c-format
 msgid "Out of memory erasing sectors %d-%d\n"
 msgstr "Ht b nh nn xo cc rnh ghi trong phm vi %d n %d\n"
 
-#: misc/mke2fs.c:601
+#: misc/mke2fs.c:600
 #, c-format
 msgid "Warning: could not read block 0: %s\n"
 msgstr "Cnh bo : khng th c khi 0: %s\n"
 
-#: misc/mke2fs.c:617
+#: misc/mke2fs.c:616
 #, c-format
 msgid "Warning: could not erase sector %d: %s\n"
 msgstr "Cnh bo : khng th xo rnh ghi %d: %s\n"
 
-#: misc/mke2fs.c:633
+#: misc/mke2fs.c:632
 msgid "while initializing journal superblock"
 msgstr "trong khi s khi siu khi nht k"
 
-#: misc/mke2fs.c:639
+#: misc/mke2fs.c:638
 msgid "Zeroing journal device: "
 msgstr "ang lm s khng thit b nht k: "
 
-#: misc/mke2fs.c:646
+#: misc/mke2fs.c:645
 #, c-format
 msgid "while zeroing journal device (block %u, count %d)"
 msgstr "trong khi lm s khng thit b nht k (khi %u, s m %d)"
 
-#: misc/mke2fs.c:657
+#: misc/mke2fs.c:656
 msgid "while writing journal superblock"
 msgstr "trong khi ghi siu khi nht k"
 
-#: misc/mke2fs.c:673
+#: misc/mke2fs.c:672
 #, c-format
 msgid ""
 "warning: %u blocks unused.\n"
@@ -3672,112 +3596,109 @@ msgstr ""
 "cnh bo : %u khi cha dng.\n"
 "\n"
 
-#: misc/mke2fs.c:678
+#: misc/mke2fs.c:677
 #, c-format
 msgid "Filesystem label=%s\n"
 msgstr "Nhn h thng tp tin=%s\n"
 
-#: misc/mke2fs.c:679
+#: misc/mke2fs.c:678
 msgid "OS type: "
 msgstr "Kiu HH: "
 
-#: misc/mke2fs.c:684
+#: misc/mke2fs.c:683
 #, c-format
 msgid "Block size=%u (log=%u)\n"
 msgstr "C khi=%u (bn ghi=%u)\n"
 
-#: misc/mke2fs.c:686
+#: misc/mke2fs.c:685
 #, c-format
 msgid "Fragment size=%u (log=%u)\n"
 msgstr "C on=%u (bn ghi=%u)\n"
 
-#: misc/mke2fs.c:688
+#: misc/mke2fs.c:687
 #, c-format
 msgid "%u inodes, %u blocks\n"
 msgstr "%u nt thng tin, %u khi\n"
 
-#: misc/mke2fs.c:690
+#: misc/mke2fs.c:689
 #, c-format
 msgid "%u blocks (%2.2f%%) reserved for the super user\n"
 msgstr "%u khi (%2.2f%%) c dnh ring cho siu ngi dng\n"
 
-#: misc/mke2fs.c:693
+#: misc/mke2fs.c:692
 #, c-format
 msgid "First data block=%u\n"
 msgstr "Khi d liu u=%u\n"
 
-#: misc/mke2fs.c:695
+#: misc/mke2fs.c:694
 #, c-format
 msgid "Maximum filesystem blocks=%lu\n"
 msgstr "Khi h thng tp tin ti a=%lu\n"
 
-#: misc/mke2fs.c:700
+#: misc/mke2fs.c:699
 #, c-format
 msgid "%u block groups\n"
 msgstr "%u nhm khi\n"
 
-#: misc/mke2fs.c:702
+#: misc/mke2fs.c:701
 #, c-format
 msgid "%u block group\n"
 msgstr "%u nhm khi\n"
 
-#: misc/mke2fs.c:703
+#: misc/mke2fs.c:702
 #, c-format
 msgid "%u blocks per group, %u fragments per group\n"
 msgstr "%u khi trn mi nhm, %u on trn mi nhm\n"
 
-#: misc/mke2fs.c:705
+#: misc/mke2fs.c:704
 #, c-format
 msgid "%u inodes per group\n"
 msgstr "%u nt thng tin trn mi nhm\n"
 
-#: misc/mke2fs.c:712
+#: misc/mke2fs.c:711
 #, c-format
 msgid "Superblock backups stored on blocks: "
 msgstr "Siu khi d tr c ct gi trn khi: "
 
-#: misc/mke2fs.c:793
+#: misc/mke2fs.c:767 misc/tune2fs.c:776
 #, c-format
-msgid "Invalid stride parameter: %s\n"
-msgstr "Tham s stride khng hp l: %s\n"
+msgid "Couldn't allocate memory to parse options!\n"
+msgstr "Khng th cp pht b nh  phn tch ty chn !\n"
 
-#: misc/mke2fs.c:808
-#, fuzzy, c-format
-msgid "Invalid stripe-width parameter: %s\n"
+#: misc/mke2fs.c:791
+#, c-format
+msgid "Invalid stride parameter: %s\n"
 msgstr "Tham s stride khng hp l: %s\n"
 
-#: misc/mke2fs.c:830
+#: misc/mke2fs.c:812
 #, c-format
 msgid "Invalid resize parameter: %s\n"
 msgstr "Tham s thay i kch c khng hp l: %s\n"
 
-#: misc/mke2fs.c:837
+#: misc/mke2fs.c:819
 #, c-format
 msgid "The resize maximum must be greater than the filesystem size.\n"
-msgstr ""
-"S thay i kch c ti a phi ln hn kch c ca h thng tp tin.\n"
+msgstr "S thay i kch c ti a phi ln hn kch c ca h thng tp tin.\n"
 
-#: misc/mke2fs.c:861
+#: misc/mke2fs.c:843
 #, c-format
 msgid "On-line resizing not supported with revision 0 filesystems\n"
 msgstr ""
 "Tnh nng thay i kch c mt cch trc tuyn khng c h tr\n"
 "trn h thng tp tin bn sa i 0\n"
 
-#: misc/mke2fs.c:878
-#, fuzzy, c-format
+#: misc/mke2fs.c:858
+#, c-format
 msgid ""
 "\n"
-"Bad option(s) specified: %s\n"
+"Bad options specified.\n"
 "\n"
 "Extended options are separated by commas, and may take an argument which\n"
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk data chunk in blocks>\n"
-"\tstripe-width=<RAID stride * data disks in blocks>\n"
+"\tstride=<stride length in blocks>\n"
 "\tresize=<resize maximum size in blocks>\n"
-"\n"
 "\ttest_fs\n"
 msgstr ""
 "\n"
@@ -3791,15 +3712,7 @@ msgstr ""
 "\tresize=<kch c thay i kch c ti a theo khi>\n"
 "\ttest_fs\n"
 
-#: misc/mke2fs.c:893
-#, c-format
-msgid ""
-"\n"
-"Warning: RAID stripe-width %u not an even multiple of stride %u.\n"
-"\n"
-msgstr ""
-
-#: misc/mke2fs.c:920
+#: misc/mke2fs.c:888
 #, c-format
 msgid ""
 "Syntax error in mke2fs config file (%s, line #%d)\n"
@@ -3808,102 +3721,101 @@ msgstr ""
 "Gp li c php trong tp tin cu hnh mke2fs (%s, dng s %d)\n"
 "\t%s\n"
 
-#: misc/mke2fs.c:933 misc/tune2fs.c:335
+#: misc/mke2fs.c:901 misc/tune2fs.c:314
 #, c-format
 msgid "Invalid filesystem option set: %s\n"
 msgstr "t ty chn h thng tp tin khng hp l: %s\n"
 
-#: misc/mke2fs.c:1040
+#: misc/mke2fs.c:1008
 #, c-format
 msgid "invalid block size - %s"
 msgstr "c khi khng hp l  %s"
 
-#: misc/mke2fs.c:1044
+#: misc/mke2fs.c:1012
 #, c-format
 msgid "Warning: blocksize %d not usable on most systems.\n"
 msgstr "Cnh bo : kch c khi %d v ch trn phn ln h thng.\n"
 
-#: misc/mke2fs.c:1061
+#: misc/mke2fs.c:1029
 #, c-format
 msgid "invalid fragment size - %s"
 msgstr "c on khng hp l  %s"
 
-#: misc/mke2fs.c:1067
+#: misc/mke2fs.c:1035
 #, c-format
 msgid "Warning: fragments not supported.  Ignoring -f option\n"
 msgstr "Cnh bo : khng h tr on nn b qua ty chn  -f \n"
 
-#: misc/mke2fs.c:1074
+#: misc/mke2fs.c:1042
 msgid "Illegal number for blocks per group"
 msgstr "S cm cho s khi trn mi nhm"
 
-#: misc/mke2fs.c:1079
+#: misc/mke2fs.c:1047
 msgid "blocks per group must be multiple of 8"
 msgstr "s khi trn mi nhm phi l bi s cho 8"
 
-#: misc/mke2fs.c:1089
+#: misc/mke2fs.c:1057
 #, c-format
 msgid "invalid inode ratio %s (min %d/max %d)"
 msgstr "t l nt thng tin khng hp l %s (thiu %d/a %d)"
 
-#: misc/mke2fs.c:1106
+#: misc/mke2fs.c:1074
 msgid "in malloc for bad_blocks_filename"
 msgstr ""
 "trong hm cp pht b nh malloc cho tn tp tin khi sai\n"
 " bad_blocks_filename "
 
-#: misc/mke2fs.c:1115
+#: misc/mke2fs.c:1083
 #, c-format
 msgid "invalid reserved blocks percent - %s"
 msgstr "phn trm khi c dnh ring khng hp l  %s"
 
-#: misc/mke2fs.c:1133
+#: misc/mke2fs.c:1101
 #, c-format
 msgid "bad revision level - %s"
 msgstr "cp bn sa i sai  %s"
 
-#: misc/mke2fs.c:1145
+#: misc/mke2fs.c:1113
 #, c-format
 msgid "invalid inode size - %s"
 msgstr "kch c nt thng tin khng hp l  %s"
 
-#: misc/mke2fs.c:1165
+#: misc/mke2fs.c:1133
 #, c-format
 msgid "bad num inodes - %s"
 msgstr "s (num) nt thng tin sai  %s"
 
-#: misc/mke2fs.c:1223 misc/mke2fs.c:1745
+#: misc/mke2fs.c:1191 misc/mke2fs.c:1713
 #, c-format
 msgid "while trying to open journal device %s\n"
 msgstr "trong khi th m thit b nht k %s\n"
 
-#: misc/mke2fs.c:1229
+#: misc/mke2fs.c:1197
 #, c-format
 msgid "Journal dev blocksize (%d) smaller than minimum blocksize %d\n"
 msgstr "Kch c ca thit b nht k (%d) nh hn kch c ti thiu %d\n"
 
-#: misc/mke2fs.c:1243
+#: misc/mke2fs.c:1211
 #, c-format
 msgid "%d-byte blocks too big for system (max %d)"
 msgstr "Khi %d-byte qu ln i vi h thng (ti a %d)"
 
-#: misc/mke2fs.c:1247
+#: misc/mke2fs.c:1215
 #, c-format
-msgid ""
-"Warning: %d-byte blocks too big for system (max %d), forced to continue\n"
+msgid "Warning: %d-byte blocks too big for system (max %d), forced to continue\n"
 msgstr ""
 "Cnh bo : khi %d-byte qu ln i vi h thng (ti a %d)\n"
 "nn b buc tip tc\n"
 
-#: misc/mke2fs.c:1265
+#: misc/mke2fs.c:1233
 msgid "filesystem"
 msgstr "h thng tp tin"
 
-#: misc/mke2fs.c:1288 resize/main.c:332
+#: misc/mke2fs.c:1256 resize/main.c:332
 msgid "while trying to determine filesystem size"
 msgstr "trong khi th quyt nh kch c ca h thng tp tin"
 
-#: misc/mke2fs.c:1294
+#: misc/mke2fs.c:1262
 msgid ""
 "Couldn't determine device size; you must specify\n"
 "the size of the filesystem\n"
@@ -3911,7 +3823,7 @@ msgstr ""
 "Khng th quyt nh kch c ca thit b;\n"
 "bn cn phi xc nh kch c ca h thng tp tin\n"
 
-#: misc/mke2fs.c:1301
+#: misc/mke2fs.c:1269
 msgid ""
 "Device size reported to be zero.  Invalid partition specified, or\n"
 "\tpartition table wasn't reread after running fdisk, due to\n"
@@ -3925,46 +3837,46 @@ msgstr ""
 "\tdo phn vng  sa i ang bn v ang c dng.\n"
 "C l bn cn phi khi ng li my  c li bng phn vng.\n"
 
-#: misc/mke2fs.c:1319
+#: misc/mke2fs.c:1287
 msgid "Filesystem larger than apparent device size."
 msgstr "H thng tp tin ln hn kch c thit b biu kin."
 
-#: misc/mke2fs.c:1367
+#: misc/mke2fs.c:1335
 #, c-format
 msgid "Filesystem features not supported with revision 0 filesystems\n"
 msgstr ""
 "Tnh nng h thng tp tin khng c h tr trn h thng tp tin\n"
 "bn sa i 0\n"
 
-#: misc/mke2fs.c:1374
+#: misc/mke2fs.c:1342
 #, c-format
 msgid "Sparse superblocks not supported with revision 0 filesystems\n"
 msgstr ""
 "Tnh nng siu khi tha tht khng c h tr\n"
 "trn h thng tp tin bn sa i 0\n"
 
-#: misc/mke2fs.c:1386
+#: misc/mke2fs.c:1354
 #, c-format
 msgid "Journals not supported with revision 0 filesystems\n"
 msgstr ""
 "Tnh nng nht k khng c h tr trn h thng tp tin\n"
 "bn sa i 0\n"
 
-#: misc/mke2fs.c:1412
+#: misc/mke2fs.c:1380
 msgid "while trying to determine hardware sector size"
 msgstr "trong khi th quyt nh kch c ca rnh ghi phn cng"
 
-#: misc/mke2fs.c:1464
+#: misc/mke2fs.c:1432
 msgid "reserved online resize blocks not supported on non-sparse filesystem"
 msgstr ""
 "khi thay i kch c trc tuyn c dnh ring khng c h tr\n"
 "trn h thng tp tin khng tha tht"
 
-#: misc/mke2fs.c:1473
+#: misc/mke2fs.c:1441
 msgid "blocks per group count out of range"
 msgstr "s khi trn mi nhm  ngoi phm vi"
 
-#: misc/mke2fs.c:1480
+#: misc/mke2fs.c:1448
 msgid ""
 "Filesystem too large.  No more than 2**31-1 blocks\n"
 "\t (8TB using a blocksize of 4k) are currently supported."
@@ -3972,7 +3884,7 @@ msgstr ""
 "H thng tp tin qu ln. Hin thi h tr kch c\n"
 "\tti a 2**31-1 (8 TB theo kch c khi 4k)."
 
-#: misc/mke2fs.c:1487
+#: misc/mke2fs.c:1455
 #, c-format
 msgid ""
 "\n"
@@ -3986,27 +3898,27 @@ msgstr ""
 "\tnu bn gp kh khn nh th.\n"
 "\n"
 
-#: misc/mke2fs.c:1504
+#: misc/mke2fs.c:1472
 #, c-format
 msgid "invalid inode size %d (min %d/max %d)"
 msgstr "kch c nt thng tin khng hp l %d (thiu %d/a %d)"
 
-#: misc/mke2fs.c:1510
+#: misc/mke2fs.c:1478
 #, c-format
 msgid "Warning: %d-byte inodes not usable on older systems\n"
 msgstr "Cnh bo : nt thng tin %d-byte v ch trn h thng c hn\n"
 
-#: misc/mke2fs.c:1522
+#: misc/mke2fs.c:1490
 #, c-format
 msgid "too many inodes (%llu), raise inode ratio?"
 msgstr "qu nhiu nt thng tin (%llu), tng t l nt thng tin khng?"
 
-#: misc/mke2fs.c:1527
+#: misc/mke2fs.c:1495
 #, c-format
 msgid "too many inodes (%llu), specify < 2^32 inodes"
 msgstr "qu nhiu nt thng tin (%llu), xc nh <2 nt thng tin"
 
-#: misc/mke2fs.c:1542
+#: misc/mke2fs.c:1510
 #, c-format
 msgid ""
 "inode_size (%u) * inodes_count (%u) too big for a\n"
@@ -4019,38 +3931,38 @@ msgstr ""
 "(-N) thp hn\n"
 
 # Item in the main menu to select this package
-#: misc/mke2fs.c:1591
+#: misc/mke2fs.c:1559
 msgid "while setting up superblock"
 msgstr "trong khi thit lp siu khi"
 
-#: misc/mke2fs.c:1628
+#: misc/mke2fs.c:1596
 #, c-format
 msgid "unknown os - %s"
 msgstr "h iu hnh l  %s"
 
-#: misc/mke2fs.c:1682
+#: misc/mke2fs.c:1650
 msgid "while trying to allocate filesystem tables"
 msgstr "trong khi th cp pht cc bng h thng tp tin"
 
-#: misc/mke2fs.c:1713
+#: misc/mke2fs.c:1681
 #, c-format
 msgid "while zeroing block %u at end of filesystem"
 msgstr "trong khi lm s khng khi %u ti kt thc ca h thng tp tin"
 
-#: misc/mke2fs.c:1727
+#: misc/mke2fs.c:1695
 msgid "while reserving blocks for online resize"
 msgstr "trong khi dnh ring cc khi  thay i kch c trc tuyn"
 
-#: misc/mke2fs.c:1738 misc/tune2fs.c:433
+#: misc/mke2fs.c:1706 misc/tune2fs.c:399
 msgid "journal"
 msgstr "nht k"
 
-#: misc/mke2fs.c:1750
+#: misc/mke2fs.c:1718
 #, c-format
 msgid "Adding journal to device %s: "
 msgstr "ang thm nht k vo thit b %s: "
 
-#: misc/mke2fs.c:1757
+#: misc/mke2fs.c:1725
 #, c-format
 msgid ""
 "\n"
@@ -4059,17 +3971,17 @@ msgstr ""
 "\n"
 "trong khi th thm nht k vo thit b %s"
 
-#: misc/mke2fs.c:1762 misc/mke2fs.c:1788 misc/tune2fs.c:461 misc/tune2fs.c:475
+#: misc/mke2fs.c:1730 misc/mke2fs.c:1756 misc/tune2fs.c:427 misc/tune2fs.c:441
 #, c-format
 msgid "done\n"
 msgstr "hon tt\n"
 
-#: misc/mke2fs.c:1793
+#: misc/mke2fs.c:1761
 #, c-format
 msgid "Writing superblocks and filesystem accounting information: "
 msgstr "ang ghi siu khi v thng tin k ton h thng tp tin: "
 
-#: misc/mke2fs.c:1798
+#: misc/mke2fs.c:1766
 #, c-format
 msgid ""
 "\n"
@@ -4078,7 +3990,7 @@ msgstr ""
 "\n"
 "Cnh bo : gp kh khn trong vic ghi ra cc siu khi."
 
-#: misc/mke2fs.c:1801
+#: misc/mke2fs.c:1769
 #, c-format
 msgid ""
 "done\n"
@@ -4092,17 +4004,18 @@ msgstr ""
 msgid "Usage: mklost+found\n"
 msgstr "Cch s dng: mklost+found\n"
 
-#: misc/tune2fs.c:91
+#: misc/tune2fs.c:89
 msgid "Please run e2fsck on the filesystem.\n"
 msgstr "Hy chy tin trnh e2fsck trn h thng tp tin.\n"
 
-#: misc/tune2fs.c:98
-#, fuzzy, c-format
+#: misc/tune2fs.c:96
+#, c-format
 msgid ""
 "Usage: %s [-c max_mounts_count] [-e errors_behavior] [-g group]\n"
-"\t[-i interval[d|m|w]] [-j] [-J journal_options] [-l]\n"
-"\t[-m reserved_blocks_percent] [-o [^]mount_options[,...]] \n"
-"\t[-r reserved_blocks_count] [-u user] [-C mount_count] [-L volume_label]\n"
+"\t[-i interval[d|m|w]] [-j] [-J journal_options]\n"
+"\t[-l] [-s sparse_flag] [-m reserved_blocks_percent]\n"
+"\t[-o [^]mount_options[,...]] [-r reserved_blocks_count]\n"
+"\t[-u user] [-C mount_count] [-L volume_label]\n"
 "\t[-M last_mounted_dir] [-O [^]feature[,...]]\n"
 "\t[-E extended-option[,...]] [-T last_check_time] [-U UUID] device\n"
 msgstr ""
@@ -4114,63 +4027,49 @@ msgstr ""
 "\t[-M th_mc_lp_cui] [-O [^]tnh_nng[,...]]\n"
 "\t[-E ty_chn__m_rng[,...] [-T gi_kim_tra_cui] [-U UUID] thit_b\n"
 
-#: misc/tune2fs.c:171
+#: misc/tune2fs.c:153
 msgid "while trying to open external journal"
 msgstr "trong khi th m nht k bn ngoi"
 
-#: misc/tune2fs.c:175
+#: misc/tune2fs.c:157
 #, c-format
 msgid "%s is not a journal device.\n"
 msgstr "%s khng phi thit b nht k.\n"
 
-#: misc/tune2fs.c:190
+#: misc/tune2fs.c:172
 msgid "Journal superblock not found!\n"
 msgstr "Khng tm thy siu khi nht k !\n"
 
-#: misc/tune2fs.c:202
+#: misc/tune2fs.c:184
 msgid "Filesystem's UUID not found on journal device.\n"
 msgstr "Khng tm thy UUID ca h thng tp tin trn thit b nht k.\n"
 
-#: misc/tune2fs.c:223
+#: misc/tune2fs.c:205
 msgid "Journal NOT removed\n"
 msgstr "CHA g b nht k\n"
 
-#: misc/tune2fs.c:229
+#: misc/tune2fs.c:211
 msgid "Journal removed\n"
 msgstr "Nht k  g b\n"
 
-#: misc/tune2fs.c:268
+#: misc/tune2fs.c:250
 msgid "while reading bitmaps"
 msgstr "trong khi c cc mng nh"
 
-#: misc/tune2fs.c:275
+#: misc/tune2fs.c:257
 msgid "while clearing journal inode"
 msgstr "trong khi xo sch nt thng tin nht k"
 
-#: misc/tune2fs.c:286
+#: misc/tune2fs.c:268
 msgid "while writing journal inode"
 msgstr "trong khi ghi nt thng tin nht k"
 
-#: misc/tune2fs.c:301
+#: misc/tune2fs.c:283
 #, c-format
 msgid "Invalid mount option set: %s\n"
 msgstr "t ty chn lp khng hp l: %s\n"
 
-#: misc/tune2fs.c:338
-#, fuzzy, c-format
-msgid "Clearing filesystem feature '%s' not supported.\n"
-msgstr ""
-"Tnh nng h thng tp tin khng c h tr trn h thng tp tin\n"
-"bn sa i 0\n"
-
-#: misc/tune2fs.c:344
-#, fuzzy, c-format
-msgid "Setting filesystem feature '%s' not supported.\n"
-msgstr ""
-"Tnh nng h thng tp tin khng c h tr trn h thng tp tin\n"
-"bn sa i 0\n"
-
-#: misc/tune2fs.c:353
+#: misc/tune2fs.c:329
 msgid ""
 "The has_journal flag may only be cleared when the filesystem is\n"
 "unmounted or mounted read-only.\n"
@@ -4179,7 +4078,7 @@ msgstr ""
 "ch khi h thng tp tin c tho gn kt\n"
 "hay c gn kt mt cch ch c.\n"
 
-#: misc/tune2fs.c:361
+#: misc/tune2fs.c:337
 msgid ""
 "The needs_recovery flag is set.  Please run e2fsck before clearing\n"
 "the has_journal flag.\n"
@@ -4187,11 +4086,11 @@ msgstr ""
 "t c cn thit phc hi (needs_recovery).\n"
 "Hy chy tin trnh e2fsck trc khi xo sch c c nht k (has_journal).\n"
 
-#: misc/tune2fs.c:428
+#: misc/tune2fs.c:394
 msgid "The filesystem already has a journal.\n"
 msgstr "H thng tp tin  c nht k.\n"
 
-#: misc/tune2fs.c:445
+#: misc/tune2fs.c:411
 #, c-format
 msgid ""
 "\n"
@@ -4200,21 +4099,21 @@ msgstr ""
 "\n"
 "trong khi th m nht k trn %s\n"
 
-#: misc/tune2fs.c:449
+#: misc/tune2fs.c:415
 #, c-format
 msgid "Creating journal on device %s: "
 msgstr "ang to nht k trn thit b %s: "
 
-#: misc/tune2fs.c:457
+#: misc/tune2fs.c:423
 #, c-format
 msgid "while adding filesystem to journal on %s"
 msgstr "trong khi thm h thng tp tin vo nht k trn %s"
 
-#: misc/tune2fs.c:463
+#: misc/tune2fs.c:429
 msgid "Creating journal inode: "
 msgstr "ang to nt thng tin nht k: "
 
-#: misc/tune2fs.c:472
+#: misc/tune2fs.c:438
 msgid ""
 "\n"
 "\twhile trying to create journal file"
@@ -4222,66 +4121,56 @@ msgstr ""
 "\n"
 "trong khi th to tp tin nht k"
 
-#: misc/tune2fs.c:539
+#: misc/tune2fs.c:505
 #, c-format
 msgid "Couldn't parse date/time specifier: %s"
 msgstr "Khng th phn tch ton t ngy/gi : %s"
 
-#: misc/tune2fs.c:563 misc/tune2fs.c:576
+#: misc/tune2fs.c:529 misc/tune2fs.c:542
 #, c-format
 msgid "bad mounts count - %s"
 msgstr "s m lp sai  %s"
 
-#: misc/tune2fs.c:592
+#: misc/tune2fs.c:558
 #, c-format
 msgid "bad error behavior - %s"
 msgstr "ng x li sai  %s"
 
-#: misc/tune2fs.c:619
+#: misc/tune2fs.c:585
 #, c-format
 msgid "bad gid/group name - %s"
 msgstr "GID/tn nhm sai  %s"
 
-#: misc/tune2fs.c:652
+#: misc/tune2fs.c:618
 #, c-format
 msgid "bad interval - %s"
 msgstr "khong sai - %s"
 
-#: misc/tune2fs.c:680
+#: misc/tune2fs.c:646
 #, c-format
 msgid "bad reserved block ratio - %s"
 msgstr "t l khi dnh ring sai  %s"
 
-#: misc/tune2fs.c:695
+#: misc/tune2fs.c:661
 msgid "-o may only be specified once"
 msgstr "c th xc nh ty chn  -o  ch mt ln"
 
-#: misc/tune2fs.c:705
+#: misc/tune2fs.c:671
 msgid "-O may only be specified once"
 msgstr "c th xc nh ty chn  -O  ch mt ln"
 
-#: misc/tune2fs.c:715
+#: misc/tune2fs.c:681
 #, c-format
 msgid "bad reserved blocks count - %s"
 msgstr "s m khi dnh ring sai  %s"
 
-#: misc/tune2fs.c:744
+#: misc/tune2fs.c:710
 #, c-format
 msgid "bad uid/user name - %s"
 msgstr "UID/tn ngi dng sai  %s"
 
-#: misc/tune2fs.c:842
-#, fuzzy, c-format
-msgid "Invalid RAID stride: %s\n"
-msgstr "Tham s stride khng hp l: %s\n"
-
-#: misc/tune2fs.c:857
-#, fuzzy, c-format
-msgid "Invalid RAID stripe-width: %s\n"
-msgstr "Tham s stride khng hp l: %s\n"
-
-#: misc/tune2fs.c:867
-#, fuzzy, c-format
+#: misc/tune2fs.c:804
+#, c-format
 msgid ""
 "\n"
 "Bad options specified.\n"
@@ -4290,8 +4179,6 @@ msgid ""
 "\tis set off by an equals ('=') sign.\n"
 "\n"
 "Valid extended options are:\n"
-"\tstride=<RAID per-disk chunk size in blocks>\n"
-"\tstripe-width=<RAID stride*data disks in blocks>\n"
 "\ttest_fs\n"
 "\t^test_fs\n"
 msgstr ""
@@ -4302,56 +4189,55 @@ msgstr ""
 "i s c ng  vi du bng  = .\n"
 "\n"
 "Ty chn  m rng hp l:\n"
-"\tstride=<chiu di stride theo khi>\n"
-"\tresize=<kch c thay i kch c ti a theo khi>\n"
 "\ttest_fs\n"
+"\t^test_fs\n"
 
-#: misc/tune2fs.c:927
+#: misc/tune2fs.c:862
 #, c-format
 msgid "Filesystem %s has unsupported features enabled.\n"
 msgstr "H thng tp tin %s  hiu lc tnh nng khng c h tr.\n"
 
-#: misc/tune2fs.c:951
+#: misc/tune2fs.c:886
 #, c-format
 msgid "Setting maximal mount count to %d\n"
 msgstr "ang t s m lp ti a thnh %d\n"
 
-#: misc/tune2fs.c:957
+#: misc/tune2fs.c:892
 #, c-format
 msgid "Setting current mount count to %d\n"
 msgstr "ang t s m lp hin thi thnh %d\n"
 
-#: misc/tune2fs.c:962
+#: misc/tune2fs.c:897
 #, c-format
 msgid "Setting error behavior to %d\n"
 msgstr "ang t ng x li thnh %d\n"
 
-#: misc/tune2fs.c:967
+#: misc/tune2fs.c:902
 #, c-format
 msgid "Setting reserved blocks gid to %lu\n"
 msgstr "ang t GID khi dnh ring thnh %lu\n"
 
-#: misc/tune2fs.c:972
+#: misc/tune2fs.c:907
 #, c-format
 msgid "Setting interval between checks to %lu seconds\n"
 msgstr "ang t khong gia hai ln kim tra thnh %lu giy\n"
 
-#: misc/tune2fs.c:978
+#: misc/tune2fs.c:913
 #, c-format
 msgid "Setting reserved blocks percentage to %g%% (%u blocks)\n"
 msgstr "ang t phn trm khi dnh ring thnh %g%% (%u khi)\n"
 
-#: misc/tune2fs.c:984
+#: misc/tune2fs.c:919
 #, c-format
 msgid "reserved blocks count is too big (%lu)"
 msgstr "s m khi dnh ring qu ln (%lu)"
 
-#: misc/tune2fs.c:990
+#: misc/tune2fs.c:925
 #, c-format
 msgid "Setting reserved blocks count to %lu\n"
 msgstr "ang t s m khi dnh ring thnh %lu\n"
 
-#: misc/tune2fs.c:996
+#: misc/tune2fs.c:931
 msgid ""
 "\n"
 "The filesystem already has sparse superblocks.\n"
@@ -4359,7 +4245,7 @@ msgstr ""
 "\n"
 "H thng tp tin  c siu khi tha tht.\n"
 
-#: misc/tune2fs.c:1003
+#: misc/tune2fs.c:938
 #, c-format
 msgid ""
 "\n"
@@ -4368,36 +4254,37 @@ msgstr ""
 "\n"
 "t c siu khi tha tht.  %s"
 
-#: misc/tune2fs.c:1008
+#: misc/tune2fs.c:945
 msgid ""
 "\n"
-"Clearing the sparse superflag not supported.\n"
+"The filesystem already has sparse superblocks disabled.\n"
 msgstr ""
+"\n"
+"H thng tp tin  tt kh nng siu khi tha tht.\n"
 
-#: misc/tune2fs.c:1015
+#: misc/tune2fs.c:953
+#, c-format
+msgid ""
+"\n"
+"Sparse superblock flag cleared.  %s"
+msgstr ""
+"\n"
+"C siu khi tha tht  xo sch.  %s"
+
+#: misc/tune2fs.c:960
 #, c-format
 msgid "Setting time filesystem last checked to %s\n"
 msgstr "ang t gi kim tra h thng tp tin ln cui cng thnh %s\n"
 
-#: misc/tune2fs.c:1021
+#: misc/tune2fs.c:966
 #, c-format
 msgid "Setting reserved blocks uid to %lu\n"
 msgstr "ang t UID khi dnh ring thnh %lu\n"
 
-#: misc/tune2fs.c:1056
+#: misc/tune2fs.c:1001
 msgid "Invalid UUID format\n"
 msgstr "nh dng UUID khng hp l\n"
 
-#: misc/tune2fs.c:1067
-#, fuzzy, c-format
-msgid "Setting stride size to %d\n"
-msgstr "ang t GID khi dnh ring thnh %lu\n"
-
-#: misc/tune2fs.c:1072
-#, fuzzy, c-format
-msgid "Setting stripe width to %d\n"
-msgstr "ang t GID khi dnh ring thnh %lu\n"
-
 #: misc/util.c:72
 msgid "Proceed anyway? (y,n) "
 msgstr "Vn cn tip tc khng? (c,k)"
@@ -4643,21 +4530,7 @@ msgstr "khi cn di chuyn"
 msgid "meta-data blocks"
 msgstr "khi siu d liu"
 
-#: resize/resize2fs.c:1550
+#: resize/resize2fs.c:1534
 #, c-format
 msgid "Should never happen: resize inode corrupt!\n"
 msgstr "Khng bao gi nn xy ra: nt thng tin thay i kch c b hng !\n"
-
-#~ msgid ""
-#~ "\n"
-#~ "The filesystem already has sparse superblocks disabled.\n"
-#~ msgstr ""
-#~ "\n"
-#~ "H thng tp tin  tt kh nng siu khi tha tht.\n"
-
-#~ msgid ""
-#~ "\n"
-#~ "Sparse superblock flag cleared.  %s"
-#~ msgstr ""
-#~ "\n"
-#~ "C siu khi tha tht  xo sch.  %s"
diff -Nurp e2fsprogs-1.40.7/README e2fsprogs/README
--- e2fsprogs-1.40.7/README	2008-02-29 04:45:09.000000000 +0000
+++ e2fsprogs/README	2008-02-29 11:23:57.000000000 +0000
@@ -1,4 +1,4 @@
-	This is the new version (1.40.7) of the second extended file
+	This is the new version (1.40.6) of the second extended file
 system management programs.
 
 	From time to time, I release new versions of e2fsprogs, to fix
diff -Nurp e2fsprogs-1.40.7/README.subset e2fsprogs/README.subset
--- e2fsprogs-1.40.7/README.subset	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/README.subset	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1,15 @@
+This distribution contains a subset of the e2fsprogs package; it
+contains the base libraries (ss, et, uuid, blkid) which may be used by
+other non-ext2-related applications.
+
+This may be useful for non-Linux operating systems that need these
+libraries for GNOME, but who do not need the ext2/ext3 filesystem
+utilities.
+
+The full e2fsprogs distributions can be found at the e2fsprogs web
+page, which is:
+
+	http://e2fsprogs.sourceforge.net
+
+In case of bugs in these libraries, please contact Ted Ts'o at
+tytso@mit.edu or tytso@alum.mit.edu.
diff -Nurp e2fsprogs-1.40.7/RELEASE-NOTES e2fsprogs/RELEASE-NOTES
--- e2fsprogs-1.40.7/RELEASE-NOTES	2008-02-29 04:45:09.000000000 +0000
+++ e2fsprogs/RELEASE-NOTES	2008-02-29 11:23:57.000000000 +0000
@@ -1,125 +1,3 @@
-E2fsprogs 1.40.7 (February 28, 2008)
-====================================
-
-Remove support for clearing the SPARSE_SUPER feature from tune2fs, and
-depreciate the -s option, since it can result in filesystems which
-e2fsck can't fix easily.  There are very good reasons for wanting to
-disable sparse_super; users who wants to turn off sparse_super can use
-debugfs.  (Addresses Sourceforge Bug: #1840286)
-    
-Add missing options to mke2fs's usage message.  (Addresses Sourceforge
-Bug: #1751393)
-    
-Fix bug in resize2fs when large (greater than 128 byte) inodes are
-moved when a filesystem is shrunk; it was only moving the first 128
-bytes, so extended attributes were not getting moved.  (Addresses Red
-Hat Bugzilla: #434893)
-
-E2fsck now prints an explicit message when the bad block inode is
-updated, to avoid confusion about why the filesystem was modified.
-(Addresses Sourceforge Bug: #756460)
-    
-Allow mke2fs and tune2fs manipulate the large_file feature.
-Previously we just let the kernel and e2fsck do this automatically,
-but e2fsck will no longer automatically clear the large_file feature.
-It still isn't really necessary to worry about this feature flag
-explicitly, but some users seem to care.  (Addresses Red Hat Bugzilla:
-#258381)
-    
-Suppress message about an old-style fstab if the fstab file is empty.
-(Addresses Debian Bug: #468176)
-    
-Fix (really minor) bug in debugfs's find_free_block so it avoids
-reporting a free block more than once if there are too few free blocks
-in the filesystem.  (Addresses Sourceforge Bug: #1096315)
-    
-Change e2fsck to no longer clear the LARGE_FILES feature flag
-automatically, when there are no more > 2GB files in the filesystem.
-It's been almost a decade since there have been kernels that don't
-support this flag, and e2fsck clears it quietly without telling the
-user why the filesystem has been changed.
-    
-Fix bug which could cause libblkid to seg fault if a device mapper
-volume disappears while it is being probed.  (Addresses RedHat
-Bugzilla: #433857)
-    
-Inhance e2fsck's reporting of unsupported filesystem feature flags.
-(Addresses Sourceforge Feature Request: #1175808)
-    
-Fix option syntax in dumpe2fs for explicit superblock and blocksize
-parameters.  What was currently documented in the man page has been
-broken for some time, due to getopt() implementation changes.  The
-option sytax has been changed to one which is can be more portable
-supported and which is consistent with the format for extended options
-in mke2fs and tune2fs.  (Addresses Sourceforge Bug: #1830994)
-    
-Add support to tune2fs to clear the resize_inode feature.  This
-requires an fsck afterwards.  (Addresses Red Hat Bugzilla: #167816)
-
-Teach blkid to detect LVM2 physical volumes.  (Addresses Red Hat
-Bugzilla: #409321)
-
-Add support for setting RAID stride and stripe-width via mke2fs and
-tune2fs.  Teach dumpe2fs to print the RAID parameters.
-
-Add support for setting new superblock fields to debugfs's
-set_super_value.
-
-Add support for printing "mostly-printable" extended attributes in
-Debugfs.
-
-Add support for the -M option to fsck, which causes it to ignore
-mounted filesystem.
-
-Fix uuidd so that it creates the pid file with the correct pid number.
-(Addresses Sourceforge Bug: #1893244)
-
-Fix various gcc -Wall warnings.
-
-Update Czech, Dutch, Polish, Sweedish, and Vietnamese translations
-
-Fixed spelling mistakes, typos, and otherwise clarified man pages.  
-(Addresses Sourceforge Patch: #1399325)
-
-
-Programmer's notes:
--------------------
-
-Fixed various Debian packaging issues --- see debian/changelog for
-details.  (Addresses Debian Bug: #466929)
-
-Add new flag EXT2_FLAG_NONFREE_ON_ERROR ext2fs_open2() which returns a
-partially filled-in filesystem object on an error, so that e2fsck can
-print more intelligent error messages.
-    
-Add a new function e2p_edit_feature2() which allows the caller to
-specify which feature flags are OK to set or clear, and which returns
-more specific information about feature flags which are not allowed to
-be set/cleared.
-    
-Set the C locale in the test_script driver since it uses [A-Za-z].
-(Addresses Sourceforge Bug: #1890526)
-
-Use fcntl locking instead of lockf in libuuid since Cygwin doesn't
-support lockf().
-
-Change configure.in to avoid using the 'dc' command unless it is
-absolutely needed. (i.e., when using parsing a WIP-style version
-number)  (Addresses Sourceforge Bug: #1893024)
-
-Add portability checks to support compilation under DJGPP.
-
-Update to the latest samba tdb code before the LGPLv3 change, which
-fixes a realloc() leak on failure.
-
-Fix memory leak in ext2fs_alloc_block().
-
-Fix makefile dependency issues for various install targets.
-(Addresses-Sourceforge-Patches: #1903484, #1903466, #1903456)
-    
-Improve descriptions for the r_move_itable and r_resize_inode tests.
-
-
 E2fsprogs 1.40.6 (February 9, 2008)
 ===================================
 
diff -Nurp e2fsprogs-1.40.7/resize/Makefile.pq e2fsprogs/resize/Makefile.pq
--- e2fsprogs-1.40.7/resize/Makefile.pq	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/resize/Makefile.pq	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1,11 @@
+TOPSRC=..
+LIBNAME=RESIZE.LIB
+OBJFILE=RESIZE.LST
+
+OBJS= extent.obj \
+	ext2_block_move.obj \
+	ext2_inode_move.obj \
+	resize2fs.obj
+
+!include $(TOPSRC)\powerquest\MCONFIG
+
diff -Nurp e2fsprogs-1.40.7/resize/resize2fs.c e2fsprogs/resize/resize2fs.c
--- e2fsprogs-1.40.7/resize/resize2fs.c	2008-02-28 23:05:06.000000000 +0000
+++ e2fsprogs/resize/resize2fs.c	2008-02-29 11:23:57.000000000 +0000
@@ -383,8 +383,7 @@ retry:
 			ext2fs_mark_block_bitmap(fs->block_map, group_block);
 			adjblocks++;
 		}
-		meta_bg_size = (fs->blocksize /
-				sizeof (struct ext2_group_desc));
+		meta_bg_size = EXT2_DESC_PER_BLOCK(fs->super);
 		meta_bg = i / meta_bg_size;
 		if (!(fs->super->s_feature_incompat &
 		      EXT2_FEATURE_INCOMPAT_META_BG) ||
@@ -550,7 +549,7 @@ static errcode_t mark_table_blocks(ext2_
 	unsigned long		meta_bg_size;
 	unsigned int		old_desc_blocks;
 
-	meta_bg_size = (fs->blocksize / sizeof (struct ext2_group_desc));
+	meta_bg_size = EXT2_DESC_PER_BLOCK(fs->super);
 	if (fs->super->s_feature_incompat & EXT2_FEATURE_INCOMPAT_META_BG)
 		old_desc_blocks = fs->super->s_first_meta_bg;
 	else
@@ -717,7 +716,7 @@ static errcode_t blocks_to_move(ext2_res
 	 * If we're increasing the number of descriptor blocks, life
 	 * gets interesting....  
 	 */
-	meta_bg_size = (fs->blocksize / sizeof (struct ext2_group_desc));
+	meta_bg_size = EXT2_DESC_PER_BLOCK(fs->super);
 	for (i = 0; i < max_groups; i++) {
 		has_super = ext2fs_bg_has_super(fs, i);
 		if (has_super)
@@ -1109,15 +1108,13 @@ static errcode_t inode_scan_and_fix(ext2
 {
 	struct process_block_struct	pb;
 	ext2_ino_t		ino, new_inode;
-	struct ext2_inode 	inode, *buf = NULL;
-	struct ext2_inode_large	*large_inode;
+	struct ext2_inode 	inode;
 	ext2_inode_scan 	scan = NULL;
 	errcode_t		retval;
 	int			group;
 	char			*block_buf = 0;
 	ext2_ino_t		start_to_move;
 	blk_t			orig_size, new_block;
-	int			inode_size;
 	
 	if ((rfs->old_fs->group_desc_count <=
 	     rfs->new_fs->group_desc_count) &&
@@ -1157,12 +1154,6 @@ static errcode_t inode_scan_and_fix(ext2
 	pb.inode = &inode;
 	pb.error = 0;
 	new_inode = EXT2_FIRST_INODE(rfs->new_fs->super);
-	inode_size = EXT2_INODE_SIZE(rfs->new_fs->super);
-	buf = malloc(inode_size);
-	if (!buf) {
-		retval = ENOMEM;
-		goto errout;
-	}
 	/*
 	 * First, copy all of the inodes that need to be moved
 	 * elsewhere in the inode table
@@ -1221,19 +1212,13 @@ static errcode_t inode_scan_and_fix(ext2
 			}
 		}
 		ext2fs_mark_inode_bitmap(rfs->new_fs->inode_map, new_inode);
-		memcpy(buf, &inode, sizeof(struct ext2_inode));
-		large_inode = (struct ext2_inode_large *)buf;
-		large_inode->i_extra_isize = sizeof(struct ext2_inode_large) -
-			EXT2_GOOD_OLD_INODE_SIZE;
 		if (pb.changed) {
 			/* Get the new version of the inode */
-			retval = ext2fs_read_inode_full(rfs->old_fs, ino,
-						buf, inode_size);
+			retval = ext2fs_read_inode(rfs->old_fs, ino, &inode);
 			if (retval) goto errout;
 		}
 		inode.i_ctime = time(0);
-		retval = ext2fs_write_inode_full(rfs->old_fs, new_inode,
-						buf, inode_size);
+		retval = ext2fs_write_inode(rfs->old_fs, new_inode, &inode);
 		if (retval) goto errout;
 
 		group = (new_inode-1) / EXT2_INODES_PER_GROUP(rfs->new_fs->super);
@@ -1263,8 +1248,6 @@ errout:
 		ext2fs_close_inode_scan(scan);
 	if (block_buf)
 		ext2fs_free_mem(&block_buf);
-	if (buf)
-		free(buf);
 	return retval;
 }
 
diff -Nurp e2fsprogs-1.40.7/tests/f_bad_disconnected_inode/expect.1 e2fsprogs/tests/f_bad_disconnected_inode/expect.1
--- e2fsprogs-1.40.7/tests/f_bad_disconnected_inode/expect.1	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/tests/f_bad_disconnected_inode/expect.1	2008-02-29 11:23:57.000000000 +0000
@@ -1,4 +1,13 @@
 Pass 1: Checking inodes, blocks, and sizes
+Inode 1 has EXTENTS_FL flag set on filesystem without extents support.
+Clear? yes
+
+Inode 15 has EXTENTS_FL flag set on filesystem without extents support.
+Clear? yes
+
+Inode 16 has EXTENTS_FL flag set on filesystem without extents support.
+Clear? yes
+
 Pass 2: Checking directory structure
 Pass 3: Checking directory connectivity
 /lost+found not found.  Create? yes
@@ -18,26 +27,6 @@ Clear? yes
 Inode 14 (...) has invalid mode (0154247).
 Clear? yes
 
-i_file_acl for inode 15 (...) is 1143674715, should be zero.
-Clear? yes
-
-Inode 15 (...) has invalid mode (074044).
-Clear? yes
-
-i_file_acl for inode 16 (...) is 2007517039, should be zero.
-Clear? yes
-
-i_faddr for inode 16 (...) is 1003914917, should be zero.
-Clear? yes
-
-i_blocks_hi for inode 16 (...) is 62762, should be zero.
-Clear? yes
-
-Unattached inode 16
-Connect to /lost+found? yes
-
-Inode 16 ref count is 5925, should be 1.  Fix? yes
-
 Pass 5: Checking group summary information
 Block bitmap differences:  -(9--19)
 Fix? yes
@@ -48,19 +37,16 @@ Fix? yes
 Free blocks count wrong (79, counted=91).
 Fix? yes
 
-Inode bitmap differences:  +16
-Fix? yes
-
-Free inodes count wrong for group #0 (7, counted=4).
+Free inodes count wrong for group #0 (6, counted=5).
 Fix? yes
 
 Directories count wrong for group #0 (3, counted=2).
 Fix? yes
 
-Free inodes count wrong (7, counted=4).
+Free inodes count wrong (6, counted=5).
 Fix? yes
 
 
 test_filesys: ***** FILE SYSTEM WAS MODIFIED *****
-test_filesys: 12/16 files (0.0% non-contiguous), 9/100 blocks
+test_filesys: 11/16 files (0.0% non-contiguous), 9/100 blocks
 Exit status is 1
diff -Nurp e2fsprogs-1.40.7/tests/f_bad_disconnected_inode/expect.2 e2fsprogs/tests/f_bad_disconnected_inode/expect.2
--- e2fsprogs-1.40.7/tests/f_bad_disconnected_inode/expect.2	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/tests/f_bad_disconnected_inode/expect.2	2008-02-29 11:23:57.000000000 +0000
@@ -3,5 +3,5 @@ Pass 2: Checking directory structure
 Pass 3: Checking directory connectivity
 Pass 4: Checking reference counts
 Pass 5: Checking group summary information
-test_filesys: 12/16 files (0.0% non-contiguous), 9/100 blocks
+test_filesys: 11/16 files (0.0% non-contiguous), 9/100 blocks
 Exit status is 0
diff -Nurp e2fsprogs-1.40.7/tests/f_ea_checks/expect.1 e2fsprogs/tests/f_ea_checks/expect.1
--- e2fsprogs-1.40.7/tests/f_ea_checks/expect.1	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/tests/f_ea_checks/expect.1	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1,57 @@
+Pass 1: Checking inodes, blocks, and sizes
+Inode 13 has a bad extended attribute block 26.  Clear? yes
+
+Inode 13, i_blocks is 4, should be 2.  Fix? yes
+
+Extended attribute in inode 14 has a hash (1649340189) which is invalid
+Clear? yes
+
+Inode 14, i_blocks is 2, should be 0.  Fix? yes
+
+Inode 17 has a bad extended attribute block 28.  Clear? yes
+
+Inode 17, i_blocks is 4, should be 2.  Fix? yes
+
+Inode 16 has a bad extended attribute block 29.  Clear? yes
+
+Inode 16, i_blocks is 2, should be 0.  Fix? yes
+
+Inode 19 has a bad extended attribute block 33.  Clear? yes
+
+Inode 19, i_blocks is 2, should be 0.  Fix? yes
+
+Inode 12 has a bad extended attribute block 55.  Clear? yes
+
+Inode 12, i_blocks is 2, should be 0.  Fix? yes
+
+Inode 15, i_blocks is 2, should be 0.  Fix? yes
+
+Pass 2: Checking directory structure
+Extended attribute block for inode 15 (/far) is invalid (999).
+Clear? yes
+
+Pass 3: Checking directory connectivity
+Pass 4: Checking reference counts
+Pass 5: Checking group summary information
+Block bitmap differences:  -(26--29) -33 -55
+Fix? yes
+
+Free blocks count wrong for group #0 (481, counted=484).
+Fix? yes
+
+Free blocks count wrong (481, counted=484).
+Fix? yes
+
+Inode bitmap differences:  -18
+Fix? yes
+
+Free inodes count wrong for group #0 (47, counted=46).
+Fix? yes
+
+Free inodes count wrong (47, counted=46).
+Fix? yes
+
+
+test_filesys: ***** FILE SYSTEM WAS MODIFIED *****
+test_filesys: 18/64 files (0.0% non-contiguous), 28/512 blocks
+Exit status is 1
diff -Nurp e2fsprogs-1.40.7/tests/f_ea_checks/expect.2 e2fsprogs/tests/f_ea_checks/expect.2
--- e2fsprogs-1.40.7/tests/f_ea_checks/expect.2	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/tests/f_ea_checks/expect.2	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1,7 @@
+Pass 1: Checking inodes, blocks, and sizes
+Pass 2: Checking directory structure
+Pass 3: Checking directory connectivity
+Pass 4: Checking reference counts
+Pass 5: Checking group summary information
+test_filesys: 18/64 files (0.0% non-contiguous), 28/512 blocks
+Exit status is 0
Files e2fsprogs-1.40.7/tests/f_ea_checks/image.gz and e2fsprogs/tests/f_ea_checks/image.gz differ
diff -Nurp e2fsprogs-1.40.7/tests/f_ea_checks/name e2fsprogs/tests/f_ea_checks/name
--- e2fsprogs-1.40.7/tests/f_ea_checks/name	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/tests/f_ea_checks/name	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+extended attribute block checks
diff -Nurp e2fsprogs-1.40.7/tests/f_extents/expect.1 e2fsprogs/tests/f_extents/expect.1
--- e2fsprogs-1.40.7/tests/f_extents/expect.1	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/tests/f_extents/expect.1	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1,52 @@
+Pass 1: Checking inodes, blocks, and sizes
+Inode 12 is in extent format, but superblock is missing EXTENTS feature
+Fix? yes
+
+Inode 12 has an invalid extent
+	(logical block 0, invalid physical block 21994527527949, len 17)
+Clear? yes
+
+Inode 12, i_blocks is 34, should be 0.  Fix? yes
+
+Inode 13 missing EXTENT_FL, but is in extents format
+Fix? yes
+
+Inode 17 has an invalid extent
+	(logical block 0, invalid physical block 22011707397135, len 15)
+Clear? yes
+
+Inode 17, i_blocks is 32, should be 0.  Fix? yes
+
+Error while reading over extent tree in inode 18: Corrupt extent header
+Clear inode? yes
+
+Inode 18, i_blocks is 2, should be 0.  Fix? yes
+
+Pass 2: Checking directory structure
+Entry 'fbad-flag' in / (2) has deleted/unused inode 18.  Clear? yes
+
+Pass 3: Checking directory connectivity
+Pass 4: Checking reference counts
+Pass 5: Checking group summary information
+Block bitmap differences:  -1081 +4611 -(5121--5142)
+Fix? yes
+
+Free blocks count wrong for group #0 (7081, counted=7098).
+Fix? yes
+
+Free blocks count wrong (7081, counted=7098).
+Fix? yes
+
+Inode bitmap differences:  -18
+Fix? yes
+
+Free inodes count wrong for group #0 (237, counted=238).
+Fix? yes
+
+Free inodes count wrong (237, counted=238).
+Fix? yes
+
+
+test_filesys: ***** FILE SYSTEM WAS MODIFIED *****
+test_filesys: 18/256 files (0.0% non-contiguous), 1094/8192 blocks
+Exit status is 1
diff -Nurp e2fsprogs-1.40.7/tests/f_extents/expect.2 e2fsprogs/tests/f_extents/expect.2
--- e2fsprogs-1.40.7/tests/f_extents/expect.2	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/tests/f_extents/expect.2	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1,7 @@
+Pass 1: Checking inodes, blocks, and sizes
+Pass 2: Checking directory structure
+Pass 3: Checking directory connectivity
+Pass 4: Checking reference counts
+Pass 5: Checking group summary information
+test_filesys: 18/256 files (0.0% non-contiguous), 1094/8192 blocks
+Exit status is 0
diff -Nurp e2fsprogs-1.40.7/tests/f_extents/name e2fsprogs/tests/f_extents/name
--- e2fsprogs-1.40.7/tests/f_extents/name	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/tests/f_extents/name	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+basic extents support
diff -Nurp e2fsprogs-1.40.7/tests/f_extents/script e2fsprogs/tests/f_extents/script
--- e2fsprogs-1.40.7/tests/f_extents/script	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/tests/f_extents/script	1970-01-01 00:00:00.000000000 +0000
@@ -1,2 +0,0 @@
-rm -f $test_name.ok $test_name.failed
-echo "skipped"
diff -Nurp e2fsprogs-1.40.7/tests/f_swapfs/debugfs.cmd e2fsprogs/tests/f_swapfs/debugfs.cmd
--- e2fsprogs-1.40.7/tests/f_swapfs/debugfs.cmd	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/tests/f_swapfs/debugfs.cmd	1970-01-01 00:00:00.000000000 +0000
@@ -1,5 +0,0 @@
-ls
-stat sym
-stat double-indirect-test
-cat fluff
-quit
diff -Nurp e2fsprogs-1.40.7/tests/f_swapfs/expect e2fsprogs/tests/f_swapfs/expect
--- e2fsprogs-1.40.7/tests/f_swapfs/expect	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/tests/f_swapfs/expect	1970-01-01 00:00:00.000000000 +0000
@@ -1,133 +0,0 @@
-Swapfs test
-e2fsck -yf -N test_filesys
-Pass 1: Checking inodes, blocks, and sizes
-Pass 2: Checking directory structure
-Pass 3: Checking directory connectivity
-Pass 4: Checking reference counts
-Pass 5: Checking group summary information
-test_filesys: 25/256 files (0.0% non-contiguous), 418/1024 blocks
-Exit status is 0
-e2fsck -Sy -N test_filesys
-Pass 0: Doing byte-swap of filesystem
-Pass 1: Checking inodes, blocks, and sizes
-Pass 2: Checking directory structure
-Pass 3: Checking directory connectivity
-Pass 4: Checking reference counts
-Pass 5: Checking group summary information
-test_filesys: 25/256 files (0.0% non-contiguous), 418/1024 blocks
-Exit status is 0
-Running debugfs....
-debugfs: ls
- 2  (12) .    2  (12) ..    11  (20) lost+found    12  (16) fluff   
- 13  (28) indirect-fluff-test    14  (28) double-indirect-test   
- 15  (20) sym    16  (24) long-sym-test    17  (864) dir-test   
-debugfs: stat sym
-Inode: 15   Type: symlink    Mode:  0777   Flags: 0x0   Generation: 1
-User:     0   Group:     0   Size: 5
-File ACL: 0    Directory ACL: 0
-Links: 1   Blockcount: 0
-Fragment:  Address: 0    Number: 0    Size: 0
-ctime: 0x322737e2 -- Fri Aug 30 18:50:10 1996
-atime: 0x322737e2 -- Fri Aug 30 18:50:10 1996
-mtime: 0x322737e2 -- Fri Aug 30 18:50:10 1996
-Fast_link_dest: fluff
-debugfs: stat double-indirect-test
-Inode: 14   Type: regular    Mode:  0644   Flags: 0x0   Generation: 1
-User:     0   Group:     0   Size: 348960
-File ACL: 0    Directory ACL: 0
-Links: 1   Blockcount: 688
-Fragment:  Address: 0    Number: 0    Size: 0
-ctime: 0x322488cf -- Wed Aug 28 17:58:39 1996
-atime: 0x322488cf -- Wed Aug 28 17:58:39 1996
-mtime: 0x322488cf -- Wed Aug 28 17:58:39 1996
-BLOCKS:
-(0-11):70-81, (IND):82, (12-267):83-338, (DIND):339, (IND):340, (268-340):341-413
-TOTAL: 344
-
-debugfs: cat fluff
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-
-debugfs: quit
-Exit status is 0
-e2fsck -yf -N test_filesys
-Pass 1: Checking inodes, blocks, and sizes
-Pass 2: Checking directory structure
-Pass 3: Checking directory connectivity
-Pass 4: Checking reference counts
-Pass 5: Checking group summary information
-test_filesys: 25/256 files (0.0% non-contiguous), 418/1024 blocks
-Exit status is 0
-e2fsck -sy -N test_filesys
-Pass 0: Doing byte-swap of filesystem
-Pass 1: Checking inodes, blocks, and sizes
-Pass 2: Checking directory structure
-Pass 3: Checking directory connectivity
-Pass 4: Checking reference counts
-Pass 5: Checking group summary information
-test_filesys: 25/256 files (0.0% non-contiguous), 418/1024 blocks
-Exit status is 0
-Running debugfs....
-debugfs: ls
- 2  (12) .    2  (12) ..    11  (20) lost+found    12  (16) fluff   
- 13  (28) indirect-fluff-test    14  (28) double-indirect-test   
- 15  (20) sym    16  (24) long-sym-test    17  (864) dir-test   
-debugfs: stat sym
-Inode: 15   Type: symlink    Mode:  0777   Flags: 0x0   Generation: 1
-User:     0   Group:     0   Size: 5
-File ACL: 0    Directory ACL: 0
-Links: 1   Blockcount: 0
-Fragment:  Address: 0    Number: 0    Size: 0
-ctime: 0x322737e2 -- Fri Aug 30 18:50:10 1996
-atime: 0x322737e2 -- Fri Aug 30 18:50:10 1996
-mtime: 0x322737e2 -- Fri Aug 30 18:50:10 1996
-Fast_link_dest: fluff
-debugfs: stat double-indirect-test
-Inode: 14   Type: regular    Mode:  0644   Flags: 0x0   Generation: 1
-User:     0   Group:     0   Size: 348960
-File ACL: 0    Directory ACL: 0
-Links: 1   Blockcount: 688
-Fragment:  Address: 0    Number: 0    Size: 0
-ctime: 0x322488cf -- Wed Aug 28 17:58:39 1996
-atime: 0x322488cf -- Wed Aug 28 17:58:39 1996
-mtime: 0x322488cf -- Wed Aug 28 17:58:39 1996
-BLOCKS:
-(0-11):70-81, (IND):82, (12-267):83-338, (DIND):339, (IND):340, (268-340):341-413
-TOTAL: 344
-
-debugfs: cat fluff
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-yabba dabba doo.  cocka doodle doo.  yabba dabba doo.  cocka doodle doo. yipyip
-
-debugfs: quit
-Exit status is 0
-e2fsck -yf -N test_filesys
-Pass 1: Checking inodes, blocks, and sizes
-Pass 2: Checking directory structure
-Pass 3: Checking directory connectivity
-Pass 4: Checking reference counts
-Pass 5: Checking group summary information
-test_filesys: 25/256 files (0.0% non-contiguous), 418/1024 blocks
-Exit status is 0
Files e2fsprogs-1.40.7/tests/f_swapfs/image and e2fsprogs/tests/f_swapfs/image differ
Files e2fsprogs-1.40.7/tests/f_swapfs/image.gz and e2fsprogs/tests/f_swapfs/image.gz differ
diff -Nurp e2fsprogs-1.40.7/tests/f_swapfs/name e2fsprogs/tests/f_swapfs/name
--- e2fsprogs-1.40.7/tests/f_swapfs/name	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/tests/f_swapfs/name	1970-01-01 00:00:00.000000000 +0000
@@ -1 +0,0 @@
-checking the e2fsck swapfs functionality
diff -Nurp e2fsprogs-1.40.7/tests/f_swapfs/script e2fsprogs/tests/f_swapfs/script
--- e2fsprogs-1.40.7/tests/f_swapfs/script	2008-02-28 23:03:53.000000000 +0000
+++ e2fsprogs/tests/f_swapfs/script	1970-01-01 00:00:00.000000000 +0000
@@ -1,79 +0,0 @@
-if $FSCK -SV > /dev/null 2>&1 ; then
-    IMAGE=$test_dir/image.gz
-    VERIFY_FSCK_OPT=-yf
-    SWAP_FSCK_OPT=-Sy
-    NATIVE_FSCK_OPT=-sy
-    OUT=$test_name.log
-    EXP=$test_dir/expect
-    
-    gunzip < $IMAGE > $TMPFILE
-    
-    echo "Swapfs test" > $OUT
-    
-    echo e2fsck $VERIFY_FSCK_OPT -N test_filesys > $OUT.new
-    $FSCK $VERIFY_FSCK_OPT -N test_filesys $TMPFILE >> $OUT.new 2>&1
-    status=$?
-    echo Exit status is $status >> $OUT.new
-    sed -e '2d' $OUT.new >> $OUT
-    
-    echo e2fsck $SWAP_FSCK_OPT -N test_filesys > $OUT.new
-    $FSCK $SWAP_FSCK_OPT -N test_filesys $TMPFILE >> $OUT.new 2>&1
-    status=$?
-    echo Exit status is $status >> $OUT.new
-    sed -e '2d' $OUT.new >> $OUT
-    
-    echo Running debugfs.... >> $OUT
-    $DEBUGFS -f $test_dir/debugfs.cmd $TMPFILE > $OUT.new 2>&1 
-    status=$?
-    echo Exit status is $status >> $OUT.new
-    sed -e '1d' $OUT.new >> $OUT
-    
-    echo e2fsck $VERIFY_FSCK_OPT -N test_filesys > $OUT.new
-    $FSCK $VERIFY_FSCK_OPT -N test_filesys $TMPFILE >> $OUT.new 2>&1
-    status=$?
-    echo Exit status is $status >> $OUT.new
-    sed -e '2d' $OUT.new >> $OUT
-    
-    echo e2fsck $NATIVE_FSCK_OPT -N test_filesys > $OUT.new
-    $FSCK $NATIVE_FSCK_OPT -N test_filesys $TMPFILE >> $OUT.new 2>&1
-    status=$?
-    echo Exit status is $status >> $OUT.new
-    sed -e '2d' $OUT.new >> $OUT
-    
-    echo Running debugfs.... >> $OUT
-    $DEBUGFS -f $test_dir/debugfs.cmd $TMPFILE > $OUT.new 2>&1 
-    status=$?
-    echo Exit status is $status >> $OUT.new
-    sed -e '1d' $OUT.new >> $OUT
-    
-    echo e2fsck $VERIFY_FSCK_OPT -N test_filesys > $OUT.new
-    $FSCK $VERIFY_FSCK_OPT -N test_filesys $TMPFILE >> $OUT.new 2>&1
-    status=$?
-    echo Exit status is $status >> $OUT.new
-    sed -e '2d' $OUT.new >> $OUT
-    rm -f $OUT.new
-    
-    rm $TMPFILE
-    
-    #
-    # Do the verification
-    #
-    
-    rm -f $test_name.ok $test_name.failed
-    cmp -s $OUT $EXP
-    status=$?
-    
-    if [ "$status" = 0 ] ; then
-	    echo "ok"
-	    touch $test_name.ok
-    else
-	    echo "failed"
-	    diff $DIFF_OPTS $EXP $OUT > $test_name.failed
-    fi
-    
-    unset IMAGE VERIFY_FSCK_OPT SWAP_FSCK_OPT NATIVE_FSCK_OPT OUT EXP 
-
-else
-    rm -f $test_name.ok $test_name.failed
-    echo "skipped"
-fi
diff -Nurp e2fsprogs-1.40.7/tests/f_unsorted_EAs/expect.1 e2fsprogs/tests/f_unsorted_EAs/expect.1
--- e2fsprogs-1.40.7/tests/f_unsorted_EAs/expect.1	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/tests/f_unsorted_EAs/expect.1	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1,11 @@
+Adding dirhash hint to filesystem.
+
+Pass 1: Checking inodes, blocks, and sizes
+Pass 2: Checking directory structure
+Pass 3: Checking directory connectivity
+Pass 4: Checking reference counts
+Pass 5: Checking group summary information
+
+test_filesys: ***** FILE SYSTEM WAS MODIFIED *****
+test_filesys: 12/2048 files (0.0% non-contiguous), 1294/2048 blocks
+Exit status is 1
diff -Nurp e2fsprogs-1.40.7/tests/f_unsorted_EAs/expect.2 e2fsprogs/tests/f_unsorted_EAs/expect.2
--- e2fsprogs-1.40.7/tests/f_unsorted_EAs/expect.2	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/tests/f_unsorted_EAs/expect.2	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1,7 @@
+Pass 1: Checking inodes, blocks, and sizes
+Pass 2: Checking directory structure
+Pass 3: Checking directory connectivity
+Pass 4: Checking reference counts
+Pass 5: Checking group summary information
+test_filesys: 12/2048 files (0.0% non-contiguous), 1294/2048 blocks
+Exit status is 0
Files e2fsprogs-1.40.7/tests/f_unsorted_EAs/image.gz and e2fsprogs/tests/f_unsorted_EAs/image.gz differ
diff -Nurp e2fsprogs-1.40.7/tests/f_unsorted_EAs/name e2fsprogs/tests/f_unsorted_EAs/name
--- e2fsprogs-1.40.7/tests/f_unsorted_EAs/name	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/tests/f_unsorted_EAs/name	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1 @@
+unsorted EAs in inode should not be deleted
diff -Nurp e2fsprogs-1.40.7/tests/m_raid_opt/expect.1 e2fsprogs/tests/m_raid_opt/expect.1
--- e2fsprogs-1.40.7/tests/m_raid_opt/expect.1	2008-02-28 15:22:48.000000000 +0000
+++ e2fsprogs/tests/m_raid_opt/expect.1	2008-02-29 11:23:57.000000000 +0000
@@ -151,7 +151,6 @@ Blocks per group:         1024
 Fragments per group:      1024
 Inodes per group:         256
 Inode blocks per group:   32
-RAID stride:              13
 Mount count:              0
 Check interval:           15552000 (6 months)
 Reserved blocks uid:      0
diff -Nurp e2fsprogs-1.40.7/tests/r_inline_xattr/expect e2fsprogs/tests/r_inline_xattr/expect
--- e2fsprogs-1.40.7/tests/r_inline_xattr/expect	2008-02-28 23:09:22.000000000 +0000
+++ e2fsprogs/tests/r_inline_xattr/expect	1970-01-01 00:00:00.000000000 +0000
@@ -1,16 +0,0 @@
-resize2fs test
-debugfs -R ''stat file'' ./test.img 2>&1 | grep ''^Inode\|in inode body\|name = ''
-Inode: 1550   Type: regular    Mode:  0644   Flags: 0x0   Generation: 3498507810
-Extended attributes stored in inode body: 
-  name = "propervalue" (11)
-Exit status is 0
-resize2fs ./test.img 5M
-Resizing the filesystem on ./test.img to 5120 (1k) blocks.
-The filesystem on ./test.img is now 5120 blocks long.
-
-Exit status is 0
-debugfs -R ''stat file'' ./test.img 2>&1 | grep ''^Inode\|in inode body\|name = ''
-Inode: 12   Type: regular    Mode:  0644   Flags: 0x0   Generation: 3498507810
-Extended attributes stored in inode body: 
-  name = "propervalue" (11)
-Exit status is 0
Files e2fsprogs-1.40.7/tests/r_inline_xattr/image.gz and e2fsprogs/tests/r_inline_xattr/image.gz differ
diff -Nurp e2fsprogs-1.40.7/tests/r_inline_xattr/name e2fsprogs/tests/r_inline_xattr/name
--- e2fsprogs-1.40.7/tests/r_inline_xattr/name	2008-02-28 23:17:07.000000000 +0000
+++ e2fsprogs/tests/r_inline_xattr/name	1970-01-01 00:00:00.000000000 +0000
@@ -1 +0,0 @@
-shrinking filesystem with in-inode extended attributes
diff -Nurp e2fsprogs-1.40.7/tests/r_inline_xattr/script e2fsprogs/tests/r_inline_xattr/script
--- e2fsprogs-1.40.7/tests/r_inline_xattr/script	2008-02-28 23:09:22.000000000 +0000
+++ e2fsprogs/tests/r_inline_xattr/script	1970-01-01 00:00:00.000000000 +0000
@@ -1,55 +0,0 @@
-if test -x $RESIZE2FS_EXE; then
-
-IMAGE=$test_dir/image.gz
-FSCK_OPT=-yf
-OUT=$test_name.log
-EXP=$test_dir/expect
-
-gunzip < $IMAGE > $TMPFILE
-
-echo "resize2fs test" > $OUT
-
-# Look at existing inline extended attribute
-echo "debugfs -R ''stat file'' $TMPFILE 2>&1 | grep ''^Inode\|in inode body\|name = ''" >> $OUT
-$DEBUGFS -R "stat file" $TMPFILE 2>&1 | grep "^Inode\|in inode body\|name = " >> $OUT
-status=$?
-echo Exit status is $status >> $OUT
-
-# resize it
-echo "resize2fs $TMPFILE 5M" >> $OUT
-$RESIZE2FS $TMPFILE 5M 2>&1 >> $OUT.new 2>&1
-status=$?
-echo Exit status is $status >> $OUT.new
-sed -e '1d' $OUT.new >> $OUT
-
-# Look at inline extended attribute in resized fs
-echo "debugfs -R ''stat file'' $TMPFILE 2>&1 | grep ''^Inode\|in inode body\|name = ''" >> $OUT
-$DEBUGFS -R "stat file" $TMPFILE 2>&1 | grep "^Inode\|in inode body\|name = " >> $OUT
-status=$?
-echo Exit status is $status >> $OUT
-
-rm $TMPFILE $OUT.new
-
-#
-# Do the verification
-#
-
-rm -f $test_name.ok $test_name.failed
-cmp -s $OUT $EXP
-status=$?
-
-if [ "$status" = 0 ] ; then
-	echo "ok"
-	touch $test_name.ok
-else
-	echo "failed"
-	diff $DIFF_OPTS $EXP $OUT > $test_name.failed
-fi
-
-unset IMAGE FSCK_OPT OUT EXP
-
-else #if test -x $RESIZE2FS; then
-        rm -f $test_name.ok $test_name.failed
-        echo "skipped"
-fi
-
diff -Nurp e2fsprogs-1.40.7/tests/r_move_itable/name e2fsprogs/tests/r_move_itable/name
--- e2fsprogs-1.40.7/tests/r_move_itable/name	2008-02-29 00:51:19.000000000 +0000
+++ e2fsprogs/tests/r_move_itable/name	1970-01-01 00:00:00.000000000 +0000
@@ -1 +0,0 @@
-filesystem resize which requires moving the inode table 
diff -Nurp e2fsprogs-1.40.7/tests/r_move_itable/script e2fsprogs/tests/r_move_itable/script
--- e2fsprogs-1.40.7/tests/r_move_itable/script	2008-02-29 00:51:29.000000000 +0000
+++ e2fsprogs/tests/r_move_itable/script	2008-02-29 11:23:57.000000000 +0000
@@ -1,3 +1,5 @@
+printf "resize2fs with resize_inode: "
+
 if test -x $RESIZE2FS_EXE; then
 
 FSCK_OPT=-yf
diff -Nurp e2fsprogs-1.40.7/tests/r_resize_inode/name e2fsprogs/tests/r_resize_inode/name
--- e2fsprogs-1.40.7/tests/r_resize_inode/name	2008-02-29 00:52:17.000000000 +0000
+++ e2fsprogs/tests/r_resize_inode/name	1970-01-01 00:00:00.000000000 +0000
@@ -1,2 +0,0 @@
-filesystem resize with a resize_inode present
-
diff -Nurp e2fsprogs-1.40.7/tests/r_resize_inode/script e2fsprogs/tests/r_resize_inode/script
--- e2fsprogs-1.40.7/tests/r_resize_inode/script	2008-02-29 00:52:21.000000000 +0000
+++ e2fsprogs/tests/r_resize_inode/script	2008-02-29 11:23:57.000000000 +0000
@@ -1,3 +1,5 @@
+printf "resize2fs with resize_inode: "
+
 if test -x $RESIZE2FS_EXE; then
 
 FSCK_OPT=-yf
diff -Nurp e2fsprogs-1.40.7/TODO e2fsprogs/TODO
--- e2fsprogs-1.40.7/TODO	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/TODO	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1,277 @@
+Need to process the bad block inode *before* doing the inode scan.
+
+Also check to see if the first block of the inode table is not on the
+bad block scan, and fix that.  We need to check for an inaccurate
+blocks, and fix them before we start doing anything else with the
+filesystem!
+
+---------------------------------------------------
+User request:
+
+BTW: Could you please add some sort of deleted and possibly corrupted file
+     and inode list to e2fsck report. There should be filenames deleted
+     from directory inodes, files with duplicate blocks e.t.c.
+     It's pretty annoying to filter this information from e2fsck output
+     by hand :-
+
+------------------------------------------
+
+Add a "answer Yes always to this class of question" response.
+
+----------------------------------
+
+ext2fs_flush() should return a different error message for primary
+versus backup superblock flushing, so that mke2fs can print an
+appropriate error message.
+
+---------------------------------
+Date: Mon, 08 Mar 1999 21:46:14 +0100
+From: Sergio Polini <s.polini@mclink.it>
+
+
+I'm reading the sorce code of e2fsck 1.14.
+In pass2.c, lines 352-357, I read:
+
+if ((dirent->name_len & 0xFF) > EXT2_NAME_LEN) {
+        if (fix_problem(ctx, PR_2_FILENAME_LONG, &cd->pctx)) {
+                dirent->name_len = EXT2_NAME_LEN;
+                dir_modified++;
+        }
+}
+
+I think that I'll never see any messages about too long filenames,
+because "whatever & 0xFF" can never be "> 0xFF".
+Am I wrong?
+--------------------------------------
+
+Add chmod command to debugfs.
+
+------------------------------------------
+
+Date: Tue, 18 Jan 2000 17:54:53 -0800 (PST)
+From: Alan Blanchard <alan@abraxas.to>
+To: tytso@MIT.EDU
+Subject: DEBUGFS - thanks and a feature idea
+Content-Type: TEXT/PLAIN; charset=US-ASCII
+
+Theodore:
+
+First, let me thank you for writing debugfs. Recently, my Linux box
+(RH 6.0, 400 MHz PIII, on a DSL line) was hacked into.  The intruder did
+an "rm -Rf" on a 34 GB drive with about 5GB of data on it.  I was able to
+restore essentially the entire thing with debugfs and a bit of C code and Perl.
+Actually, I could have done the entire thing with debugfs and Perl, but I
+thought it would be too slow.
+
+During this exercise, I noticed that one small feature was lacking that would
+have made my job a bit easier.  The length of a deleted directory is
+reported as 0, hence debugfs won't dump the contents of the directory to a
+file using the "dump" command.  The only thing that saved me was that the
+list of disk blocks is not zeroed out.  I was able to dump the contents of the
+directories by using debugfs to get the relevant block numbers, then
+using dd to get the actual data.
+
+If debugfs had a feature where it ignored the size of a directory reported by
+the inode and instead just dumped all the blocks, it would have facilited
+things a bit. This seems like a very easy feature to add.
+
+Again, thanks for writing debugfs (and all the other Linux stuff you've written!).
+
+Cheers,
+Alan Blanchard
+alan@abraxas.to
+
+
+-------------------------------------------------------------------
+
+Date: Fri, 21 Jan 2000 14:07:12 -0800
+From: "H. Peter Anvin" <hpa@www.transmeta.com>
+Subject: mkfs -cc and fsck -c
+
+b) An option to mkfs to zero the partition.  Yes, it can be done with
+dd, but it would be a nicer way of doing it.
+
+------------------------------------------------------------------
+
+Add support for in ext2fs_block_iterate() for a returning the
+compressed flag blocks to block_iterate.  Change default to not return
+EXT2_COMPRESSED_BLKADDR.  Change e2fsck to pass this flag in.
+
+(The old compression patches did this by default all the time, which
+is bad, since it meant e2fsck never saw the EXT2_COMPRESSED_BLKADDR
+flagword.
+
+------------------------------------------------------------
+
+E2fsck should offer to clear all the blocks in an indirect block, not
+the entire inode, so there's better recovery for when an indirect
+block gets trashed.
+
+
+-------------------------------------------------------------
+
+From: Yann Dirson - LOGATIQUE <Yann.Dirson@France.Sun.COM>
+Date: Thu, 2 Mar 2000 13:52:13 +0100 (MET)
+
+During my experiments on the broken system, I noticed the following in
+the badblocks program (which I'm aware is not designed for IDE drives)
+- I'd probably have already fixed them if my home system was up :(
+
+* the syntax summary documents 2nd arg as blocks_count, which should
+probably read something like end_count.
+
+* testing past end of device is not detected, and lists those blocks
+as bad, whereas they simply do not exist.
+
+
+I think I'll probably add a "max count" option to findsuper(8), so
+that I do not have to wait for the whole disk to be scanned when the
+system had to be launched with "init=/bin/sh", in which case Ctrl-[CZ]
+and friends appear to be absolutely ignored.
+
+
+Somewhat unrelated, I just noticed the
+http://web.mit.edu/tytso/www/linux/ext2.html could be updated:
+
+- could mention SGI xfs (http://oss.sgi.com/projects/xfs/ - they just
+  release 0.03 snapshot)
+
+----------------------------------------------------------------
+
+Return-Path: <tytso@MIT.EDU>
+Date: Thu, 10 Feb 2000 13:20:14 -0500
+From: "Theodore Y. Ts'o" <tytso@MIT.EDU>
+To: R.E.Wolff@BitWizard.nl
+In-Reply-To: Rogier Wolff's message of Thu, 10 Feb 2000 08:46:30 +0100 (MET),
+	<200002100746.IAA24573@cave.bitwizard.nl>
+Subject: Re: e2fsck request for enhancement.
+Phone: (781) 391-3464
+
+   Date: Thu, 10 Feb 2000 08:46:30 +0100 (MET)
+   From: R.E.Wolff@BitWizard.nl (Rogier Wolff)
+
+   Lately, while trying to recover a broken disk, my system froze (twice,
+   until I tried something else) while copying the disk.
+
+   So I had a file of about 50Mb that was growing frantically at the
+   moment of the crash.
+
+   e2fsck, then finds an indirect block that is completely bogus. It
+   starts by asking me if it's ok to clear a few of the referenced
+   blocks. I say yes. Then it comes to the conclusion: 
+
+      too many invalid blocks. Clear inode?
+
+   and then I get the option to delete the whole file. Not to truncate
+   the file to a "working" size.
+
+
+   I'd MUCH rather have e2fsck say something like:
+
+      inode 1234 references an invalid block 134345454. Hmm.
+      inode 1234 references 567 out of 50176 invalid blocks, 
+			  all near the end. Truncate file to 49152 blocks?
+
+   Here you can see that of the 1024 blocks near the end of the file,
+   only 567 were detected as invalid. However now 48Mb of the file will
+   be recovered, instead of thrown away.
+
+That's a good point.  Actually, the right thing is for e2fsck to offer
+to clear all of the bad blocks in a particular indirect block.  I don't
+know how hard it would be to do that, but I'll put it on my e2fsprogs
+TODO list.
+
+							- Ted
+
+---------------------------------------------------------------
+From e2fsprogs Debian TODO file as of 1.10-13.
+
+* Maybe make -dbg packages. Look at how others do it.
+
+---------------------------------------------------------------
+
+Add --lba option to debian icheck command, and have ways of making it
+easier to translate LBA to filesystem block numbers.
+
+-------------------------------------------------------
+
+
+
+List of projects for e2fsprogs:
+
+
+1) Make debugfs's "ncheck <inode>" command list all of the pathnames
+to an inode, not just only the first link to the inode which is found.
+(A good "intro to libext2fs programming interfaces project)
+
+	Difficulty: Low		Priority: Low
+
+2) Use a code coverage tool such as Rational's PureCoverage to see
+what kind of code coverage we have for e2fsck, and try to add test
+cases to increase the code coverage for e2fsck.
+
+	Difficulty: Medium	Priorty: Low
+
+3) Use a code coverage tool such as Rational's PureCoverage to see
+what kind of code coverage we have for resize2fs, and try to add test
+cases to increase the code coverage for resize2fs.
+
+	Difficulty: Medium	Priorty: Medium
+
+4) Create a new I/O manager (i.e., test_io.c, unix_io.c, et.al.) which
+layers on top of an existing I/O manager which provides copy-on-write
+functionality.  This COW I/O manager takes will take two open I/O
+managers, call them "base" and "changed".  The "base" I/O manager is
+opened read/only, so any changes are written instead to the "changed"
+I/O manager, in a compact, non-sparse format containing the intended
+modification to the "base" filesystem.  
+
+This will allow resize2fs to figure out what changes need to made to
+extend a filesystem, or expand the size of inodes in the inode table,
+and the changes can be pushed the filesystem in one fell swoop.  (If
+the system crashes; the program which runs the "changed" file can be
+re-run, much like a journal replay.  My assumption is that the COW
+file will contain the filesystem UUID in a the COW superblock, and the
+COW file will be stored in some place such as /var/state/e2fsprogs,
+with an init.d file to automate the replay so we can recover cleanly
+from a crash during the resize2fs process.)
+
+	Difficulty: Medium	Priority: Medium
+
+5) Create a new I/O manager (i.e., test_io.c, unix_io.c, et.al.) which
+layers on top of an existing I/O manager which provides an "undo"
+functionality.  This undo I/O manager takes will take two open I/O
+managers, call them "base" and "undo".  The "base" I/O manager is be
+opened read/write, and when any writes are sent to the I/O manager,
+the I/O manager will check the "undo" I/O manager, using a file format
+identical to the one found in (5) above.  
+
+This is useful for allowing e2fsck to create an "undo" file, which
+would make things like "e2fsck -y" much safer.
+
+	Difficulty: Low (once 5 is done)  Priority: Low
+
+6) Modify resize2fs so that it can relocate and reorganize the
+filesystem in the following ways: (1) increase the inode size, so that
+an existing filesystem can use the EA-in-inode kernel patch, (2)
+reserve blocks in the resize inode to allow for on-line resizing.  Use
+the COW I/O manager described in (5) in order to provide robustness in
+case of a crash during the resize/reorganization operation.  
+
+	Difficulty: High	Priority: Medium
+
+7) Review the EA-in-inode patches to e2fsck for correctness/code
+cleanliness.  (I will probably have to do this myself -- Ted)
+
+	Difficulty: High	Priorty: Medium
+
+8) Add support for extent maps to e2fsprogs.  I need to review the
+extent maps first/in parallel. 
+
+	Difficulty: High	Priority: Medium
+
+----------------------------------
+
+Need to deal with the case where the resize inode overlaps with the
+bad blocks inode.
+
diff -Nurp e2fsprogs-1.40.7/util/Makefile.pq e2fsprogs/util/Makefile.pq
--- e2fsprogs-1.40.7/util/Makefile.pq	1970-01-01 00:00:00.000000000 +0000
+++ e2fsprogs/util/Makefile.pq	2008-02-29 11:23:57.000000000 +0000
@@ -0,0 +1,10 @@
+TOPSRC=..
+
+!include $(TOPSRC)\powerquest\MCONFIG
+
+ALL:: libecho.exe
+
+libecho.exe: libecho.c
+
+clean:: 
+	$(RM) libecho.exe
diff -Nurp e2fsprogs-1.40.7/version.h e2fsprogs/version.h
--- e2fsprogs-1.40.7/version.h	2008-02-29 04:45:09.000000000 +0000
+++ e2fsprogs/version.h	2008-02-29 11:23:57.000000000 +0000
@@ -7,5 +7,5 @@
  * redistributed under the GNU Public License.
  */
 
-#define E2FSPROGS_VERSION "1.40.7"
-#define E2FSPROGS_DATE "28-Feb-2008"
+#define E2FSPROGS_VERSION "1.40.6"
+#define E2FSPROGS_DATE "09-Feb-2008"
